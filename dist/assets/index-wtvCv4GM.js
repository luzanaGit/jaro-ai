(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Ky={exports:{}},sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function SN(){if(g0)return sf;g0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:n,key:c,ref:a!==void 0?a:null,props:l}}return sf.Fragment=e,sf.jsx=t,sf.jsxs=t,sf}var _0;function RN(){return _0||(_0=1,Ky.exports=SN()),Ky.exports}var C=RN(),Qy={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function CN(){if(y0)return nt;y0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,H={};function F(O,de,Ae){this.props=O,this.context=de,this.refs=H,this.updater=Ae||V}F.prototype.isReactComponent={},F.prototype.setState=function(O,de){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,de,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Z(){}Z.prototype=F.prototype;function ne(O,de,Ae){this.props=O,this.context=de,this.refs=H,this.updater=Ae||V}var le=ne.prototype=new Z;le.constructor=ne,L(le,F.prototype),le.isPureReactComponent=!0;var Ee=Array.isArray,ye={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function P(O,de,Ae,ge,Pe,Xe){return Ae=Xe.ref,{$$typeof:i,type:O,key:de,ref:Ae!==void 0?Ae:null,props:Xe}}function S(O,de){return P(O.type,de,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var de={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ae){return de[Ae]})}var B=/\/+/g;function z(O,de){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):de.toString(36)}function j(){}function wn(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(j,j):(O.status="pending",O.then(function(de){O.status==="pending"&&(O.status="fulfilled",O.value=de)},function(de){O.status==="pending"&&(O.status="rejected",O.reason=de)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Bt(O,de,Ae,ge,Pe){var Xe=typeof O;(Xe==="undefined"||Xe==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(Xe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case i:case e:Ve=!0;break;case y:return Ve=O._init,Bt(Ve(O._payload),de,Ae,ge,Pe)}}if(Ve)return Pe=Pe(O),Ve=ge===""?"."+z(O,0):ge,Ee(Pe)?(Ae="",Ve!=null&&(Ae=Ve.replace(B,"$&/")+"/"),Bt(Pe,de,Ae,"",function(Ai){return Ai})):Pe!=null&&(x(Pe)&&(Pe=S(Pe,Ae+(Pe.key==null||O&&O.key===Pe.key?"":(""+Pe.key).replace(B,"$&/")+"/")+Ve)),de.push(Pe)),1;Ve=0;var sn=ge===""?".":ge+":";if(Ee(O))for(var we=0;we<O.length;we++)ge=O[we],Xe=sn+z(ge,we),Ve+=Bt(ge,de,Ae,Xe,Pe);else if(we=T(O),typeof we=="function")for(O=we.call(O),we=0;!(ge=O.next()).done;)ge=ge.value,Xe=sn+z(ge,we++),Ve+=Bt(ge,de,Ae,Xe,Pe);else if(Xe==="object"){if(typeof O.then=="function")return Bt(wn(O),de,Ae,ge,Pe);throw de=String(O),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ae(O,de,Ae){if(O==null)return O;var ge=[],Pe=0;return Bt(O,ge,"","",function(Xe){return de.call(Ae,Xe,Pe++)}),ge}function be(O){if(O._status===-1){var de=O._result;de=de(),de.then(function(Ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ae)},function(Ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ae)}),O._status===-1&&(O._status=0,O._result=de)}if(O._status===1)return O._result.default;throw O._result}var Me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function pt(){}return nt.Children={map:ae,forEach:function(O,de,Ae){ae(O,function(){de.apply(this,arguments)},Ae)},count:function(O){var de=0;return ae(O,function(){de++}),de},toArray:function(O){return ae(O,function(de){return de})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},nt.Component=F,nt.Fragment=t,nt.Profiler=a,nt.PureComponent=ne,nt.StrictMode=n,nt.Suspense=m,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye,nt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ye.H.useMemoCache(O)}},nt.cache=function(O){return function(){return O.apply(null,arguments)}},nt.cloneElement=function(O,de,Ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ge=L({},O.props),Pe=O.key,Xe=void 0;if(de!=null)for(Ve in de.ref!==void 0&&(Xe=void 0),de.key!==void 0&&(Pe=""+de.key),de)!k.call(de,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&de.ref===void 0||(ge[Ve]=de[Ve]);var Ve=arguments.length-2;if(Ve===1)ge.children=Ae;else if(1<Ve){for(var sn=Array(Ve),we=0;we<Ve;we++)sn[we]=arguments[we+2];ge.children=sn}return P(O.type,Pe,void 0,void 0,Xe,ge)},nt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},nt.createElement=function(O,de,Ae){var ge,Pe={},Xe=null;if(de!=null)for(ge in de.key!==void 0&&(Xe=""+de.key),de)k.call(de,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Pe[ge]=de[ge]);var Ve=arguments.length-2;if(Ve===1)Pe.children=Ae;else if(1<Ve){for(var sn=Array(Ve),we=0;we<Ve;we++)sn[we]=arguments[we+2];Pe.children=sn}if(O&&O.defaultProps)for(ge in Ve=O.defaultProps,Ve)Pe[ge]===void 0&&(Pe[ge]=Ve[ge]);return P(O,Xe,void 0,void 0,null,Pe)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(O){return{$$typeof:d,render:O}},nt.isValidElement=x,nt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:be}},nt.memo=function(O,de){return{$$typeof:g,type:O,compare:de===void 0?null:de}},nt.startTransition=function(O){var de=ye.T,Ae={};ye.T=Ae;try{var ge=O(),Pe=ye.S;Pe!==null&&Pe(Ae,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(pt,Me)}catch(Xe){Me(Xe)}finally{ye.T=de}},nt.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()},nt.use=function(O){return ye.H.use(O)},nt.useActionState=function(O,de,Ae){return ye.H.useActionState(O,de,Ae)},nt.useCallback=function(O,de){return ye.H.useCallback(O,de)},nt.useContext=function(O){return ye.H.useContext(O)},nt.useDebugValue=function(){},nt.useDeferredValue=function(O,de){return ye.H.useDeferredValue(O,de)},nt.useEffect=function(O,de,Ae){var ge=ye.H;if(typeof Ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(O,de)},nt.useId=function(){return ye.H.useId()},nt.useImperativeHandle=function(O,de,Ae){return ye.H.useImperativeHandle(O,de,Ae)},nt.useInsertionEffect=function(O,de){return ye.H.useInsertionEffect(O,de)},nt.useLayoutEffect=function(O,de){return ye.H.useLayoutEffect(O,de)},nt.useMemo=function(O,de){return ye.H.useMemo(O,de)},nt.useOptimistic=function(O,de){return ye.H.useOptimistic(O,de)},nt.useReducer=function(O,de,Ae){return ye.H.useReducer(O,de,Ae)},nt.useRef=function(O){return ye.H.useRef(O)},nt.useState=function(O){return ye.H.useState(O)},nt.useSyncExternalStore=function(O,de,Ae){return ye.H.useSyncExternalStore(O,de,Ae)},nt.useTransition=function(){return ye.H.useTransition()},nt.version="19.1.0",nt}var v0;function uE(){return v0||(v0=1,Qy.exports=CN()),Qy.exports}var K=uE(),Yy={exports:{}},af={},Wy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function xN(){return E0||(E0=1,function(i){function e(ae,be){var Me=ae.length;ae.push(be);e:for(;0<Me;){var pt=Me-1>>>1,O=ae[pt];if(0<a(O,be))ae[pt]=be,ae[Me]=O,Me=pt;else break e}}function t(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var be=ae[0],Me=ae.pop();if(Me!==be){ae[0]=Me;e:for(var pt=0,O=ae.length,de=O>>>1;pt<de;){var Ae=2*(pt+1)-1,ge=ae[Ae],Pe=Ae+1,Xe=ae[Pe];if(0>a(ge,Me))Pe<O&&0>a(Xe,ge)?(ae[pt]=Xe,ae[Pe]=Me,pt=Pe):(ae[pt]=ge,ae[Ae]=Me,pt=Ae);else if(Pe<O&&0>a(Xe,Me))ae[pt]=Xe,ae[Pe]=Me,pt=Pe;else break e}}return be}function a(ae,be){var Me=ae.sortIndex-be.sortIndex;return Me!==0?Me:ae.id-be.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,E=null,T=3,V=!1,L=!1,H=!1,F=!1,Z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function Ee(ae){for(var be=t(g);be!==null;){if(be.callback===null)n(g);else if(be.startTime<=ae)n(g),be.sortIndex=be.expirationTime,e(m,be);else break;be=t(g)}}function ye(ae){if(H=!1,Ee(ae),!L)if(t(m)!==null)L=!0,k||(k=!0,z());else{var be=t(g);be!==null&&Bt(ye,be.startTime-ae)}}var k=!1,P=-1,S=5,x=-1;function M(){return F?!0:!(i.unstable_now()-x<S)}function B(){if(F=!1,k){var ae=i.unstable_now();x=ae;var be=!0;try{e:{L=!1,H&&(H=!1,ne(P),P=-1),V=!0;var Me=T;try{t:{for(Ee(ae),E=t(m);E!==null&&!(E.expirationTime>ae&&M());){var pt=E.callback;if(typeof pt=="function"){E.callback=null,T=E.priorityLevel;var O=pt(E.expirationTime<=ae);if(ae=i.unstable_now(),typeof O=="function"){E.callback=O,Ee(ae),be=!0;break t}E===t(m)&&n(m),Ee(ae)}else n(m);E=t(m)}if(E!==null)be=!0;else{var de=t(g);de!==null&&Bt(ye,de.startTime-ae),be=!1}}break e}finally{E=null,T=Me,V=!1}be=void 0}}finally{be?z():k=!1}}}var z;if(typeof le=="function")z=function(){le(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,wn=j.port2;j.port1.onmessage=B,z=function(){wn.postMessage(null)}}else z=function(){Z(B,0)};function Bt(ae,be){P=Z(function(){ae(i.unstable_now())},be)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(ae){switch(T){case 1:case 2:case 3:var be=3;break;default:be=T}var Me=T;T=be;try{return ae()}finally{T=Me}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(ae,be){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Me=T;T=ae;try{return be()}finally{T=Me}},i.unstable_scheduleCallback=function(ae,be,Me){var pt=i.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?pt+Me:pt):Me=pt,ae){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Me+O,ae={id:y++,callback:be,priorityLevel:ae,startTime:Me,expirationTime:O,sortIndex:-1},Me>pt?(ae.sortIndex=Me,e(g,ae),t(m)===null&&ae===t(g)&&(H?(ne(P),P=-1):H=!0,Bt(ye,Me-pt))):(ae.sortIndex=O,e(m,ae),L||V||(L=!0,k||(k=!0,z()))),ae},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(ae){var be=T;return function(){var Me=T;T=be;try{return ae.apply(this,arguments)}finally{T=Me}}}}(Xy)),Xy}var b0;function NN(){return b0||(b0=1,Wy.exports=xN()),Wy.exports}var Jy={exports:{}},vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function DN(){if(T0)return vi;T0=1;var i=uE();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,vi.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},vi.flushSync=function(m){var g=c.T,y=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=g,n.p=y,n.d.f()}},vi.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(m,g))},vi.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},vi.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?n.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:V}):y==="script"&&n.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vi.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);n.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(m)},vi.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin);n.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vi.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);n.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(m)},vi.requestFormReset=function(m){n.d.r(m)},vi.unstable_batchedUpdates=function(m,g){return m(g)},vi.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},vi.useFormStatus=function(){return c.H.useHostTransitionStatus()},vi.version="19.1.0",vi}var w0;function PN(){if(w0)return Jy.exports;w0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jy.exports=DN(),Jy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function ON(){if(A0)return af;A0=1;var i=NN(),e=uE(),t=PN();function n(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(n(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(n(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var _=f.alternate;if(_===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===_.child){for(_=f.child;_;){if(_===o)return d(f),r;if(_===u)return d(f),s;_=_.sibling}throw Error(n(188))}if(o.return!==u.return)o=f,u=_;else{for(var A=!1,R=f.child;R;){if(R===o){A=!0,o=f,u=_;break}if(R===u){A=!0,u=f,o=_;break}R=R.sibling}if(!A){for(R=_.child;R;){if(R===o){A=!0,o=_,u=f;break}if(R===u){A=!0,u=_,o=f;break}R=R.sibling}if(!A)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),le=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function wn(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case F:return"Profiler";case H:return"StrictMode";case ye:return"Suspense";case k:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case V:return"Portal";case le:return(r.displayName||"Context")+".Provider";case ne:return(r._context.displayName||"Context")+".Consumer";case Ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return s=r.displayName||null,s!==null?s:wn(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return wn(r(s))}catch{}}return null}var Bt=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},pt=[],O=-1;function de(r){return{current:r}}function Ae(r){0>O||(r.current=pt[O],pt[O]=null,O--)}function ge(r,s){O++,pt[O]=r.current,r.current=s}var Pe=de(null),Xe=de(null),Ve=de(null),sn=de(null);function we(r,s){switch(ge(Ve,s),ge(Xe,r),ge(Pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Hw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Hw(s),r=$w(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ae(Pe),ge(Pe,r)}function Ai(){Ae(Pe),Ae(Xe),Ae(Ve)}function Yr(r){r.memoizedState!==null&&ge(sn,r);var s=Pe.current,o=$w(s,r.type);s!==o&&(ge(Xe,r),ge(Pe,o))}function Wr(r){Xe.current===r&&(Ae(Pe),Ae(Xe)),sn.current===r&&(Ae(sn),Zd._currentValue=Me)}var ya=Object.prototype.hasOwnProperty,tr=i.unstable_scheduleCallback,ws=i.unstable_cancelCallback,Xr=i.unstable_shouldYield,Jr=i.unstable_requestPaint,Ui=i.unstable_now,Zh=i.unstable_getCurrentPriorityLevel,ql=i.unstable_ImmediatePriority,vo=i.unstable_UserBlockingPriority,va=i.unstable_NormalPriority,ed=i.unstable_LowPriority,Eo=i.unstable_IdlePriority,As=i.log,nr=i.unstable_setDisableYieldValue,zt=null,wt=null;function Ii(r){if(typeof As=="function"&&nr(r),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(zt,r)}catch{}}var an=Math.clz32?Math.clz32:Tr,Zr=Math.log,Is=Math.LN2;function Tr(r){return r>>>=0,r===0?32:31-(Zr(r)/Is|0)|0}var Ea=256,es=4194304;function ir(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function bo(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,_=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~_,u!==0?f=ir(u):(A&=R,A!==0?f=ir(A):o||(o=R&~r,o!==0&&(f=ir(o))))):(R=u&~_,R!==0?f=ir(R):A!==0?f=ir(A):o||(o=u&~r,o!==0&&(f=ir(o)))),f===0?0:s!==0&&s!==f&&(s&_)===0&&(_=f&-f,o=s&-s,_>=o||_===32&&(o&4194048)!==0)?s:f}function ba(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Hl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var r=Ea;return Ea<<=1,(Ea&4194048)===0&&(Ea=256),r}function Gl(){var r=es;return es<<=1,(es&62914560)===0&&(es=4194304),r}function wr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ji(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function To(r,s,o,u,f,_){var A=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,U=r.expirationTimes,J=r.hiddenUpdates;for(o=A&~o;0<o;){var oe=31-an(o),he=1<<oe;R[oe]=0,U[oe]=-1;var ee=J[oe];if(ee!==null)for(J[oe]=null,oe=0;oe<ee.length;oe++){var te=ee[oe];te!==null&&(te.lane&=-536870913)}o&=~he}u!==0&&rr(r,u,0),_!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=_&~(A&~s))}function rr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-an(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Kl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-an(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Ss(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Rs(){var r=be.p;return r!==0?r:(r=window.event,r===void 0?32:u0(r.type))}function ts(r,s){var o=be.p;try{return be.p=r,s()}finally{be.p=o}}var It=Math.random().toString(36).slice(2),fn="__reactFiber$"+It,on="__reactProps$"+It,Bi="__reactContainer$"+It,Ql="__reactEvents$"+It,td="__reactListeners$"+It,Ar="__reactHandles$"+It,ns="__reactResources$"+It,Ir="__reactMarker$"+It;function Cs(r){delete r[fn],delete r[on],delete r[Ql],delete r[td],delete r[Ar]}function sr(r){var s=r[fn];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Bi]||o[fn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Yw(r);r!==null;){if(o=r[fn])return o;r=Yw(r)}return s}r=o,o=r.parentNode}return null}function Sr(r){if(r=r[fn]||r[Bi]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Rr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(n(33))}function ln(r){var s=r[ns];return s||(s=r[ns]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function rt(r){r[Ir]=!0}var kn=new Set,An={};function kt(r,s){zi(r,s),zi(r+"Capture",s)}function zi(r,s){for(An[r]=s,r=0;r<s.length;r++)kn.add(s[r])}var is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},Fi={};function Yl(r){return ya.call(Fi,r)?!0:ya.call(Cr,r)?!1:is.test(r)?Fi[r]=!0:(Cr[r]=!0,!1)}function xr(r,s,o){if(Yl(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ti(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function In(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var rs,Ao;function Nr(r){if(rs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);rs=s&&s[1]||"",Ao=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+r+Ao}var Ta=!1;function wa(r,s){if(!r||Ta)return"";Ta=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(te){var ee=te}Reflect.construct(r,[],he)}else{try{he.call()}catch(te){ee=te}r.call(he.prototype)}}else{try{throw Error()}catch(te){ee=te}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),A=_[0],R=_[1];if(A&&R){var U=A.split(`
`),J=R.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===J.length)for(u=U.length-1,f=J.length-1;1<=u&&0<=f&&U[u]!==J[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==J[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==J[f]){var oe=`
`+U[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Nr(o):""}function Io(r){switch(r.tag){case 26:case 27:case 5:return Nr(r.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return wa(r.type,!1);case 11:return wa(r.type.render,!1);case 1:return wa(r.type,!0);case 31:return Nr("Activity");default:return""}}function Aa(r){try{var s="";do s+=Io(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function So(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ou(r){var s=So(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,_=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(A){u=""+A,_.call(this,A)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ia(r){r._valueTracker||(r._valueTracker=ou(r))}function Ro(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=So(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function $n(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ni=/[\n"\\]/g;function Dt(r){return r.replace(ni,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mt(r,s,o,u,f,_,A,R){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),s!=null?A==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Hn(s)):r.value!==""+Hn(s)&&(r.value=""+Hn(s)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),s!=null?Dr(r,A,Hn(s)):o!=null?Dr(r,A,Hn(o)):u!=null&&r.removeAttribute("value"),f==null&&_!=null&&(r.defaultChecked=!!_),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Hn(R):r.removeAttribute("name")}function ss(r,s,o,u,f,_,A,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;o=o!=null?""+Hn(o):"",s=s!=null?""+Hn(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function Dr(r,s,o){s==="number"&&$n(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Sn(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Hn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function lt(r,s,o){if(s!=null&&(s=""+Hn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Hn(o):""}function Pr(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(n(92));if(Bt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Hn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Vn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||as.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Or(r,s,o){if(s!=null&&typeof s!="object")throw Error(n(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Wl(r,f,u)}else for(var _ in s)s.hasOwnProperty(_)&&Wl(r,_,s[_])}function Sa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(r){return ar.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Gn=null;function ii(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kr=null,Si=null;function Ra(r){var s=Sr(r);if(s&&(r=s.stateNode)){var o=r[on]||null;e:switch(r=s.stateNode,s.type){case"input":if(Mt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[on]||null;if(!f)throw Error(n(90));Mt(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ro(u)}break e;case"textarea":lt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Sn(r,!!o.multiple,s,!1)}}}var pi=!1;function Xl(r,s,o){if(pi)return r(s,o);pi=!0;try{var u=r(s);return u}finally{if(pi=!1,(kr!==null||Si!==null)&&(wp(),kr&&(s=kr,r=Si,Si=kr=null,Ra(s),r)))for(s=0;s<r.length;s++)Ra(r[s])}}function xs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[on]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(qi)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Mn=!1}var or=null,Vr=null,Hi=null;function xa(){if(Hi)return Hi;var r,s=Vr,o=s.length,u,f="value"in or?or.value:or.textContent,_=f.length;for(r=0;r<o&&s[r]===f[r];r++);var A=o-r;for(u=1;u<=A&&s[o-u]===f[_-u];u++);return Hi=f.slice(r,1<u?1-u:void 0)}function Mr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ri(){return!0}function Jl(){return!1}function mn(r){function s(o,u,f,_,A){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ri:Jl,this.isPropagationStopped=Jl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),s}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=mn(gt),os=y({},gt,{view:0,detail:0}),Zl=mn(os),Lr,Ds,lr,Ps=y({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lr&&(lr&&r.type==="mousemove"?(Lr=r.screenX-lr.screenX,Ds=r.screenY-lr.screenY):Ds=Lr=0,lr=r),Lr)},movementY:function(r){return"movementY"in r?r.movementY:Ds}}),Ln=mn(Ps),cu=y({},Ps,{dataTransfer:0}),uu=mn(cu),Os=y({},os,{relatedTarget:0}),Na=mn(Os),xo=y({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=mn(xo),No=y({},gt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pa=mn(No),nd=y({},gt,{data:0}),ec=mn(nd),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Oa[r])?!!s[r]:!1}function ka(){return nc}var Do=y({},os,{key:function(r){if(r.key){var s=ks[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(r){return r.type==="keypress"?Mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Va=mn(Do),ic=y({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=mn(ic),ur=y({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),hu=mn(ur),rc=y({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=mn(rc),fu=y({},Ps,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=mn(fu),ri=y({},gt,{newState:0,oldState:0}),sc=mn(ri),ac=[9,13,27,32],Ur=qi&&"CompositionEvent"in window,h=null;qi&&"documentMode"in document&&(h=document.documentMode);var v=qi&&"TextEvent"in window&&!h,w=qi&&(!Ur||h&&8<h&&11>=h),D=" ",Y=!1;function ie(r,s){switch(r){case"keyup":return ac.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ct=!1;function pn(r,s){switch(r){case"compositionend":return ve(s);case"keypress":return s.which!==32?null:(Y=!0,D);case"textInput":return r=s.data,r===D&&Y?null:r;default:return null}}function ut(r,s){if(ct)return r==="compositionend"||!Ur&&ie(r,s)?(r=xa(),Hi=Vr=or=null,ct=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Rn[r.type]:s==="textarea"}function _n(r,s,o,u){kr?Si?Si.push(u):Si=[u]:kr=u,s=xp(s,"onChange"),0<s.length&&(o=new Ns("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Cn=null,hr=null;function Oo(r){jw(r,0)}function mu(r){var s=Rr(r);if(Ro(s))return r}function Mm(r,s){if(r==="change")return s}var id=!1;if(qi){var ko;if(qi){var rd="oninput"in document;if(!rd){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),rd=typeof Lm.oninput=="function"}ko=rd}else ko=!1;id=ko&&(!document.documentMode||9<document.documentMode)}function sd(){Cn&&(Cn.detachEvent("onpropertychange",Um),hr=Cn=null)}function Um(r){if(r.propertyName==="value"&&mu(hr)){var s=[];_n(s,hr,r,ii(r)),Xl(Oo,s)}}function M_(r,s,o){r==="focusin"?(sd(),Cn=s,hr=o,Cn.attachEvent("onpropertychange",Um)):r==="focusout"&&sd()}function jm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mu(hr)}function Bm(r,s){if(r==="click")return mu(s)}function zm(r,s){if(r==="input"||r==="change")return mu(s)}function pu(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var gi=typeof Object.is=="function"?Object.is:pu;function Ma(r,s){if(gi(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ya.call(s,f)||!gi(r[f],s[f]))return!1}return!0}function Ci(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Fm(r,s){var o=Ci(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ci(o)}}function qm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?qm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ad(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=$n(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=$n(r.document)}return s}function gu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var L_=qi&&"documentMode"in document&&11>=document.documentMode,Vo=null,od=null,oc=null,ld=!1;function Hm(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ld||Vo==null||Vo!==$n(u)||(u=Vo,"selectionStart"in u&&gu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),oc&&Ma(oc,u)||(oc=u,u=xp(od,"onSelect"),0<u.length&&(s=new Ns("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Vo)))}function Vs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var La={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},lc={},$m={};qi&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Ua(r){if(lc[r])return lc[r];if(!La[r])return r;var s=La[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in $m)return lc[r]=s[o];return r}var Ms=Ua("animationend"),jr=Ua("animationiteration"),cd=Ua("animationstart"),U_=Ua("transitionrun"),Gm=Ua("transitionstart"),Km=Ua("transitioncancel"),ud=Ua("transitionend"),hd=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function dr(r,s){hd.set(r,s),kt(s,[r])}var Qm=new WeakMap;function xi(r,s){if(typeof r=="object"&&r!==null){var o=Qm.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Aa(s)},Qm.set(r,s),s)}return{value:r,source:s,stack:Aa(s)}}var Ni=[],Mo=0,fd=0;function _u(){for(var r=Mo,s=fd=Mo=0;s<r;){var o=Ni[s];Ni[s++]=null;var u=Ni[s];Ni[s++]=null;var f=Ni[s];Ni[s++]=null;var _=Ni[s];if(Ni[s++]=null,u!==null&&f!==null){var A=u.pending;A===null?f.next=f:(f.next=A.next,A.next=f),u.pending=f}_!==0&&pd(o,f,_)}}function yu(r,s,o,u){Ni[Mo++]=r,Ni[Mo++]=s,Ni[Mo++]=o,Ni[Mo++]=u,fd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function md(r,s,o,u){return yu(r,s,o,u),vu(r)}function _i(r,s){return yu(r,null,null,s),vu(r)}function pd(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,_=r.return;_!==null;)_.childLanes|=o,u=_.alternate,u!==null&&(u.childLanes|=o),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(f=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,f&&s!==null&&(f=31-an(o),r=_.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),_):null}function vu(r){if(50<$d)throw $d=0,_y=null,Error(n(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Lo={};function j_(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(r,s,o,u){return new j_(r,s,o,u)}function gd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ls(r,s){var o=r.alternate;return o===null?(o=Di(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Ym(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Eu(r,s,o,u,f,_){var A=0;if(u=r,typeof r=="function")gd(r)&&(A=1);else if(typeof r=="string")A=fN(r,o,Pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case x:return r=Di(31,o,s,f),r.elementType=x,r.lanes=_,r;case L:return cs(o.children,f,_,s);case H:A=8,f|=24;break;case F:return r=Di(12,o,s,f|2),r.elementType=F,r.lanes=_,r;case ye:return r=Di(13,o,s,f),r.elementType=ye,r.lanes=_,r;case k:return r=Di(19,o,s,f),r.elementType=k,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Z:case le:A=10;break e;case ne:A=9;break e;case Ee:A=11;break e;case P:A=14;break e;case S:A=16,u=null;break e}A=29,o=Error(n(130,r===null?"null":typeof r,"")),u=null}return s=Di(A,o,s,f),s.elementType=r,s.type=u,s.lanes=_,s}function cs(r,s,o,u){return r=Di(7,r,u,s),r.lanes=o,r}function Uo(r,s,o){return r=Di(6,r,null,s),r.lanes=o,r}function _d(r,s,o){return s=Di(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ja=[],Ba=0,Ls=null,jo=0,$i=[],Gi=0,za=null,si=1,us="";function Fa(r,s){ja[Ba++]=jo,ja[Ba++]=Ls,Ls=r,jo=s}function Wm(r,s,o){$i[Gi++]=si,$i[Gi++]=us,$i[Gi++]=za,za=r;var u=si;r=us;var f=32-an(u)-1;u&=~(1<<f),o+=1;var _=32-an(s)+f;if(30<_){var A=f-f%5;_=(u&(1<<A)-1).toString(32),u>>=A,f-=A,si=1<<32-an(s)+f|o<<f|u,us=_+r}else si=1<<_|o<<f|u,us=r}function yd(r){r.return!==null&&(Fa(r,1),Wm(r,1,0))}function Bo(r){for(;r===Ls;)Ls=ja[--Ba],ja[Ba]=null,jo=ja[--Ba],ja[Ba]=null;for(;r===za;)za=$i[--Gi],$i[Gi]=null,us=$i[--Gi],$i[Gi]=null,si=$i[--Gi],$i[Gi]=null}var Un=null,qt=null,_t=!1,qa=null,ai=!1,cc=Error(n(519));function Us(r){var s=Error(n(418,""));throw hc(xi(s,r)),cc}function Xm(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[fn]=r,s[on]=u,o){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(o=0;o<Kd.length;o++)at(Kd[o],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":at("invalid",s),ss(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ia(s);break;case"select":at("invalid",s);break;case"textarea":at("invalid",s),Pr(s,u.value,u.defaultValue,u.children),Ia(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||qw(s.textContent,o)?(u.popover!=null&&(at("beforetoggle",s),at("toggle",s)),u.onScroll!=null&&at("scroll",s),u.onScrollEnd!=null&&at("scrollend",s),u.onClick!=null&&(s.onclick=Np),s=!0):s=!1,s||Us(r)}function Jm(r){for(Un=r.return;Un;)switch(Un.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Un=Un.return}}function uc(r){if(r!==Un)return!1;if(!_t)return Jm(r),_t=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Oy(r.type,r.memoizedProps)),o=!o),o&&qt&&Us(r),Jm(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){qt=_s(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}qt=null}}else s===27?(s=qt,nl(r.type)?(r=Ly,Ly=null,qt=r):qt=s):qt=Un?_s(r.stateNode.nextSibling):null;return!0}function hs(){qt=Un=null,_t=!1}function js(){var r=qa;return r!==null&&(Yi===null?Yi=r:Yi.push.apply(Yi,r),qa=null),r}function hc(r){qa===null?qa=[r]:qa.push(r)}var vd=de(null),Ha=null,ds=null;function Bs(r,s,o){ge(vd,s._currentValue),s._currentValue=o}function fs(r){r._currentValue=vd.current,Ae(vd)}function Ed(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function bd(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var _=f.dependencies;if(_!==null){var A=f.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=f;for(var U=0;U<s.length;U++)if(R.context===s[U]){_.lanes|=o,R=_.alternate,R!==null&&(R.lanes|=o),Ed(_.return,o,r),u||(A=null);break e}_=R.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(n(341));A.lanes|=o,_=A.alternate,_!==null&&(_.lanes|=o),Ed(A,o,r),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===r){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function zo(r,s,o,u){r=null;for(var f=s,_=!1;f!==null;){if(!_){if((f.flags&524288)!==0)_=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var R=f.type;gi(f.pendingProps.value,A.value)||(r!==null?r.push(R):r=[R])}}else if(f===sn.current){if(A=f.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Zd):r=[Zd])}f=f.return}r!==null&&bd(s,r,o,u),s.flags|=262144}function bu(r){for(r=r.firstContext;r!==null;){if(!gi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function zs(r){Ha=r,ds=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return Fs(Ha,r)}function dc(r,s){return Ha===null&&zs(r),Fs(r,s)}function Fs(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ds===null){if(r===null)throw Error(n(308));ds=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ds=ds.next=s;return o}var Zm=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},Td=i.unstable_scheduleCallback,ep=i.unstable_NormalPriority,Jt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new Zm,data:new Map,refCount:0}}function $a(r){r.refCount--,r.refCount===0&&Td(ep,function(){r.controller.abort()})}var fc=null,ms=0,Pi=0,Fo=null;function B_(r,s){if(fc===null){var o=fc=[];ms=0,Pi=Ay(),Fo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ms++,s.then(tp,tp),s}function tp(){if(--ms===0&&fc!==null){Fo!==null&&(Fo.status="fulfilled");var r=fc;fc=null,Pi=0,Fo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function z_(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var np=ae.S;ae.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&B_(r,s),np!==null&&np(r,s)};var Ga=de(null);function wd(){var r=Ga.current;return r!==null?r:Ut.pooledCache}function wu(r,s){s===null?ge(Ga,Ga.current):ge(Ga,s.pool)}function Ad(){var r=wd();return r===null?null:{parent:Jt._currentValue,pool:r}}var qs=Error(n(460)),mc=Error(n(474)),Au=Error(n(542)),Id={then:function(){}};function qo(r){return r=r.status,r==="fulfilled"||r==="rejected"}function I(){}function p(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(I,I),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$(r),r;default:if(typeof s.status=="string")s.then(I,I);else{if(r=Ut,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$(r),r}throw b=s,qs}}var b=null;function N(){if(b===null)throw Error(n(459));var r=b;return b=null,r}function $(r){if(r===qs||r===Au)throw Error(n(483))}var G=!1;function se(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ue(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _e(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Re(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Rt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=vu(r),pd(r,null,o),s}return yu(r,u,s,o),vu(r)}function Ce(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Kl(r,o)}}function Se(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?f=_=A:_=_.next=A,o=o.next}while(o!==null);_===null?f=_=s:_=_.next=s}else f=_=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Ye=!1;function Be(){if(Ye){var r=Fo;if(r!==null)throw r}}function Fe(r,s,o,u){Ye=!1;var f=r.updateQueue;G=!1;var _=f.firstBaseUpdate,A=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var U=R,J=U.next;U.next=null,A===null?_=J:A.next=J,A=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,R=oe.lastBaseUpdate,R!==A&&(R===null?oe.firstBaseUpdate=J:R.next=J,oe.lastBaseUpdate=U))}if(_!==null){var he=f.baseState;A=0,oe=J=U=null,R=_;do{var ee=R.lane&-536870913,te=ee!==R.lane;if(te?(yt&ee)===ee:(u&ee)===ee){ee!==0&&ee===Pi&&(Ye=!0),oe!==null&&(oe=oe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ke=r,ze=R;ee=s;var Ot=o;switch(ze.tag){case 1:if(Ke=ze.payload,typeof Ke=="function"){he=Ke.call(Ot,he,ee);break e}he=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=ze.payload,ee=typeof Ke=="function"?Ke.call(Ot,he,ee):Ke,ee==null)break e;he=y({},he,ee);break e;case 2:G=!0}}ee=R.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=f.callbacks,te===null?f.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},oe===null?(J=oe=te,U=he):oe=oe.next=te,A|=ee;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;te=R,R=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);oe===null&&(U=he),f.baseState=U,f.firstBaseUpdate=J,f.lastBaseUpdate=oe,_===null&&(f.shared.lanes=0),Jo|=A,r.lanes=A,r.memoizedState=he}}function $e(r,s){if(typeof r!="function")throw Error(n(191,r));r.call(s)}function Qe(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)$e(o[r],s)}var ft=de(null),At=de(0);function tt(r,s){r=Ja,ge(At,r),ge(ft,s),Ja=r|s.baseLanes}function mt(){ge(At,Ja),ge(ft,ft.current)}function Je(){Ja=At.current,Ae(ft),Ae(At)}var Ze=0,Ne=null,Le=null,qe=null,Lt=!1,Nn=!1,jn=!1,Dn=0,Kn=0,Bn=null,Ht=0;function Et(){throw Error(n(321))}function Ki(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!gi(r[o],s[o]))return!1;return!0}function Hs(r,s,o,u,f,_){return Ze=_,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ae.H=r===null||r.memoizedState===null?wT:AT,jn=!1,_=o(u,f),jn=!1,Nn&&(_=St(s,o,u,f)),yn(r),_}function yn(r){ae.H=up;var s=Le!==null&&Le.next!==null;if(Ze=0,qe=Le=Ne=null,Lt=!1,Kn=0,Bn=null,s)throw Error(n(300));r===null||Qn||(r=r.dependencies,r!==null&&bu(r)&&(Qn=!0))}function St(r,s,o,u){Ne=r;var f=0;do{if(Nn&&(Bn=null),Kn=0,Nn=!1,25<=f)throw Error(n(301));if(f+=1,qe=Le=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ae.H=Ax,_=s(o,u)}while(Nn);return _}function oi(){var r=ae.H,s=r.useState()[0];return s=typeof s.then=="function"?pc(s):s,r=r.useState()[0],(Le!==null?Le.memoizedState:null)!==r&&(Ne.flags|=1024),s}function yi(){var r=Dn!==0;return Dn=0,r}function Br(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ho(r){if(Lt){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lt=!1}Ze=0,qe=Le=Ne=null,Nn=!1,Kn=Dn=0,Bn=null}function li(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ne.memoizedState=qe=r:qe=qe.next=r,qe}function Zt(){if(Le===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=Le.next;var s=qe===null?Ne.memoizedState:qe.next;if(s!==null)qe=s,Le=r;else{if(r===null)throw Ne.alternate===null?Error(n(467)):Error(n(310));Le=r,r={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},qe===null?Ne.memoizedState=qe=r:qe=qe.next=r}return qe}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(r){var s=Kn;return Kn+=1,Bn===null&&(Bn=[]),r=p(Bn,r,s),s=Ne,(qe===null?s.memoizedState:qe.next)===null&&(s=s.alternate,ae.H=s===null||s.memoizedState===null?wT:AT),r}function Iu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return pc(r);if(r.$$typeof===le)return xn(r)}throw Error(n(438,String(r)))}function gc(r){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=$o(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=M;return s.index++,o}function ps(r,s){return typeof s=="function"?s(r):s}function _c(r){var s=Zt();return Sd(s,Le,r)}function Sd(r,s,o){var u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var f=r.baseQueue,_=u.pending;if(_!==null){if(f!==null){var A=f.next;f.next=_.next,_.next=A}s.baseQueue=f=_,u.pending=null}if(_=r.baseState,f===null)r.memoizedState=_;else{s=f.next;var R=A=null,U=null,J=s,oe=!1;do{var he=J.lane&-536870913;if(he!==J.lane?(yt&he)===he:(Ze&he)===he){var ee=J.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),he===Pi&&(oe=!0);else if((Ze&ee)===ee){J=J.next,ee===Pi&&(oe=!0);continue}else he={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(R=U=he,A=_):U=U.next=he,Ne.lanes|=ee,Jo|=ee;he=J.action,jn&&o(_,he),_=J.hasEagerState?J.eagerState:o(_,he)}else ee={lane:he,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(R=U=ee,A=_):U=U.next=ee,Ne.lanes|=he,Jo|=he;J=J.next}while(J!==null&&J!==s);if(U===null?A=_:U.next=R,!gi(_,r.memoizedState)&&(Qn=!0,oe&&(o=Fo,o!==null)))throw o;r.memoizedState=_,r.baseState=A,r.baseQueue=U,u.lastRenderedState=_}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Su(r){var s=Zt(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,_=s.memoizedState;if(f!==null){o.pending=null;var A=f=f.next;do _=r(_,A.action),A=A.next;while(A!==f);gi(_,s.memoizedState)||(Qn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),o.lastRenderedState=_}return[_,u]}function Rd(r,s,o){var u=Ne,f=Zt(),_=_t;if(_){if(o===void 0)throw Error(n(407));o=o()}else o=s();var A=!gi((Le||f).memoizedState,o);A&&(f.memoizedState=o,Qn=!0),f=f.queue;var R=$s.bind(null,u,f,r);if(kd(2048,8,R,[r]),f.getSnapshot!==s||A||qe!==null&&qe.memoizedState.tag&1){if(u.flags|=2048,Nu(9,op(),rp.bind(null,u,f,o,s),null),Ut===null)throw Error(n(349));_||(Ze&124)!==0||ip(u,s,o)}return o}function ip(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=$o(),Ne.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function rp(r,s,o,u){s.value=o,s.getSnapshot=u,yc(s)&&Cd(r)}function $s(r,s,o){return o(function(){yc(s)&&Cd(r)})}function yc(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!gi(r,o)}catch{return!0}}function Cd(r){var s=_i(r,2);s!==null&&_r(s,r,2)}function Ru(r){var s=li();if(typeof r=="function"){var o=r;if(r=o(),jn){Ii(!0);try{o()}finally{Ii(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:r},s}function Cu(r,s,o,u){return r.baseState=o,Sd(r,Le,typeof u=="function"?u:ps)}function sp(r,s,o,u,f){if(cp(r))throw Error(n(485));if(r=s.action,r!==null){var _={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};ae.T!==null?o(!0):_.isTransition=!1,u(_),o=s.pending,o===null?(_.next=s.pending=_,xd(s,_)):(_.next=o.next,s.pending=o.next=_)}}function xd(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var _=ae.T,A={};ae.T=A;try{var R=o(f,u),U=ae.S;U!==null&&U(A,R),Nd(r,s,R)}catch(J){Pd(r,s,J)}finally{ae.T=_}}else try{_=o(f,u),Nd(r,s,_)}catch(J){Pd(r,s,J)}}function Nd(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Dd(r,s,u)},function(u){return Pd(r,s,u)}):Dd(r,s,o)}function Dd(r,s,o){s.status="fulfilled",s.value=o,ap(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,xd(r,o)))}function Pd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,ap(s),s=s.next;while(s!==u)}r.action=null}function ap(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function xu(r,s){return s}function Od(r,s){if(_t){var o=Ut.formState;if(o!==null){e:{var u=Ne;if(_t){if(qt){t:{for(var f=qt,_=ai;f.nodeType!==8;){if(!_){f=null;break t}if(f=_s(f.nextSibling),f===null){f=null;break t}}_=f.data,f=_==="F!"||_==="F"?f:null}if(f){qt=_s(f.nextSibling),u=f.data==="F!";break e}}Us(u)}u=!1}u&&(s=o[0])}}return o=li(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xu,lastRenderedState:s},o.queue=u,o=ET.bind(null,Ne,u),u.dispatch=o,u=Ru(!1),_=G_.bind(null,Ne,!1,u.queue),u=li(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=sp.bind(null,Ne,f,_,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function nT(r){var s=Zt();return iT(s,Le,r)}function iT(r,s,o){if(s=Sd(r,s,xu)[0],r=_c(ps)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=pc(s)}catch(A){throw A===qs?Au:A}else u=s;s=Zt();var f=s.queue,_=f.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,Nu(9,op(),Ex.bind(null,f,o),null)),[u,_,r]}function Ex(r,s){r.action=s}function rT(r){var s=Zt(),o=Le;if(o!==null)return iT(s,o,r);Zt(),s=s.memoizedState,o=Zt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Nu(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=$o(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function op(){return{destroy:void 0,resource:void 0}}function sT(){return Zt().memoizedState}function lp(r,s,o,u){var f=li();u=u===void 0?null:u,Ne.flags|=r,f.memoizedState=Nu(1|s,op(),o,u)}function kd(r,s,o,u){var f=Zt();u=u===void 0?null:u;var _=f.memoizedState.inst;Le!==null&&u!==null&&Ki(u,Le.memoizedState.deps)?f.memoizedState=Nu(s,_,o,u):(Ne.flags|=r,f.memoizedState=Nu(1|s,_,o,u))}function aT(r,s){lp(8390656,8,r,s)}function oT(r,s){kd(2048,8,r,s)}function lT(r,s){return kd(4,2,r,s)}function cT(r,s){return kd(4,4,r,s)}function uT(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function hT(r,s,o){o=o!=null?o.concat([r]):null,kd(4,4,uT.bind(null,s,r),o)}function F_(){}function dT(r,s){var o=Zt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ki(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function fT(r,s){var o=Zt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ki(s,u[1]))return u[0];if(u=r(),jn){Ii(!0);try{r()}finally{Ii(!1)}}return o.memoizedState=[u,s],u}function q_(r,s,o){return o===void 0||(Ze&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=gw(),Ne.lanes|=r,Jo|=r,o)}function mT(r,s,o,u){return gi(o,s)?o:ft.current!==null?(r=q_(r,o,u),gi(r,s)||(Qn=!0),r):(Ze&42)===0?(Qn=!0,r.memoizedState=o):(r=gw(),Ne.lanes|=r,Jo|=r,s)}function pT(r,s,o,u,f){var _=be.p;be.p=_!==0&&8>_?_:8;var A=ae.T,R={};ae.T=R,G_(r,!1,s,o);try{var U=f(),J=ae.S;if(J!==null&&J(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=z_(U,u);Vd(r,s,oe,gr(r))}else Vd(r,s,u,gr(r))}catch(he){Vd(r,s,{then:function(){},status:"rejected",reason:he},gr())}finally{be.p=_,ae.T=A}}function bx(){}function H_(r,s,o,u){if(r.tag!==5)throw Error(n(476));var f=gT(r).queue;pT(r,f,s,Me,o===null?bx:function(){return _T(r),o(u)})}function gT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:Me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function _T(r){var s=gT(r).next.queue;Vd(r,s,{},gr())}function $_(){return xn(Zd)}function yT(){return Zt().memoizedState}function vT(){return Zt().memoizedState}function Tx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=gr();r=_e(o);var u=Re(s,r,o);u!==null&&(_r(u,s,o),Ce(u,s,o)),s={cache:Tu()},r.payload=s;return}s=s.return}}function wx(r,s,o){var u=gr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},cp(r)?bT(s,o):(o=md(r,s,o,u),o!==null&&(_r(o,r,u),TT(o,s,u)))}function ET(r,s,o){var u=gr();Vd(r,s,o,u)}function Vd(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(cp(r))bT(s,f);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var A=s.lastRenderedState,R=_(A,o);if(f.hasEagerState=!0,f.eagerState=R,gi(R,A))return yu(r,s,f,0),Ut===null&&_u(),!1}catch{}finally{}if(o=md(r,s,f,u),o!==null)return _r(o,r,u),TT(o,s,u),!0}return!1}function G_(r,s,o,u){if(u={lane:2,revertLane:Ay(),action:u,hasEagerState:!1,eagerState:null,next:null},cp(r)){if(s)throw Error(n(479))}else s=md(r,o,u,2),s!==null&&_r(s,r,2)}function cp(r){var s=r.alternate;return r===Ne||s!==null&&s===Ne}function bT(r,s){Nn=Lt=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function TT(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Kl(r,o)}}var up={readContext:xn,use:Iu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},wT={readContext:xn,use:Iu,useCallback:function(r,s){return li().memoizedState=[r,s===void 0?null:s],r},useContext:xn,useEffect:aT,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,lp(4194308,4,uT.bind(null,s,r),o)},useLayoutEffect:function(r,s){return lp(4194308,4,r,s)},useInsertionEffect:function(r,s){lp(4,2,r,s)},useMemo:function(r,s){var o=li();s=s===void 0?null:s;var u=r();if(jn){Ii(!0);try{r()}finally{Ii(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=li();if(o!==void 0){var f=o(s);if(jn){Ii(!0);try{o(s)}finally{Ii(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=wx.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var s=li();return r={current:r},s.memoizedState=r},useState:function(r){r=Ru(r);var s=r.queue,o=ET.bind(null,Ne,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:F_,useDeferredValue:function(r,s){var o=li();return q_(o,r,s)},useTransition:function(){var r=Ru(!1);return r=pT.bind(null,Ne,r.queue,!0,!1),li().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ne,f=li();if(_t){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),Ut===null)throw Error(n(349));(yt&124)!==0||ip(u,s,o)}f.memoizedState=o;var _={value:o,getSnapshot:s};return f.queue=_,aT($s.bind(null,u,_,r),[r]),u.flags|=2048,Nu(9,op(),rp.bind(null,u,_,o,s),null),o},useId:function(){var r=li(),s=Ut.identifierPrefix;if(_t){var o=us,u=si;o=(u&~(1<<32-an(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Dn++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Ht++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:$_,useFormState:Od,useActionState:Od,useOptimistic:function(r){var s=li();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=G_.bind(null,Ne,!0,o),o.dispatch=s,[r,s]},useMemoCache:gc,useCacheRefresh:function(){return li().memoizedState=Tx.bind(null,Ne)}},AT={readContext:xn,use:Iu,useCallback:dT,useContext:xn,useEffect:oT,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:fT,useReducer:_c,useRef:sT,useState:function(){return _c(ps)},useDebugValue:F_,useDeferredValue:function(r,s){var o=Zt();return mT(o,Le.memoizedState,r,s)},useTransition:function(){var r=_c(ps)[0],s=Zt().memoizedState;return[typeof r=="boolean"?r:pc(r),s]},useSyncExternalStore:Rd,useId:yT,useHostTransitionStatus:$_,useFormState:nT,useActionState:nT,useOptimistic:function(r,s){var o=Zt();return Cu(o,Le,r,s)},useMemoCache:gc,useCacheRefresh:vT},Ax={readContext:xn,use:Iu,useCallback:dT,useContext:xn,useEffect:oT,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:fT,useReducer:Su,useRef:sT,useState:function(){return Su(ps)},useDebugValue:F_,useDeferredValue:function(r,s){var o=Zt();return Le===null?q_(o,r,s):mT(o,Le.memoizedState,r,s)},useTransition:function(){var r=Su(ps)[0],s=Zt().memoizedState;return[typeof r=="boolean"?r:pc(r),s]},useSyncExternalStore:Rd,useId:yT,useHostTransitionStatus:$_,useFormState:rT,useActionState:rT,useOptimistic:function(r,s){var o=Zt();return Le!==null?Cu(o,Le,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:gc,useCacheRefresh:vT},Du=null,Md=0;function hp(r){var s=Md;return Md+=1,Du===null&&(Du=[]),p(Du,r,s)}function Ld(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function dp(r,s){throw s.$$typeof===E?Error(n(525)):(r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function IT(r){var s=r._init;return s(r._payload)}function ST(r){function s(Q,q){if(r){var X=Q.deletions;X===null?(Q.deletions=[q],Q.flags|=16):X.push(q)}}function o(Q,q){if(!r)return null;for(;q!==null;)s(Q,q),q=q.sibling;return null}function u(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function f(Q,q){return Q=ls(Q,q),Q.index=0,Q.sibling=null,Q}function _(Q,q,X){return Q.index=X,r?(X=Q.alternate,X!==null?(X=X.index,X<q?(Q.flags|=67108866,q):X):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function A(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function R(Q,q,X,ce){return q===null||q.tag!==6?(q=Uo(X,Q.mode,ce),q.return=Q,q):(q=f(q,X),q.return=Q,q)}function U(Q,q,X,ce){var De=X.type;return De===L?oe(Q,q,X.props.children,ce,X.key):q!==null&&(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&IT(De)===q.type)?(q=f(q,X.props),Ld(q,X),q.return=Q,q):(q=Eu(X.type,X.key,X.props,null,Q.mode,ce),Ld(q,X),q.return=Q,q)}function J(Q,q,X,ce){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=_d(X,Q.mode,ce),q.return=Q,q):(q=f(q,X.children||[]),q.return=Q,q)}function oe(Q,q,X,ce,De){return q===null||q.tag!==7?(q=cs(X,Q.mode,ce,De),q.return=Q,q):(q=f(q,X),q.return=Q,q)}function he(Q,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Uo(""+q,Q.mode,X),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return X=Eu(q.type,q.key,q.props,null,Q.mode,X),Ld(X,q),X.return=Q,X;case V:return q=_d(q,Q.mode,X),q.return=Q,q;case S:var ce=q._init;return q=ce(q._payload),he(Q,q,X)}if(Bt(q)||z(q))return q=cs(q,Q.mode,X,null),q.return=Q,q;if(typeof q.then=="function")return he(Q,hp(q),X);if(q.$$typeof===le)return he(Q,dc(Q,q),X);dp(Q,q)}return null}function ee(Q,q,X,ce){var De=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return De!==null?null:R(Q,q,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===De?U(Q,q,X,ce):null;case V:return X.key===De?J(Q,q,X,ce):null;case S:return De=X._init,X=De(X._payload),ee(Q,q,X,ce)}if(Bt(X)||z(X))return De!==null?null:oe(Q,q,X,ce,null);if(typeof X.then=="function")return ee(Q,q,hp(X),ce);if(X.$$typeof===le)return ee(Q,q,dc(Q,X),ce);dp(Q,X)}return null}function te(Q,q,X,ce,De){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(X)||null,R(q,Q,""+ce,De);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:return Q=Q.get(ce.key===null?X:ce.key)||null,U(q,Q,ce,De);case V:return Q=Q.get(ce.key===null?X:ce.key)||null,J(q,Q,ce,De);case S:var it=ce._init;return ce=it(ce._payload),te(Q,q,X,ce,De)}if(Bt(ce)||z(ce))return Q=Q.get(X)||null,oe(q,Q,ce,De,null);if(typeof ce.then=="function")return te(Q,q,X,hp(ce),De);if(ce.$$typeof===le)return te(Q,q,X,dc(q,ce),De);dp(q,ce)}return null}function Ke(Q,q,X,ce){for(var De=null,it=null,Ue=q,He=q=0,Wn=null;Ue!==null&&He<X.length;He++){Ue.index>He?(Wn=Ue,Ue=null):Wn=Ue.sibling;var bt=ee(Q,Ue,X[He],ce);if(bt===null){Ue===null&&(Ue=Wn);break}r&&Ue&&bt.alternate===null&&s(Q,Ue),q=_(bt,q,He),it===null?De=bt:it.sibling=bt,it=bt,Ue=Wn}if(He===X.length)return o(Q,Ue),_t&&Fa(Q,He),De;if(Ue===null){for(;He<X.length;He++)Ue=he(Q,X[He],ce),Ue!==null&&(q=_(Ue,q,He),it===null?De=Ue:it.sibling=Ue,it=Ue);return _t&&Fa(Q,He),De}for(Ue=u(Ue);He<X.length;He++)Wn=te(Ue,Q,He,X[He],ce),Wn!==null&&(r&&Wn.alternate!==null&&Ue.delete(Wn.key===null?He:Wn.key),q=_(Wn,q,He),it===null?De=Wn:it.sibling=Wn,it=Wn);return r&&Ue.forEach(function(ol){return s(Q,ol)}),_t&&Fa(Q,He),De}function ze(Q,q,X,ce){if(X==null)throw Error(n(151));for(var De=null,it=null,Ue=q,He=q=0,Wn=null,bt=X.next();Ue!==null&&!bt.done;He++,bt=X.next()){Ue.index>He?(Wn=Ue,Ue=null):Wn=Ue.sibling;var ol=ee(Q,Ue,bt.value,ce);if(ol===null){Ue===null&&(Ue=Wn);break}r&&Ue&&ol.alternate===null&&s(Q,Ue),q=_(ol,q,He),it===null?De=ol:it.sibling=ol,it=ol,Ue=Wn}if(bt.done)return o(Q,Ue),_t&&Fa(Q,He),De;if(Ue===null){for(;!bt.done;He++,bt=X.next())bt=he(Q,bt.value,ce),bt!==null&&(q=_(bt,q,He),it===null?De=bt:it.sibling=bt,it=bt);return _t&&Fa(Q,He),De}for(Ue=u(Ue);!bt.done;He++,bt=X.next())bt=te(Ue,Q,He,bt.value,ce),bt!==null&&(r&&bt.alternate!==null&&Ue.delete(bt.key===null?He:bt.key),q=_(bt,q,He),it===null?De=bt:it.sibling=bt,it=bt);return r&&Ue.forEach(function(IN){return s(Q,IN)}),_t&&Fa(Q,He),De}function Ot(Q,q,X,ce){if(typeof X=="object"&&X!==null&&X.type===L&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:e:{for(var De=X.key;q!==null;){if(q.key===De){if(De=X.type,De===L){if(q.tag===7){o(Q,q.sibling),ce=f(q,X.props.children),ce.return=Q,Q=ce;break e}}else if(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&IT(De)===q.type){o(Q,q.sibling),ce=f(q,X.props),Ld(ce,X),ce.return=Q,Q=ce;break e}o(Q,q);break}else s(Q,q);q=q.sibling}X.type===L?(ce=cs(X.props.children,Q.mode,ce,X.key),ce.return=Q,Q=ce):(ce=Eu(X.type,X.key,X.props,null,Q.mode,ce),Ld(ce,X),ce.return=Q,Q=ce)}return A(Q);case V:e:{for(De=X.key;q!==null;){if(q.key===De)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){o(Q,q.sibling),ce=f(q,X.children||[]),ce.return=Q,Q=ce;break e}else{o(Q,q);break}else s(Q,q);q=q.sibling}ce=_d(X,Q.mode,ce),ce.return=Q,Q=ce}return A(Q);case S:return De=X._init,X=De(X._payload),Ot(Q,q,X,ce)}if(Bt(X))return Ke(Q,q,X,ce);if(z(X)){if(De=z(X),typeof De!="function")throw Error(n(150));return X=De.call(X),ze(Q,q,X,ce)}if(typeof X.then=="function")return Ot(Q,q,hp(X),ce);if(X.$$typeof===le)return Ot(Q,q,dc(Q,X),ce);dp(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(o(Q,q.sibling),ce=f(q,X),ce.return=Q,Q=ce):(o(Q,q),ce=Uo(X,Q.mode,ce),ce.return=Q,Q=ce),A(Q)):o(Q,q)}return function(Q,q,X,ce){try{Md=0;var De=Ot(Q,q,X,ce);return Du=null,De}catch(Ue){if(Ue===qs||Ue===Au)throw Ue;var it=Di(29,Ue,null,Q.mode);return it.lanes=ce,it.return=Q,it}finally{}}}var Pu=ST(!0),RT=ST(!1),zr=de(null),Gs=null;function Go(r){var s=r.alternate;ge(zn,zn.current&1),ge(zr,r),Gs===null&&(s===null||ft.current!==null||s.memoizedState!==null)&&(Gs=r)}function CT(r){if(r.tag===22){if(ge(zn,zn.current),ge(zr,r),Gs===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Gs=r)}}else Ko()}function Ko(){ge(zn,zn.current),ge(zr,zr.current)}function Ka(r){Ae(zr),Gs===r&&(Gs=null),Ae(zn)}var zn=de(0);function fp(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||My(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function K_(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Q_={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=gr(),f=_e(u);f.payload=s,o!=null&&(f.callback=o),s=Re(r,f,u),s!==null&&(_r(s,r,u),Ce(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=gr(),f=_e(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Re(r,f,u),s!==null&&(_r(s,r,u),Ce(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=gr(),u=_e(o);u.tag=2,s!=null&&(u.callback=s),s=Re(r,u,o),s!==null&&(_r(s,r,o),Ce(s,r,o))}};function xT(r,s,o,u,f,_,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,_,A):s.prototype&&s.prototype.isPureReactComponent?!Ma(o,u)||!Ma(f,_):!0}function NT(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Q_.enqueueReplaceState(s,s.state,null)}function vc(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var mp=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function DT(r){mp(r)}function PT(r){console.error(r)}function OT(r){mp(r)}function pp(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function kT(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Y_(r,s,o){return o=_e(o),o.tag=3,o.payload={element:null},o.callback=function(){pp(r,s)},o}function VT(r){return r=_e(r),r.tag=3,r}function MT(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var _=u.value;r.payload=function(){return f(_)},r.callback=function(){kT(s,o,u)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){kT(s,o,u),typeof f!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function Ix(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&zo(s,o,f,!0),o=zr.current,o!==null){switch(o.tag){case 13:return Gs===null?vy():o.alternate===null&&cn===0&&(cn=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Id?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),by(r,u,f)),!1;case 22:return o.flags|=65536,u===Id?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),by(r,u,f)),!1}throw Error(n(435,o.tag))}return by(r,u,f),vy(),!1}if(_t)return s=zr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==cc&&(r=Error(n(422),{cause:u}),hc(xi(r,o)))):(u!==cc&&(s=Error(n(423),{cause:u}),hc(xi(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=xi(u,o),f=Y_(r.stateNode,u,f),Se(r,f),cn!==4&&(cn=2)),!1;var _=Error(n(520),{cause:u});if(_=xi(_,o),Hd===null?Hd=[_]:Hd.push(_),cn!==4&&(cn=2),s===null)return!0;u=xi(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Y_(o.stateNode,u,r),Se(o,r),!1;case 1:if(s=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zo===null||!Zo.has(_))))return o.flags|=65536,f&=-f,o.lanes|=f,f=VT(f),MT(f,r,o,u),Se(o,f),!1}o=o.return}while(o!==null);return!1}var LT=Error(n(461)),Qn=!1;function ci(r,s,o,u){s.child=r===null?RT(s,null,o,u):Pu(s,r.child,o,u)}function UT(r,s,o,u,f){o=o.render;var _=s.ref;if("ref"in u){var A={};for(var R in u)R!=="ref"&&(A[R]=u[R])}else A=u;return zs(s),u=Hs(r,s,o,A,_,f),R=yi(),r!==null&&!Qn?(Br(r,s,f),Qa(r,s,f)):(_t&&R&&yd(s),s.flags|=1,ci(r,s,u,f),s.child)}function jT(r,s,o,u,f){if(r===null){var _=o.type;return typeof _=="function"&&!gd(_)&&_.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=_,BT(r,s,_,u,f)):(r=Eu(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!iy(r,f)){var A=_.memoizedProps;if(o=o.compare,o=o!==null?o:Ma,o(A,u)&&r.ref===s.ref)return Qa(r,s,f)}return s.flags|=1,r=ls(_,u),r.ref=s.ref,r.return=s,s.child=r}function BT(r,s,o,u,f){if(r!==null){var _=r.memoizedProps;if(Ma(_,u)&&r.ref===s.ref)if(Qn=!1,s.pendingProps=u=_,iy(r,f))(r.flags&131072)!==0&&(Qn=!0);else return s.lanes=r.lanes,Qa(r,s,f)}return W_(r,s,o,u,f)}function zT(r,s,o){var u=s.pendingProps,f=u.children,_=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=_!==null?_.baseLanes|o:o,r!==null){for(f=s.child=r.child,_=0;f!==null;)_=_|f.lanes|f.childLanes,f=f.sibling;s.childLanes=_&~u}else s.childLanes=0,s.child=null;return FT(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&wu(s,_!==null?_.cachePool:null),_!==null?tt(s,_):mt(),CT(s);else return s.lanes=s.childLanes=536870912,FT(r,s,_!==null?_.baseLanes|o:o,o)}else _!==null?(wu(s,_.cachePool),tt(s,_),Ko(),s.memoizedState=null):(r!==null&&wu(s,null),mt(),Ko());return ci(r,s,f,o),s.child}function FT(r,s,o,u){var f=wd();return f=f===null?null:{parent:Jt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&wu(s,null),mt(),CT(s),r!==null&&zo(r,s,u,!0),null}function gp(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function W_(r,s,o,u,f){return zs(s),o=Hs(r,s,o,u,void 0,f),u=yi(),r!==null&&!Qn?(Br(r,s,f),Qa(r,s,f)):(_t&&u&&yd(s),s.flags|=1,ci(r,s,o,f),s.child)}function qT(r,s,o,u,f,_){return zs(s),s.updateQueue=null,o=St(s,u,o,f),yn(r),u=yi(),r!==null&&!Qn?(Br(r,s,_),Qa(r,s,_)):(_t&&u&&yd(s),s.flags|=1,ci(r,s,o,_),s.child)}function HT(r,s,o,u,f){if(zs(s),s.stateNode===null){var _=Lo,A=o.contextType;typeof A=="object"&&A!==null&&(_=xn(A)),_=new o(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Q_,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},se(s),A=o.contextType,_.context=typeof A=="object"&&A!==null?xn(A):Lo,_.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(K_(s,o,A,u),_.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Q_.enqueueReplaceState(_,_.state,null),Fe(s,u,_,f),Be(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){_=s.stateNode;var R=s.memoizedProps,U=vc(o,R);_.props=U;var J=_.context,oe=o.contextType;A=Lo,typeof oe=="object"&&oe!==null&&(A=xn(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||J!==A)&&NT(s,_,u,A),G=!1;var ee=s.memoizedState;_.state=ee,Fe(s,u,_,f),Be(),J=s.memoizedState,R||ee!==J||G?(typeof he=="function"&&(K_(s,o,he,u),J=s.memoizedState),(U=G||xT(s,o,U,u,ee,J,A))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=J),_.props=u,_.state=J,_.context=A,u=U):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,ue(r,s),A=s.memoizedProps,oe=vc(o,A),_.props=oe,he=s.pendingProps,ee=_.context,J=o.contextType,U=Lo,typeof J=="object"&&J!==null&&(U=xn(J)),R=o.getDerivedStateFromProps,(J=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==he||ee!==U)&&NT(s,_,u,U),G=!1,ee=s.memoizedState,_.state=ee,Fe(s,u,_,f),Be();var te=s.memoizedState;A!==he||ee!==te||G||r!==null&&r.dependencies!==null&&bu(r.dependencies)?(typeof R=="function"&&(K_(s,o,R,u),te=s.memoizedState),(oe=G||xT(s,o,oe,u,ee,te,U)||r!==null&&r.dependencies!==null&&bu(r.dependencies))?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,te,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,te,U)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),_.props=u,_.state=te,_.context=U,u=oe):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),u=!1)}return _=u,gp(r,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&u?(s.child=Pu(s,r.child,null,f),s.child=Pu(s,null,o,f)):ci(r,s,o,f),s.memoizedState=_.state,r=s.child):r=Qa(r,s,f),r}function $T(r,s,o,u){return hs(),s.flags|=256,ci(r,s,o,u),s.child}var X_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function J_(r){return{baseLanes:r,cachePool:Ad()}}function Z_(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Fr),r}function GT(r,s,o){var u=s.pendingProps,f=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=r!==null&&r.memoizedState===null?!1:(zn.current&2)!==0),A&&(f=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,r===null){if(_t){if(f?Go(s):Ko(),_t){var R=qt,U;if(U=R){e:{for(U=R,R=ai;U.nodeType!==8;){if(!R){R=null;break e}if(U=_s(U.nextSibling),U===null){R=null;break e}}R=U}R!==null?(s.memoizedState={dehydrated:R,treeContext:za!==null?{id:si,overflow:us}:null,retryLane:536870912,hydrationErrors:null},U=Di(18,null,null,0),U.stateNode=R,U.return=s,s.child=U,Un=s,qt=null,U=!0):U=!1}U||Us(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return My(R)?s.lanes=32:s.lanes=536870912,null;Ka(s)}return R=u.children,u=u.fallback,f?(Ko(),f=s.mode,R=_p({mode:"hidden",children:R},f),u=cs(u,f,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,f=s.child,f.memoizedState=J_(o),f.childLanes=Z_(r,A,o),s.memoizedState=X_,u):(Go(s),ey(s,R))}if(U=r.memoizedState,U!==null&&(R=U.dehydrated,R!==null)){if(_)s.flags&256?(Go(s),s.flags&=-257,s=ty(r,s,o)):s.memoizedState!==null?(Ko(),s.child=r.child,s.flags|=128,s=null):(Ko(),f=u.fallback,R=s.mode,u=_p({mode:"visible",children:u.children},R),f=cs(f,R,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Pu(s,r.child,null,o),u=s.child,u.memoizedState=J_(o),u.childLanes=Z_(r,A,o),s.memoizedState=X_,s=f);else if(Go(s),My(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var J=A.dgst;A=J,u=Error(n(419)),u.stack="",u.digest=A,hc({value:u,source:null,stack:null}),s=ty(r,s,o)}else if(Qn||zo(r,s,o,!1),A=(o&r.childLanes)!==0,Qn||A){if(A=Ut,A!==null&&(u=o&-o,u=(u&42)!==0?1:Ss(u),u=(u&(A.suspendedLanes|o))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,_i(r,u),_r(A,r,u),LT;R.data==="$?"||vy(),s=ty(r,s,o)}else R.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,qt=_s(R.nextSibling),Un=s,_t=!0,qa=null,ai=!1,r!==null&&($i[Gi++]=si,$i[Gi++]=us,$i[Gi++]=za,si=r.id,us=r.overflow,za=s),s=ey(s,u.children),s.flags|=4096);return s}return f?(Ko(),f=u.fallback,R=s.mode,U=r.child,J=U.sibling,u=ls(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,J!==null?f=ls(J,f):(f=cs(f,R,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,R=r.child.memoizedState,R===null?R=J_(o):(U=R.cachePool,U!==null?(J=Jt._currentValue,U=U.parent!==J?{parent:J,pool:J}:U):U=Ad(),R={baseLanes:R.baseLanes|o,cachePool:U}),f.memoizedState=R,f.childLanes=Z_(r,A,o),s.memoizedState=X_,u):(Go(s),o=r.child,r=o.sibling,o=ls(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(A=s.deletions,A===null?(s.deletions=[r],s.flags|=16):A.push(r)),s.child=o,s.memoizedState=null,o)}function ey(r,s){return s=_p({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function _p(r,s){return r=Di(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ty(r,s,o){return Pu(s,r.child,null,o),r=ey(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function KT(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Ed(r.return,s,o)}function ny(r,s,o,u,f){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f)}function QT(r,s,o){var u=s.pendingProps,f=u.revealOrder,_=u.tail;if(ci(r,s,u.children,o),u=zn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&KT(r,o,s);else if(r.tag===19)KT(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ge(zn,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&fp(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),ny(s,!1,f,o,_);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&fp(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}ny(s,!0,o,null,_);break;case"together":ny(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qa(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Jo|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(zo(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,o=ls(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ls(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function iy(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&bu(r)))}function Sx(r,s,o){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),Bs(s,Jt,r.memoizedState.cache),hs();break;case 27:case 5:Yr(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Go(s),s.flags|=128,null):(o&s.child.childLanes)!==0?GT(r,s,o):(Go(s),r=Qa(r,s,o),r!==null?r.sibling:null);Go(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(zo(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return QT(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ge(zn,zn.current),u)break;return null;case 22:case 23:return s.lanes=0,zT(r,s,o);case 24:Bs(s,Jt,r.memoizedState.cache)}return Qa(r,s,o)}function YT(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Qn=!0;else{if(!iy(r,o)&&(s.flags&128)===0)return Qn=!1,Sx(r,s,o);Qn=(r.flags&131072)!==0}else Qn=!1,_t&&(s.flags&1048576)!==0&&Wm(s,jo,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")gd(u)?(r=vc(u,r),s.tag=1,s=HT(null,s,u,r,o)):(s.tag=0,s=W_(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===Ee){s.tag=11,s=UT(null,s,u,r,o);break e}else if(f===P){s.tag=14,s=jT(null,s,u,r,o);break e}}throw s=wn(u)||u,Error(n(306,s,""))}}return s;case 0:return W_(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=vc(u,s.pendingProps),HT(r,s,u,f,o);case 3:e:{if(we(s,s.stateNode.containerInfo),r===null)throw Error(n(387));u=s.pendingProps;var _=s.memoizedState;f=_.element,ue(r,s),Fe(s,u,null,o);var A=s.memoizedState;if(u=A.cache,Bs(s,Jt,u),u!==_.cache&&bd(s,[Jt],o,!0),Be(),u=A.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=$T(r,s,u,o);break e}else if(u!==f){f=xi(Error(n(424)),s),hc(f),s=$T(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(qt=_s(r.firstChild),Un=s,_t=!0,qa=null,ai=!0,o=RT(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(hs(),u===f){s=Qa(r,s,o);break e}ci(r,s,u,o)}s=s.child}return s;case 26:return gp(r,s),r===null?(o=Zw(s.type,null,s.pendingProps,null))?s.memoizedState=o:_t||(o=s.type,r=s.pendingProps,u=Dp(Ve.current).createElement(o),u[fn]=s,u[on]=r,hi(u,o,r),rt(u),s.stateNode=u):s.memoizedState=Zw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Yr(s),r===null&&_t&&(u=s.stateNode=Ww(s.type,s.pendingProps,Ve.current),Un=s,ai=!0,f=qt,nl(s.type)?(Ly=f,qt=_s(u.firstChild)):qt=f),ci(r,s,s.pendingProps.children,o),gp(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&_t&&((f=u=qt)&&(u=eN(u,s.type,s.pendingProps,ai),u!==null?(s.stateNode=u,Un=s,qt=_s(u.firstChild),ai=!1,f=!0):f=!1),f||Us(s)),Yr(s),f=s.type,_=s.pendingProps,A=r!==null?r.memoizedProps:null,u=_.children,Oy(f,_)?u=null:A!==null&&Oy(f,A)&&(s.flags|=32),s.memoizedState!==null&&(f=Hs(r,s,oi,null,null,o),Zd._currentValue=f),gp(r,s),ci(r,s,u,o),s.child;case 6:return r===null&&_t&&((r=o=qt)&&(o=tN(o,s.pendingProps,ai),o!==null?(s.stateNode=o,Un=s,qt=null,r=!0):r=!1),r||Us(s)),null;case 13:return GT(r,s,o);case 4:return we(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Pu(s,null,u,o):ci(r,s,u,o),s.child;case 11:return UT(r,s,s.type,s.pendingProps,o);case 7:return ci(r,s,s.pendingProps,o),s.child;case 8:return ci(r,s,s.pendingProps.children,o),s.child;case 12:return ci(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Bs(s,s.type,u.value),ci(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,zs(s),f=xn(f),u=u(f),s.flags|=1,ci(r,s,u,o),s.child;case 14:return jT(r,s,s.type,s.pendingProps,o);case 15:return BT(r,s,s.type,s.pendingProps,o);case 19:return QT(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=_p(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ls(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return zT(r,s,o);case 24:return zs(s),u=xn(Jt),r===null?(f=wd(),f===null&&(f=Ut,_=Tu(),f.pooledCache=_,_.refCount++,_!==null&&(f.pooledCacheLanes|=o),f=_),s.memoizedState={parent:u,cache:f},se(s),Bs(s,Jt,f)):((r.lanes&o)!==0&&(ue(r,s),Fe(s,null,null,o),Be()),f=r.memoizedState,_=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Bs(s,Jt,u)):(u=_.cache,Bs(s,Jt,u),u!==f.cache&&bd(s,[Jt],o,!0))),ci(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ya(r){r.flags|=4}function WT(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!r0(s)){if(s=zr.current,s!==null&&((yt&4194048)===yt?Gs!==null:(yt&62914560)!==yt&&(yt&536870912)===0||s!==Gs))throw b=Id,mc;r.flags|=8192}}function yp(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Gl():536870912,r.lanes|=s,Mu|=s)}function Ud(r,s){if(!_t)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function en(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function Rx(r,s,o){var u=s.pendingProps;switch(Bo(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return en(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),fs(Jt),Ai(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(uc(s)?Ya(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,js())),en(s),null;case 26:return o=s.memoizedState,r===null?(Ya(s),o!==null?(en(s),WT(s,o)):(en(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ya(s),en(s),WT(s,o)):(en(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ya(s),en(s),s.flags&=-16777217),null;case 27:Wr(s),o=Ve.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ya(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return en(s),null}r=Pe.current,uc(s)?Xm(s):(r=Ww(f,u,o),s.stateNode=r,Ya(s))}return en(s),null;case 5:if(Wr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ya(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return en(s),null}if(r=Pe.current,uc(s))Xm(s);else{switch(f=Dp(Ve.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[fn]=s,r[on]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(hi(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ya(s)}}return en(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ya(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(r=Ve.current,uc(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=Un,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[fn]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||qw(r.nodeValue,o)),r||Us(s)}else r=Dp(r).createTextNode(u),r[fn]=s,s.stateNode=r}return en(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=uc(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(n(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[fn]=s}else hs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),f=!1}else f=js(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ka(s),s):(Ka(s),null)}if(Ka(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),yp(s,s.updateQueue),en(s),null;case 4:return Ai(),r===null&&Cy(s.stateNode.containerInfo),en(s),null;case 10:return fs(s.type),en(s),null;case 19:if(Ae(zn),f=s.memoizedState,f===null)return en(s),null;if(u=(s.flags&128)!==0,_=f.rendering,_===null)if(u)Ud(f,!1);else{if(cn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=fp(r),_!==null){for(s.flags|=128,Ud(f,!1),r=_.updateQueue,s.updateQueue=r,yp(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Ym(o,r),o=o.sibling;return ge(zn,zn.current&1|2),s.child}r=r.sibling}f.tail!==null&&Ui()>bp&&(s.flags|=128,u=!0,Ud(f,!1),s.lanes=4194304)}else{if(!u)if(r=fp(_),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,yp(s,r),Ud(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!_t)return en(s),null}else 2*Ui()-f.renderingStartTime>bp&&o!==536870912&&(s.flags|=128,u=!0,Ud(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(r=f.last,r!==null?r.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Ui(),s.sibling=null,r=zn.current,ge(zn,u?r&1|2:r&1),s):(en(s),null);case 22:case 23:return Ka(s),Je(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),o=s.updateQueue,o!==null&&yp(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&Ae(Ga),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),fs(Jt),en(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function Cx(r,s){switch(Bo(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fs(Jt),Ai(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Wr(s),null;case 13:if(Ka(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));hs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ae(zn),null;case 4:return Ai(),null;case 10:return fs(s.type),null;case 22:case 23:return Ka(s),Je(),r!==null&&Ae(Ga),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return fs(Jt),null;case 25:return null;default:return null}}function XT(r,s){switch(Bo(s),s.tag){case 3:fs(Jt),Ai();break;case 26:case 27:case 5:Wr(s);break;case 4:Ai();break;case 13:Ka(s);break;case 19:Ae(zn);break;case 10:fs(s.type);break;case 22:case 23:Ka(s),Je(),r!==null&&Ae(Ga);break;case 24:fs(Jt)}}function jd(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var _=o.create,A=o.inst;u=_(),A.destroy=u}o=o.next}while(o!==f)}}catch(R){Vt(s,s.return,R)}}function Qo(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&r)===r){var A=u.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,f=s;var U=o,J=R;try{J()}catch(oe){Vt(f,U,oe)}}}u=u.next}while(u!==_)}}catch(oe){Vt(s,s.return,oe)}}function JT(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Qe(s,o)}catch(u){Vt(r,r.return,u)}}}function ZT(r,s,o){o.props=vc(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Vt(r,s,u)}}function Bd(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){Vt(r,s,f)}}function Ks(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Vt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Vt(r,s,f)}else o.current=null}function ew(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Vt(r,r.return,f)}}function ry(r,s,o){try{var u=r.stateNode;Yx(u,r.type,o,s),u[on]=s}catch(f){Vt(r,r.return,f)}}function tw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&nl(r.type)||r.tag===4}function sy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&nl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ay(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Np));else if(u!==4&&(u===27&&nl(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(ay(r,s,o),r=r.sibling;r!==null;)ay(r,s,o),r=r.sibling}function vp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&nl(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(vp(r,s,o),r=r.sibling;r!==null;)vp(r,s,o),r=r.sibling}function nw(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);hi(s,u,o),s[fn]=r,s[on]=o}catch(_){Vt(r,r.return,_)}}var Wa=!1,vn=!1,oy=!1,iw=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function xx(r,s){if(r=r.containerInfo,Dy=Lp,r=ad(r),gu(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var A=0,R=-1,U=-1,J=0,oe=0,he=r,ee=null;t:for(;;){for(var te;he!==o||f!==0&&he.nodeType!==3||(R=A+f),he!==_||u!==0&&he.nodeType!==3||(U=A+u),he.nodeType===3&&(A+=he.nodeValue.length),(te=he.firstChild)!==null;)ee=he,he=te;for(;;){if(he===r)break t;if(ee===o&&++J===f&&(R=A),ee===_&&++oe===u&&(U=A),(te=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=te}o=R===-1||U===-1?null:{start:R,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Py={focusedElem:r,selectionRange:o},Lp=!1,Yn=s;Yn!==null;)if(s=Yn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Yn=r;else for(;Yn!==null;){switch(s=Yn,_=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,o=s,f=_.memoizedProps,_=_.memoizedState,u=o.stateNode;try{var Ke=vc(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ke,_),u.__reactInternalSnapshotBeforeUpdate=r}catch(ze){Vt(o,o.return,ze)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Vy(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=s.sibling,r!==null){r.return=s.return,Yn=r;break}Yn=s.return}}function rw(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Yo(r,o),u&4&&jd(5,o);break;case 1:if(Yo(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){Vt(o,o.return,A)}else{var f=vc(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Vt(o,o.return,A)}}u&64&&JT(o),u&512&&Bd(o,o.return);break;case 3:if(Yo(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Qe(r,s)}catch(A){Vt(o,o.return,A)}}break;case 27:s===null&&u&4&&nw(o);case 26:case 5:Yo(r,o),s===null&&u&4&&ew(o),u&512&&Bd(o,o.return);break;case 12:Yo(r,o);break;case 13:Yo(r,o),u&4&&ow(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Ux.bind(null,o),nN(r,o))));break;case 22:if(u=o.memoizedState!==null||Wa,!u){s=s!==null&&s.memoizedState!==null||vn,f=Wa;var _=vn;Wa=u,(vn=s)&&!_?Wo(r,o,(o.subtreeFlags&8772)!==0):Yo(r,o),Wa=f,vn=_}break;case 30:break;default:Yo(r,o)}}function sw(r){var s=r.alternate;s!==null&&(r.alternate=null,sw(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Cs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var $t=null,Qi=!1;function Xa(r,s,o){for(o=o.child;o!==null;)aw(r,s,o),o=o.sibling}function aw(r,s,o){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(zt,o)}catch{}switch(o.tag){case 26:vn||Ks(o,s),Xa(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vn||Ks(o,s);var u=$t,f=Qi;nl(o.type)&&($t=o.stateNode,Qi=!1),Xa(r,s,o),Yd(o.stateNode),$t=u,Qi=f;break;case 5:vn||Ks(o,s);case 6:if(u=$t,f=Qi,$t=null,Xa(r,s,o),$t=u,Qi=f,$t!==null)if(Qi)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(o.stateNode)}catch(_){Vt(o,s,_)}else try{$t.removeChild(o.stateNode)}catch(_){Vt(o,s,_)}break;case 18:$t!==null&&(Qi?(r=$t,Qw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),rf(r)):Qw($t,o.stateNode));break;case 4:u=$t,f=Qi,$t=o.stateNode.containerInfo,Qi=!0,Xa(r,s,o),$t=u,Qi=f;break;case 0:case 11:case 14:case 15:vn||Qo(2,o,s),vn||Qo(4,o,s),Xa(r,s,o);break;case 1:vn||(Ks(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ZT(o,s,u)),Xa(r,s,o);break;case 21:Xa(r,s,o);break;case 22:vn=(u=vn)||o.memoizedState!==null,Xa(r,s,o),vn=u;break;default:Xa(r,s,o)}}function ow(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{rf(r)}catch(o){Vt(s,s.return,o)}}function Nx(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new iw),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new iw),s;default:throw Error(n(435,r.tag))}}function ly(r,s){var o=Nx(r);s.forEach(function(u){var f=jx.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function fr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],_=r,A=s,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(nl(R.type)){$t=R.stateNode,Qi=!1;break e}break;case 5:$t=R.stateNode,Qi=!1;break e;case 3:case 4:$t=R.stateNode.containerInfo,Qi=!0;break e}R=R.return}if($t===null)throw Error(n(160));aw(_,A,f),$t=null,Qi=!1,_=f.alternate,_!==null&&(_.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)lw(s,r),s=s.sibling}var gs=null;function lw(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(s,r),mr(r),u&4&&(Qo(3,r,r.return),jd(3,r),Qo(5,r,r.return));break;case 1:fr(s,r),mr(r),u&512&&(vn||o===null||Ks(o,o.return)),u&64&&Wa&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=gs;if(fr(s,r),mr(r),u&512&&(vn||o===null||Ks(o,o.return)),u&4){var _=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":_=f.getElementsByTagName("title")[0],(!_||_[Ir]||_[fn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=f.createElement(u),f.head.insertBefore(_,f.querySelector("head > title"))),hi(_,u,o),_[fn]=r,rt(_),u=_;break e;case"link":var A=n0("link","href",f).get(u+(o.href||""));if(A){for(var R=0;R<A.length;R++)if(_=A[R],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(R,1);break t}}_=f.createElement(u),hi(_,u,o),f.head.appendChild(_);break;case"meta":if(A=n0("meta","content",f).get(u+(o.content||""))){for(R=0;R<A.length;R++)if(_=A[R],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(R,1);break t}}_=f.createElement(u),hi(_,u,o),f.head.appendChild(_);break;default:throw Error(n(468,u))}_[fn]=r,rt(_),u=_}r.stateNode=u}else i0(f,r.type,r.stateNode);else r.stateNode=t0(f,u,r.memoizedProps);else _!==u?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,u===null?i0(f,r.type,r.stateNode):t0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&ry(r,r.memoizedProps,o.memoizedProps)}break;case 27:fr(s,r),mr(r),u&512&&(vn||o===null||Ks(o,o.return)),o!==null&&u&4&&ry(r,r.memoizedProps,o.memoizedProps);break;case 5:if(fr(s,r),mr(r),u&512&&(vn||o===null||Ks(o,o.return)),r.flags&32){f=r.stateNode;try{Vn(f,"")}catch(te){Vt(r,r.return,te)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,ry(r,f,o!==null?o.memoizedProps:f)),u&1024&&(oy=!0);break;case 6:if(fr(s,r),mr(r),u&4){if(r.stateNode===null)throw Error(n(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(te){Vt(r,r.return,te)}}break;case 3:if(kp=null,f=gs,gs=Pp(s.containerInfo),fr(s,r),gs=f,mr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{rf(s.containerInfo)}catch(te){Vt(r,r.return,te)}oy&&(oy=!1,cw(r));break;case 4:u=gs,gs=Pp(r.stateNode.containerInfo),fr(s,r),mr(r),gs=u;break;case 12:fr(s,r),mr(r);break;case 13:fr(s,r),mr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(my=Ui()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ly(r,u)));break;case 22:f=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,J=Wa,oe=vn;if(Wa=J||f,vn=oe||U,fr(s,r),vn=oe,Wa=J,mr(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||U||Wa||vn||Ec(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(_=U.stateNode,f)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=U.stateNode;var he=U.memoizedProps.style,ee=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Vt(U,U.return,te)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(te){Vt(U,U.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ly(r,o))));break;case 19:fr(s,r),mr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ly(r,u)));break;case 30:break;case 21:break;default:fr(s,r),mr(r)}}function mr(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(tw(u)){o=u;break}u=u.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var f=o.stateNode,_=sy(r);vp(r,_,f);break;case 5:var A=o.stateNode;o.flags&32&&(Vn(A,""),o.flags&=-33);var R=sy(r);vp(r,R,A);break;case 3:case 4:var U=o.stateNode.containerInfo,J=sy(r);ay(r,J,U);break;default:throw Error(n(161))}}catch(oe){Vt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function cw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;cw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Yo(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)rw(r,s.alternate,s),s=s.sibling}function Ec(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Qo(4,s,s.return),Ec(s);break;case 1:Ks(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ZT(s,s.return,o),Ec(s);break;case 27:Yd(s.stateNode);case 26:case 5:Ks(s,s.return),Ec(s);break;case 22:s.memoizedState===null&&Ec(s);break;case 30:Ec(s);break;default:Ec(s)}r=r.sibling}}function Wo(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,_=s,A=_.flags;switch(_.tag){case 0:case 11:case 15:Wo(f,_,o),jd(4,_);break;case 1:if(Wo(f,_,o),u=_,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){Vt(u,u.return,J)}if(u=_,f=u.updateQueue,f!==null){var R=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)$e(U[f],R)}catch(J){Vt(u,u.return,J)}}o&&A&64&&JT(_),Bd(_,_.return);break;case 27:nw(_);case 26:case 5:Wo(f,_,o),o&&u===null&&A&4&&ew(_),Bd(_,_.return);break;case 12:Wo(f,_,o);break;case 13:Wo(f,_,o),o&&A&4&&ow(f,_);break;case 22:_.memoizedState===null&&Wo(f,_,o),Bd(_,_.return);break;case 30:break;default:Wo(f,_,o)}s=s.sibling}}function cy(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&$a(o))}function uy(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$a(r))}function Qs(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uw(r,s,o,u),s=s.sibling}function uw(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Qs(r,s,o,u),f&2048&&jd(9,s);break;case 1:Qs(r,s,o,u);break;case 3:Qs(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$a(r)));break;case 12:if(f&2048){Qs(r,s,o,u),r=s.stateNode;try{var _=s.memoizedProps,A=_.id,R=_.onPostCommit;typeof R=="function"&&R(A,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Vt(s,s.return,U)}}else Qs(r,s,o,u);break;case 13:Qs(r,s,o,u);break;case 23:break;case 22:_=s.stateNode,A=s.alternate,s.memoizedState!==null?_._visibility&2?Qs(r,s,o,u):zd(r,s):_._visibility&2?Qs(r,s,o,u):(_._visibility|=2,Ou(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&cy(A,s);break;case 24:Qs(r,s,o,u),f&2048&&uy(s.alternate,s);break;default:Qs(r,s,o,u)}}function Ou(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=r,A=s,R=o,U=u,J=A.flags;switch(A.tag){case 0:case 11:case 15:Ou(_,A,R,U,f),jd(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&2?Ou(_,A,R,U,f):zd(_,A):(oe._visibility|=2,Ou(_,A,R,U,f)),f&&J&2048&&cy(A.alternate,A);break;case 24:Ou(_,A,R,U,f),f&&J&2048&&uy(A.alternate,A);break;default:Ou(_,A,R,U,f)}s=s.sibling}}function zd(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:zd(o,u),f&2048&&cy(u.alternate,u);break;case 24:zd(o,u),f&2048&&uy(u.alternate,u);break;default:zd(o,u)}s=s.sibling}}var Fd=8192;function ku(r){if(r.subtreeFlags&Fd)for(r=r.child;r!==null;)hw(r),r=r.sibling}function hw(r){switch(r.tag){case 26:ku(r),r.flags&Fd&&r.memoizedState!==null&&pN(gs,r.memoizedState,r.memoizedProps);break;case 5:ku(r);break;case 3:case 4:var s=gs;gs=Pp(r.stateNode.containerInfo),ku(r),gs=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Fd,Fd=16777216,ku(r),Fd=s):ku(r));break;default:ku(r)}}function dw(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function qd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yn=u,mw(u,r)}dw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fw(r),r=r.sibling}function fw(r){switch(r.tag){case 0:case 11:case 15:qd(r),r.flags&2048&&Qo(9,r,r.return);break;case 3:qd(r);break;case 12:qd(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ep(r)):qd(r);break;default:qd(r)}}function Ep(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yn=u,mw(u,r)}dw(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Qo(8,s,s.return),Ep(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ep(s));break;default:Ep(s)}r=r.sibling}}function mw(r,s){for(;Yn!==null;){var o=Yn;switch(o.tag){case 0:case 11:case 15:Qo(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$a(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yn=u;else e:for(o=r;Yn!==null;){u=Yn;var f=u.sibling,_=u.return;if(sw(u),u===o){Yn=null;break e}if(f!==null){f.return=_,Yn=f;break e}Yn=_}}}var Dx={getCacheForType:function(r){var s=xn(Jt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Px=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ut=null,st=null,yt=0,Ct=0,pr=null,Xo=!1,Vu=!1,hy=!1,Ja=0,cn=0,Jo=0,bc=0,dy=0,Fr=0,Mu=0,Hd=null,Yi=null,fy=!1,my=0,bp=1/0,Tp=null,Zo=null,ui=0,el=null,Lu=null,Uu=0,py=0,gy=null,pw=null,$d=0,_y=null;function gr(){if((Rt&2)!==0&&yt!==0)return yt&-yt;if(ae.T!==null){var r=Pi;return r!==0?r:Ay()}return Rs()}function gw(){Fr===0&&(Fr=(yt&536870912)===0||_t?$l():536870912);var r=zr.current;return r!==null&&(r.flags|=32),Fr}function _r(r,s,o){(r===Ut&&(Ct===2||Ct===9)||r.cancelPendingCommit!==null)&&(ju(r,0),tl(r,yt,Fr,!1)),ji(r,o),((Rt&2)===0||r!==Ut)&&(r===Ut&&((Rt&2)===0&&(bc|=o),cn===4&&tl(r,yt,Fr,!1)),Ys(r))}function _w(r,s,o){if((Rt&6)!==0)throw Error(n(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ba(r,s),f=u?Vx(r,s):Ey(r,s,!0),_=u;do{if(f===0){Vu&&!u&&tl(r,s,0,!1);break}else{if(o=r.current.alternate,_&&!Ox(o)){f=Ey(r,s,!1),_=!1;continue}if(f===2){if(_=s,r.errorRecoveryDisabledLanes&_)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var R=r;f=Hd;var U=R.current.memoizedState.isDehydrated;if(U&&(ju(R,A).flags|=256),A=Ey(R,A,!1),A!==2){if(hy&&!U){R.errorRecoveryDisabledLanes|=_,bc|=_,f=4;break e}_=Yi,Yi=f,_!==null&&(Yi===null?Yi=_:Yi.push.apply(Yi,_))}f=A}if(_=!1,f!==2)continue}}if(f===1){ju(r,0),tl(r,s,0,!0);break}e:{switch(u=r,_=f,_){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:tl(u,s,Fr,!Xo);break e;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(f=my+300-Ui(),10<f)){if(tl(u,s,Fr,!Xo),bo(u,0,!0)!==0)break e;u.timeoutHandle=Gw(yw.bind(null,u,o,Yi,Tp,fy,s,Fr,bc,Mu,Xo,_,2,-0,0),f);break e}yw(u,o,Yi,Tp,fy,s,Fr,bc,Mu,Xo,_,0,-0,0)}}break}while(!0);Ys(r)}function yw(r,s,o,u,f,_,A,R,U,J,oe,he,ee,te){if(r.timeoutHandle=-1,he=s.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Jd={stylesheets:null,count:0,unsuspend:mN},hw(s),he=gN(),he!==null)){r.cancelPendingCommit=he(Iw.bind(null,r,s,_,o,u,f,A,R,U,oe,1,ee,te)),tl(r,_,A,!J);return}Iw(r,s,_,o,u,f,A,R,U)}function Ox(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],_=f.getSnapshot;f=f.value;try{if(!gi(_(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function tl(r,s,o,u){s&=~dy,s&=~bc,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var _=31-an(f),A=1<<_;u[_]=-1,f&=~A}o!==0&&rr(r,o,s)}function wp(){return(Rt&6)===0?(Gd(0),!1):!0}function yy(){if(st!==null){if(Ct===0)var r=st.return;else r=st,ds=Ha=null,Ho(r),Du=null,Md=0,r=st;for(;r!==null;)XT(r.alternate,r),r=r.return;st=null}}function ju(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Xx(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),yy(),Ut=r,st=o=ls(r.current,null),yt=s,Ct=0,pr=null,Xo=!1,Vu=ba(r,s),hy=!1,Mu=Fr=dy=bc=Jo=cn=0,Yi=Hd=null,fy=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-an(u),_=1<<f;s|=r[f],u&=~_}return Ja=s,_u(),o}function vw(r,s){Ne=null,ae.H=up,s===qs||s===Au?(s=N(),Ct=3):s===mc?(s=N(),Ct=4):Ct=s===LT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,pr=s,st===null&&(cn=1,pp(r,xi(s,r.current)))}function Ew(){var r=ae.H;return ae.H=up,r===null?up:r}function bw(){var r=ae.A;return ae.A=Dx,r}function vy(){cn=4,Xo||(yt&4194048)!==yt&&zr.current!==null||(Vu=!0),(Jo&134217727)===0&&(bc&134217727)===0||Ut===null||tl(Ut,yt,Fr,!1)}function Ey(r,s,o){var u=Rt;Rt|=2;var f=Ew(),_=bw();(Ut!==r||yt!==s)&&(Tp=null,ju(r,s)),s=!1;var A=cn;e:do try{if(Ct!==0&&st!==null){var R=st,U=pr;switch(Ct){case 8:yy(),A=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(s=!0);var J=Ct;if(Ct=0,pr=null,Bu(r,R,U,J),o&&Vu){A=0;break e}break;default:J=Ct,Ct=0,pr=null,Bu(r,R,U,J)}}kx(),A=cn;break}catch(oe){vw(r,oe)}while(!0);return s&&r.shellSuspendCounter++,ds=Ha=null,Rt=u,ae.H=f,ae.A=_,st===null&&(Ut=null,yt=0,_u()),A}function kx(){for(;st!==null;)Tw(st)}function Vx(r,s){var o=Rt;Rt|=2;var u=Ew(),f=bw();Ut!==r||yt!==s?(Tp=null,bp=Ui()+500,ju(r,s)):Vu=ba(r,s);e:do try{if(Ct!==0&&st!==null){s=st;var _=pr;t:switch(Ct){case 1:Ct=0,pr=null,Bu(r,s,_,1);break;case 2:case 9:if(qo(_)){Ct=0,pr=null,ww(s);break}s=function(){Ct!==2&&Ct!==9||Ut!==r||(Ct=7),Ys(r)},_.then(s,s);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:qo(_)?(Ct=0,pr=null,ww(s)):(Ct=0,pr=null,Bu(r,s,_,7));break;case 5:var A=null;switch(st.tag){case 26:A=st.memoizedState;case 5:case 27:var R=st;if(!A||r0(A)){Ct=0,pr=null;var U=R.sibling;if(U!==null)st=U;else{var J=R.return;J!==null?(st=J,Ap(J)):st=null}break t}}Ct=0,pr=null,Bu(r,s,_,5);break;case 6:Ct=0,pr=null,Bu(r,s,_,6);break;case 8:yy(),cn=6;break e;default:throw Error(n(462))}}Mx();break}catch(oe){vw(r,oe)}while(!0);return ds=Ha=null,ae.H=u,ae.A=f,Rt=o,st!==null?0:(Ut=null,yt=0,_u(),cn)}function Mx(){for(;st!==null&&!Xr();)Tw(st)}function Tw(r){var s=YT(r.alternate,r,Ja);r.memoizedProps=r.pendingProps,s===null?Ap(r):st=s}function ww(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=qT(o,s,s.pendingProps,s.type,void 0,yt);break;case 11:s=qT(o,s,s.pendingProps,s.type.render,s.ref,yt);break;case 5:Ho(s);default:XT(o,s),s=st=Ym(s,Ja),s=YT(o,s,Ja)}r.memoizedProps=r.pendingProps,s===null?Ap(r):st=s}function Bu(r,s,o,u){ds=Ha=null,Ho(s),Du=null,Md=0;var f=s.return;try{if(Ix(r,f,s,o,yt)){cn=1,pp(r,xi(o,r.current)),st=null;return}}catch(_){if(f!==null)throw st=f,_;cn=1,pp(r,xi(o,r.current)),st=null;return}s.flags&32768?(_t||u===1?r=!0:Vu||(yt&536870912)!==0?r=!1:(Xo=r=!0,(u===2||u===9||u===3||u===6)&&(u=zr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Aw(s,r)):Ap(s)}function Ap(r){var s=r;do{if((s.flags&32768)!==0){Aw(s,Xo);return}r=s.return;var o=Rx(s.alternate,s,Ja);if(o!==null){st=o;return}if(s=s.sibling,s!==null){st=s;return}st=s=r}while(s!==null);cn===0&&(cn=5)}function Aw(r,s){do{var o=Cx(r.alternate,r);if(o!==null){o.flags&=32767,st=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){st=r;return}st=r=o}while(r!==null);cn=6,st=null}function Iw(r,s,o,u,f,_,A,R,U){r.cancelPendingCommit=null;do Ip();while(ui!==0);if((Rt&6)!==0)throw Error(n(327));if(s!==null){if(s===r.current)throw Error(n(177));if(_=s.lanes|s.childLanes,_|=fd,To(r,o,_,A,R,U),r===Ut&&(st=Ut=null,yt=0),Lu=s,el=r,Uu=o,py=_,gy=f,pw=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Bx(va,function(){return Nw(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null,f=be.p,be.p=2,A=Rt,Rt|=4;try{xx(r,s,o)}finally{Rt=A,be.p=f,ae.T=u}}ui=1,Sw(),Rw(),Cw()}}function Sw(){if(ui===1){ui=0;var r=el,s=Lu,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ae.T,ae.T=null;var u=be.p;be.p=2;var f=Rt;Rt|=4;try{lw(s,r);var _=Py,A=ad(r.containerInfo),R=_.focusedElem,U=_.selectionRange;if(A!==R&&R&&R.ownerDocument&&qm(R.ownerDocument.documentElement,R)){if(U!==null&&gu(R)){var J=U.start,oe=U.end;if(oe===void 0&&(oe=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(oe,R.value.length);else{var he=R.ownerDocument||document,ee=he&&he.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ke=R.textContent.length,ze=Math.min(U.start,Ke),Ot=U.end===void 0?ze:Math.min(U.end,Ke);!te.extend&&ze>Ot&&(A=Ot,Ot=ze,ze=A);var Q=Fm(R,ze),q=Fm(R,Ot);if(Q&&q&&(te.rangeCount!==1||te.anchorNode!==Q.node||te.anchorOffset!==Q.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var X=he.createRange();X.setStart(Q.node,Q.offset),te.removeAllRanges(),ze>Ot?(te.addRange(X),te.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),te.addRange(X))}}}}for(he=[],te=R;te=te.parentNode;)te.nodeType===1&&he.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ce=he[R];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Lp=!!Dy,Py=Dy=null}finally{Rt=f,be.p=u,ae.T=o}}r.current=s,ui=2}}function Rw(){if(ui===2){ui=0;var r=el,s=Lu,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ae.T,ae.T=null;var u=be.p;be.p=2;var f=Rt;Rt|=4;try{rw(r,s.alternate,s)}finally{Rt=f,be.p=u,ae.T=o}}ui=3}}function Cw(){if(ui===4||ui===3){ui=0,Jr();var r=el,s=Lu,o=Uu,u=pw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ui=5:(ui=0,Lu=el=null,xw(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Zo=null),wo(o),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(zt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ae.T,f=be.p,be.p=2,ae.T=null;try{for(var _=r.onRecoverableError,A=0;A<u.length;A++){var R=u[A];_(R.value,{componentStack:R.stack})}}finally{ae.T=s,be.p=f}}(Uu&3)!==0&&Ip(),Ys(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===_y?$d++:($d=0,_y=r):$d=0,Gd(0)}}function xw(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,$a(s)))}function Ip(r){return Sw(),Rw(),Cw(),Nw()}function Nw(){if(ui!==5)return!1;var r=el,s=py;py=0;var o=wo(Uu),u=ae.T,f=be.p;try{be.p=32>o?32:o,ae.T=null,o=gy,gy=null;var _=el,A=Uu;if(ui=0,Lu=el=null,Uu=0,(Rt&6)!==0)throw Error(n(331));var R=Rt;if(Rt|=4,fw(_.current),uw(_,_.current,A,o),Rt=R,Gd(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(zt,_)}catch{}return!0}finally{be.p=f,ae.T=u,xw(r,s)}}function Dw(r,s,o){s=xi(o,s),s=Y_(r.stateNode,s,2),r=Re(r,s,2),r!==null&&(ji(r,2),Ys(r))}function Vt(r,s,o){if(r.tag===3)Dw(r,r,o);else for(;s!==null;){if(s.tag===3){Dw(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zo===null||!Zo.has(u))){r=xi(o,r),o=VT(2),u=Re(s,o,2),u!==null&&(MT(o,u,s,r),ji(u,2),Ys(u));break}}s=s.return}}function by(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new Px;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(hy=!0,f.add(o),r=Lx.bind(null,r,s,o),s.then(r,r))}function Lx(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ut===r&&(yt&o)===o&&(cn===4||cn===3&&(yt&62914560)===yt&&300>Ui()-my?(Rt&2)===0&&ju(r,0):dy|=o,Mu===yt&&(Mu=0)),Ys(r)}function Pw(r,s){s===0&&(s=Gl()),r=_i(r,s),r!==null&&(ji(r,s),Ys(r))}function Ux(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Pw(r,o)}function jx(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),Pw(r,o)}function Bx(r,s){return tr(r,s)}var Sp=null,zu=null,Ty=!1,Rp=!1,wy=!1,Tc=0;function Ys(r){r!==zu&&r.next===null&&(zu===null?Sp=zu=r:zu=zu.next=r),Rp=!0,Ty||(Ty=!0,Fx())}function Gd(r,s){if(!wy&&Rp){wy=!0;do for(var o=!1,u=Sp;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var _=0;else{var A=u.suspendedLanes,R=u.pingedLanes;_=(1<<31-an(42|r)+1)-1,_&=f&~(A&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,Mw(u,_))}else _=yt,_=bo(u,u===Ut?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||ba(u,_)||(o=!0,Mw(u,_));u=u.next}while(o);wy=!1}}function zx(){Ow()}function Ow(){Rp=Ty=!1;var r=0;Tc!==0&&(Wx()&&(r=Tc),Tc=0);for(var s=Ui(),o=null,u=Sp;u!==null;){var f=u.next,_=kw(u,s);_===0?(u.next=null,o===null?Sp=f:o.next=f,f===null&&(zu=o)):(o=u,(r!==0||(_&3)!==0)&&(Rp=!0)),u=f}Gd(r)}function kw(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var A=31-an(_),R=1<<A,U=f[A];U===-1?((R&o)===0||(R&u)!==0)&&(f[A]=Hl(R,s)):U<=s&&(r.expiredLanes|=R),_&=~R}if(s=Ut,o=yt,o=bo(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(Ct===2||Ct===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ws(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ba(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&ws(u),wo(o)){case 2:case 8:o=vo;break;case 32:o=va;break;case 268435456:o=Eo;break;default:o=va}return u=Vw.bind(null,r),o=tr(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&ws(u),r.callbackPriority=2,r.callbackNode=null,2}function Vw(r,s){if(ui!==0&&ui!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ip()&&r.callbackNode!==o)return null;var u=yt;return u=bo(r,r===Ut?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(_w(r,u,s),kw(r,Ui()),r.callbackNode!=null&&r.callbackNode===o?Vw.bind(null,r):null)}function Mw(r,s){if(Ip())return null;_w(r,s,!0)}function Fx(){Jx(function(){(Rt&6)!==0?tr(ql,zx):Ow()})}function Ay(){return Tc===0&&(Tc=$l()),Tc}function Lw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Co(""+r)}function Uw(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function qx(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var _=Lw((f[on]||null).action),A=u.submitter;A&&(s=(s=A[on]||null)?Lw(s.formAction):A.getAttribute("formAction"),s!==null&&(_=s,A=null));var R=new Ns("action","action",null,u,f);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Tc!==0){var U=A?Uw(f,A):new FormData(f);H_(o,{pending:!0,data:U,method:f.method,action:_},null,U)}}else typeof _=="function"&&(R.preventDefault(),U=A?Uw(f,A):new FormData(f),H_(o,{pending:!0,data:U,method:f.method,action:_},_,U))},currentTarget:f}]})}}for(var Iy=0;Iy<dd.length;Iy++){var Sy=dd[Iy],Hx=Sy.toLowerCase(),$x=Sy[0].toUpperCase()+Sy.slice(1);dr(Hx,"on"+$x)}dr(Ms,"onAnimationEnd"),dr(jr,"onAnimationIteration"),dr(cd,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(U_,"onTransitionRun"),dr(Gm,"onTransitionStart"),dr(Km,"onTransitionCancel"),dr(ud,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function jw(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var A=u.length-1;0<=A;A--){var R=u[A],U=R.instance,J=R.currentTarget;if(R=R.listener,U!==_&&f.isPropagationStopped())break e;_=R,f.currentTarget=J;try{_(f)}catch(oe){mp(oe)}f.currentTarget=null,_=U}else for(A=0;A<u.length;A++){if(R=u[A],U=R.instance,J=R.currentTarget,R=R.listener,U!==_&&f.isPropagationStopped())break e;_=R,f.currentTarget=J;try{_(f)}catch(oe){mp(oe)}f.currentTarget=null,_=U}}}}function at(r,s){var o=s[Ql];o===void 0&&(o=s[Ql]=new Set);var u=r+"__bubble";o.has(u)||(Bw(s,r,2,!1),o.add(u))}function Ry(r,s,o){var u=0;s&&(u|=4),Bw(o,r,u,s)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function Cy(r){if(!r[Cp]){r[Cp]=!0,kn.forEach(function(o){o!=="selectionchange"&&(Gx.has(o)||Ry(o,!1,r),Ry(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cp]||(s[Cp]=!0,Ry("selectionchange",!1,s))}}function Bw(r,s,o,u){switch(u0(s)){case 2:var f=vN;break;case 8:f=EN;break;default:f=Fy}o=f.bind(null,s,o,r),f=void 0,!Mn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function xy(r,s,o,u,f){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var R=u.stateNode.containerInfo;if(R===f)break;if(A===4)for(A=u.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;R!==null;){if(A=sr(R),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){u=_=A;continue e}R=R.parentNode}}u=u.return}Xl(function(){var J=_,oe=ii(o),he=[];e:{var ee=hd.get(r);if(ee!==void 0){var te=Ns,Ke=r;switch(r){case"keypress":if(Mr(o)===0)break e;case"keydown":case"keyup":te=Va;break;case"focusin":Ke="focus",te=Na;break;case"focusout":Ke="blur",te=Na;break;case"beforeblur":case"afterblur":te=Na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=hu;break;case Ms:case jr:case cd:te=Da;break;case ud:te=du;break;case"scroll":case"scrollend":te=Zl;break;case"wheel":te=Po;break;case"copy":case"cut":case"paste":te=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=cr;break;case"toggle":case"beforetoggle":te=sc}var ze=(s&4)!==0,Ot=!ze&&(r==="scroll"||r==="scrollend"),Q=ze?ee!==null?ee+"Capture":null:ee;ze=[];for(var q=J,X;q!==null;){var ce=q;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||Q===null||(ce=xs(q,Q),ce!=null&&ze.push(Qd(q,ce,X))),Ot)break;q=q.return}0<ze.length&&(ee=new te(ee,Ke,null,o,oe),he.push({event:ee,listeners:ze}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&o!==Gn&&(Ke=o.relatedTarget||o.fromElement)&&(sr(Ke)||Ke[Bi]))break e;if((te||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ke=o.relatedTarget||o.toElement,te=J,Ke=Ke?sr(Ke):null,Ke!==null&&(Ot=l(Ke),ze=Ke.tag,Ke!==Ot||ze!==5&&ze!==27&&ze!==6)&&(Ke=null)):(te=null,Ke=J),te!==Ke)){if(ze=Ln,ce="onMouseLeave",Q="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(ze=cr,ce="onPointerLeave",Q="onPointerEnter",q="pointer"),Ot=te==null?ee:Rr(te),X=Ke==null?ee:Rr(Ke),ee=new ze(ce,q+"leave",te,o,oe),ee.target=Ot,ee.relatedTarget=X,ce=null,sr(oe)===J&&(ze=new ze(Q,q+"enter",Ke,o,oe),ze.target=X,ze.relatedTarget=Ot,ce=ze),Ot=ce,te&&Ke)t:{for(ze=te,Q=Ke,q=0,X=ze;X;X=Fu(X))q++;for(X=0,ce=Q;ce;ce=Fu(ce))X++;for(;0<q-X;)ze=Fu(ze),q--;for(;0<X-q;)Q=Fu(Q),X--;for(;q--;){if(ze===Q||Q!==null&&ze===Q.alternate)break t;ze=Fu(ze),Q=Fu(Q)}ze=null}else ze=null;te!==null&&zw(he,ee,te,ze,!1),Ke!==null&&Ot!==null&&zw(he,Ot,Ke,ze,!0)}}e:{if(ee=J?Rr(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var De=Mm;else if(gn(ee))if(id)De=zm;else{De=jm;var it=M_}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Sa(J.elementType)&&(De=Mm):De=Bm;if(De&&(De=De(r,J))){_n(he,De,o,oe);break e}it&&it(r,ee,J),r==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Dr(ee,"number",ee.value)}switch(it=J?Rr(J):window,r){case"focusin":(gn(it)||it.contentEditable==="true")&&(Vo=it,od=J,oc=null);break;case"focusout":oc=od=Vo=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Hm(he,o,oe);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":Hm(he,o,oe)}var Ue;if(Ur)e:{switch(r){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else ct?ie(r,o)&&(He="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(w&&o.locale!=="ko"&&(ct||He!=="onCompositionStart"?He==="onCompositionEnd"&&ct&&(Ue=xa()):(or=oe,Vr="value"in or?or.value:or.textContent,ct=!0)),it=xp(J,He),0<it.length&&(He=new ec(He,r,null,o,oe),he.push({event:He,listeners:it}),Ue?He.data=Ue:(Ue=ve(o),Ue!==null&&(He.data=Ue)))),(Ue=v?pn(r,o):ut(r,o))&&(He=xp(J,"onBeforeInput"),0<He.length&&(it=new ec("onBeforeInput","beforeinput",null,o,oe),he.push({event:it,listeners:He}),it.data=Ue)),qx(he,r,J,o,oe)}jw(he,s)})}function Qd(r,s,o){return{instance:r,listener:s,currentTarget:o}}function xp(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,_=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||_===null||(f=xs(r,o),f!=null&&u.unshift(Qd(r,f,_)),f=xs(r,s),f!=null&&u.push(Qd(r,f,_))),r.tag===3)return u;r=r.return}return[]}function Fu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function zw(r,s,o,u,f){for(var _=s._reactName,A=[];o!==null&&o!==u;){var R=o,U=R.alternate,J=R.stateNode;if(R=R.tag,U!==null&&U===u)break;R!==5&&R!==26&&R!==27||J===null||(U=J,f?(J=xs(o,_),J!=null&&A.unshift(Qd(o,J,U))):f||(J=xs(o,_),J!=null&&A.push(Qd(o,J,U)))),o=o.return}A.length!==0&&r.push({event:s,listeners:A})}var Kx=/\r\n?/g,Qx=/\u0000|\uFFFD/g;function Fw(r){return(typeof r=="string"?r:""+r).replace(Kx,`
`).replace(Qx,"")}function qw(r,s){return s=Fw(s),Fw(r)===s}function Np(){}function Pt(r,s,o,u,f,_){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vn(r,""+u);break;case"className":ti(r,"class",u);break;case"tabIndex":ti(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(r,o,u);break;case"style":Or(r,u,_);break;case"data":if(s!=="object"){ti(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Co(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(s!=="input"&&Pt(r,s,"name",f.name,f,null),Pt(r,s,"formEncType",f.formEncType,f,null),Pt(r,s,"formMethod",f.formMethod,f,null),Pt(r,s,"formTarget",f.formTarget,f,null)):(Pt(r,s,"encType",f.encType,f,null),Pt(r,s,"method",f.method,f,null),Pt(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Co(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Np);break;case"onScroll":u!=null&&at("scroll",r);break;case"onScrollEnd":u!=null&&at("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Co(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":at("beforetoggle",r),at("toggle",r),xr(r,"popover",u);break;case"xlinkActuate":In(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":In(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":In(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":In(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":In(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":In(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":In(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":In(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":In(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lu.get(o)||o,xr(r,o,u))}}function Ny(r,s,o,u,f,_){switch(o){case"style":Or(r,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Vn(r,u):(typeof u=="number"||typeof u=="bigint")&&Vn(r,""+u);break;case"onScroll":u!=null&&at("scroll",r);break;case"onScrollEnd":u!=null&&at("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Np);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!An.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),_=r[on]||null,_=_!=null?_[o]:null,typeof _=="function"&&r.removeEventListener(s,_,f),typeof u=="function")){typeof _!="function"&&_!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):xr(r,o,u)}}}function hi(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",r),at("load",r);var u=!1,f=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var A=o[_];if(A!=null)switch(_){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Pt(r,s,_,A,o,null)}}f&&Pt(r,s,"srcSet",o.srcSet,o,null),u&&Pt(r,s,"src",o.src,o,null);return;case"input":at("invalid",r);var R=_=A=f=null,U=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":f=oe;break;case"type":A=oe;break;case"checked":U=oe;break;case"defaultChecked":J=oe;break;case"value":_=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,s));break;default:Pt(r,s,u,oe,o,null)}}ss(r,_,R,U,J,A,f,!1),Ia(r);return;case"select":at("invalid",r),u=A=_=null;for(f in o)if(o.hasOwnProperty(f)&&(R=o[f],R!=null))switch(f){case"value":_=R;break;case"defaultValue":A=R;break;case"multiple":u=R;default:Pt(r,s,f,R,o,null)}s=_,o=A,r.multiple=!!u,s!=null?Sn(r,!!u,s,!1):o!=null&&Sn(r,!!u,o,!0);return;case"textarea":at("invalid",r),_=f=u=null;for(A in o)if(o.hasOwnProperty(A)&&(R=o[A],R!=null))switch(A){case"value":u=R;break;case"defaultValue":f=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:Pt(r,s,A,R,o,null)}Pr(r,u,f,_),Ia(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Pt(r,s,U,u,o,null)}return;case"dialog":at("beforetoggle",r),at("toggle",r),at("cancel",r),at("close",r);break;case"iframe":case"object":at("load",r);break;case"video":case"audio":for(u=0;u<Kd.length;u++)at(Kd[u],r);break;case"image":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"embed":case"source":case"link":at("error",r),at("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Pt(r,s,J,u,o,null)}return;default:if(Sa(s)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&Ny(r,s,oe,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Pt(r,s,R,u,o,null))}function Yx(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,_=null,A=null,R=null,U=null,J=null,oe=null;for(te in o){var he=o[te];if(o.hasOwnProperty(te)&&he!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=he;default:u.hasOwnProperty(te)||Pt(r,s,te,null,u,he)}}for(var ee in u){var te=u[ee];if(he=o[ee],u.hasOwnProperty(ee)&&(te!=null||he!=null))switch(ee){case"type":_=te;break;case"name":f=te;break;case"checked":J=te;break;case"defaultChecked":oe=te;break;case"value":A=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,s));break;default:te!==he&&Pt(r,s,ee,te,u,he)}}Mt(r,A,R,U,J,oe,_,f);return;case"select":te=A=R=ee=null;for(_ in o)if(U=o[_],o.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":te=U;default:u.hasOwnProperty(_)||Pt(r,s,_,null,u,U)}for(f in u)if(_=u[f],U=o[f],u.hasOwnProperty(f)&&(_!=null||U!=null))switch(f){case"value":ee=_;break;case"defaultValue":R=_;break;case"multiple":A=_;default:_!==U&&Pt(r,s,f,_,u,U)}s=R,o=A,u=te,ee!=null?Sn(r,!!o,ee,!1):!!u!=!!o&&(s!=null?Sn(r,!!o,s,!0):Sn(r,!!o,o?[]:"",!1));return;case"textarea":te=ee=null;for(R in o)if(f=o[R],o.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Pt(r,s,R,null,u,f)}for(A in u)if(f=u[A],_=o[A],u.hasOwnProperty(A)&&(f!=null||_!=null))switch(A){case"value":ee=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==_&&Pt(r,s,A,f,u,_)}lt(r,ee,te);return;case"option":for(var Ke in o)if(ee=o[Ke],o.hasOwnProperty(Ke)&&ee!=null&&!u.hasOwnProperty(Ke))switch(Ke){case"selected":r.selected=!1;break;default:Pt(r,s,Ke,null,u,ee)}for(U in u)if(ee=u[U],te=o[U],u.hasOwnProperty(U)&&ee!==te&&(ee!=null||te!=null))switch(U){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Pt(r,s,U,ee,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in o)ee=o[ze],o.hasOwnProperty(ze)&&ee!=null&&!u.hasOwnProperty(ze)&&Pt(r,s,ze,null,u,ee);for(J in u)if(ee=u[J],te=o[J],u.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,s));break;default:Pt(r,s,J,ee,u,te)}return;default:if(Sa(s)){for(var Ot in o)ee=o[Ot],o.hasOwnProperty(Ot)&&ee!==void 0&&!u.hasOwnProperty(Ot)&&Ny(r,s,Ot,void 0,u,ee);for(oe in u)ee=u[oe],te=o[oe],!u.hasOwnProperty(oe)||ee===te||ee===void 0&&te===void 0||Ny(r,s,oe,ee,u,te);return}}for(var Q in o)ee=o[Q],o.hasOwnProperty(Q)&&ee!=null&&!u.hasOwnProperty(Q)&&Pt(r,s,Q,null,u,ee);for(he in u)ee=u[he],te=o[he],!u.hasOwnProperty(he)||ee===te||ee==null&&te==null||Pt(r,s,he,ee,u,te)}var Dy=null,Py=null;function Dp(r){return r.nodeType===9?r:r.ownerDocument}function Hw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $w(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Oy(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ky=null;function Wx(){var r=window.event;return r&&r.type==="popstate"?r===ky?!1:(ky=r,!0):(ky=null,!1)}var Gw=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(r){return Kw.resolve(null).then(r).catch(Zx)}:Gw;function Zx(r){setTimeout(function(){throw r})}function nl(r){return r==="head"}function Qw(r,s){var o=s,u=0,f=0;do{var _=o.nextSibling;if(r.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<u&&8>u){o=u;var A=r.ownerDocument;if(o&1&&Yd(A.documentElement),o&2&&Yd(A.body),o&4)for(o=A.head,Yd(o),A=o.firstChild;A;){var R=A.nextSibling,U=A.nodeName;A[Ir]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&A.rel.toLowerCase()==="stylesheet"||o.removeChild(A),A=R}}if(f===0){r.removeChild(_),rf(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=_}while(o);rf(s)}function Vy(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vy(o),Cs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function eN(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ir])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=_s(r.nextSibling),r===null)break}return null}function tN(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=_s(r.nextSibling),r===null))return null;return r}function My(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function nN(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function _s(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Ly=null;function Yw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Ww(r,s,o){switch(s=Dp(o),r){case"html":if(r=s.documentElement,!r)throw Error(n(452));return r;case"head":if(r=s.head,!r)throw Error(n(453));return r;case"body":if(r=s.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Yd(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Cs(r)}var qr=new Map,Xw=new Set;function Pp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Za=be.d;be.d={f:iN,r:rN,D:sN,C:aN,L:oN,m:lN,X:uN,S:cN,M:hN};function iN(){var r=Za.f(),s=wp();return r||s}function rN(r){var s=Sr(r);s!==null&&s.tag===5&&s.type==="form"?_T(s):Za.r(r)}var qu=typeof document>"u"?null:document;function Jw(r,s,o){var u=qu;if(u&&typeof s=="string"&&s){var f=Dt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Xw.has(f)||(Xw.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),hi(s,"link",r),rt(s),u.head.appendChild(s)))}}function sN(r){Za.D(r),Jw("dns-prefetch",r,null)}function aN(r,s){Za.C(r,s),Jw("preconnect",r,s)}function oN(r,s,o){Za.L(r,s,o);var u=qu;if(u&&r&&s){var f='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Dt(o.imageSizes)+'"]')):f+='[href="'+Dt(r)+'"]';var _=f;switch(s){case"style":_=Hu(r);break;case"script":_=$u(r)}qr.has(_)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),qr.set(_,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(Wd(_))||s==="script"&&u.querySelector(Xd(_))||(s=u.createElement("link"),hi(s,"link",r),rt(s),u.head.appendChild(s)))}}function lN(r,s){Za.m(r,s);var o=qu;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Dt(u)+'"][href="'+Dt(r)+'"]',_=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$u(r)}if(!qr.has(_)&&(r=y({rel:"modulepreload",href:r},s),qr.set(_,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xd(_)))return}u=o.createElement("link"),hi(u,"link",r),rt(u),o.head.appendChild(u)}}}function cN(r,s,o){Za.S(r,s,o);var u=qu;if(u&&r){var f=ln(u).hoistableStyles,_=Hu(r);s=s||"default";var A=f.get(_);if(!A){var R={loading:0,preload:null};if(A=u.querySelector(Wd(_)))R.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=qr.get(_))&&Uy(r,o);var U=A=u.createElement("link");rt(U),hi(U,"link",r),U._p=new Promise(function(J,oe){U.onload=J,U.onerror=oe}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Op(A,s,u)}A={type:"stylesheet",instance:A,count:1,state:R},f.set(_,A)}}}function uN(r,s){Za.X(r,s);var o=qu;if(o&&r){var u=ln(o).hoistableScripts,f=$u(r),_=u.get(f);_||(_=o.querySelector(Xd(f)),_||(r=y({src:r,async:!0},s),(s=qr.get(f))&&jy(r,s),_=o.createElement("script"),rt(_),hi(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function hN(r,s){Za.M(r,s);var o=qu;if(o&&r){var u=ln(o).hoistableScripts,f=$u(r),_=u.get(f);_||(_=o.querySelector(Xd(f)),_||(r=y({src:r,async:!0,type:"module"},s),(s=qr.get(f))&&jy(r,s),_=o.createElement("script"),rt(_),hi(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function Zw(r,s,o,u){var f=(f=Ve.current)?Pp(f):null;if(!f)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Hu(o.href),o=ln(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Hu(o.href);var _=ln(f).hoistableStyles,A=_.get(r);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,A),(_=f.querySelector(Wd(r)))&&!_._p&&(A.instance=_,A.state.loading=5),qr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qr.set(r,o),_||dN(f,r,o,A.state))),s&&u===null)throw Error(n(528,""));return A}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$u(o),o=ln(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Hu(r){return'href="'+Dt(r)+'"'}function Wd(r){return'link[rel="stylesheet"]['+r+"]"}function e0(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function dN(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),hi(s,"link",o),rt(s),r.head.appendChild(s))}function $u(r){return'[src="'+Dt(r)+'"]'}function Xd(r){return"script[async]"+r}function t0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(u)return s.instance=u,rt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),rt(u),hi(u,"style",f),Op(u,o.precedence,r),s.instance=u;case"stylesheet":f=Hu(o.href);var _=r.querySelector(Wd(f));if(_)return s.state.loading|=4,s.instance=_,rt(_),_;u=e0(o),(f=qr.get(f))&&Uy(u,f),_=(r.ownerDocument||r).createElement("link"),rt(_);var A=_;return A._p=new Promise(function(R,U){A.onload=R,A.onerror=U}),hi(_,"link",u),s.state.loading|=4,Op(_,o.precedence,r),s.instance=_;case"script":return _=$u(o.src),(f=r.querySelector(Xd(_)))?(s.instance=f,rt(f),f):(u=o,(f=qr.get(_))&&(u=y({},o),jy(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),rt(f),hi(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Op(u,o.precedence,r));return s.instance}function Op(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,_=f,A=0;A<u.length;A++){var R=u[A];if(R.dataset.precedence===s)_=R;else if(_!==f)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Uy(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function jy(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var kp=null;function n0(r,s,o){if(kp===null){var u=new Map,f=kp=new Map;f.set(o,u)}else f=kp,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var _=o[f];if(!(_[Ir]||_[fn]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(s)||"";A=r+A;var R=u.get(A);R?R.push(_):u.set(A,[_])}}return u}function i0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function fN(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function r0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Jd=null;function mN(){}function pN(r,s,o){if(Jd===null)throw Error(n(475));var u=Jd;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Hu(o.href),_=r.querySelector(Wd(f));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Vp.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=_,rt(_);return}_=r.ownerDocument||r,o=e0(o),(f=qr.get(f))&&Uy(o,f),_=_.createElement("link"),rt(_);var A=_;A._p=new Promise(function(R,U){A.onload=R,A.onerror=U}),hi(_,"link",o),s.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Vp.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function gN(){if(Jd===null)throw Error(n(475));var r=Jd;return r.stylesheets&&r.count===0&&By(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&By(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Vp(){if(this.count--,this.count===0){if(this.stylesheets)By(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Mp=null;function By(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Mp=new Map,s.forEach(_N,r),Mp=null,Vp.call(r))}function _N(r,s){if(!(s.state.loading&4)){var o=Mp.get(r);if(o)var u=o.get(null);else{o=new Map,Mp.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<f.length;_++){var A=f[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),u=A)}u&&o.set(null,u)}f=s.instance,A=f.getAttribute("data-precedence"),_=o.get(A)||u,_===u&&o.set(null,f),o.set(A,f),this.count++,u=Vp.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),_?_.parentNode.insertBefore(f,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var Zd={$$typeof:le,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function yN(r,s,o,u,f,_,A,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function s0(r,s,o,u,f,_,A,R,U,J,oe,he){return r=new yN(r,s,o,A,R,U,J,he),s=1,_===!0&&(s|=24),_=Di(3,null,null,s),r.current=_,_.stateNode=r,s=Tu(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:o,cache:s},se(_),r}function a0(r){return r?(r=Lo,r):Lo}function o0(r,s,o,u,f,_){f=a0(f),u.context===null?u.context=f:u.pendingContext=f,u=_e(s),u.payload={element:o},_=_===void 0?null:_,_!==null&&(u.callback=_),o=Re(r,u,s),o!==null&&(_r(o,r,s),Ce(o,r,s))}function l0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function zy(r,s){l0(r,s),(r=r.alternate)&&l0(r,s)}function c0(r){if(r.tag===13){var s=_i(r,67108864);s!==null&&_r(s,r,67108864),zy(r,67108864)}}var Lp=!0;function vN(r,s,o,u){var f=ae.T;ae.T=null;var _=be.p;try{be.p=2,Fy(r,s,o,u)}finally{be.p=_,ae.T=f}}function EN(r,s,o,u){var f=ae.T;ae.T=null;var _=be.p;try{be.p=8,Fy(r,s,o,u)}finally{be.p=_,ae.T=f}}function Fy(r,s,o,u){if(Lp){var f=qy(u);if(f===null)xy(r,s,u,Up,o),h0(r,u);else if(TN(f,r,s,o,u))u.stopPropagation();else if(h0(r,u),s&4&&-1<bN.indexOf(r)){for(;f!==null;){var _=Sr(f);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=ir(_.pendingLanes);if(A!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var U=1<<31-an(A);R.entanglements[1]|=U,A&=~U}Ys(_),(Rt&6)===0&&(bp=Ui()+500,Gd(0))}}break;case 13:R=_i(_,2),R!==null&&_r(R,_,2),wp(),zy(_,2)}if(_=qy(u),_===null&&xy(r,s,u,Up,o),_===f)break;f=_}f!==null&&u.stopPropagation()}else xy(r,s,u,null,o)}}function qy(r){return r=ii(r),Hy(r)}var Up=null;function Hy(r){if(Up=null,r=sr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Up=r,null}function u0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zh()){case ql:return 2;case vo:return 8;case va:case ed:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var $y=!1,il=null,rl=null,sl=null,ef=new Map,tf=new Map,al=[],bN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h0(r,s){switch(r){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":ef.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(s.pointerId)}}function nf(r,s,o,u,f,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:_,targetContainers:[f]},s!==null&&(s=Sr(s),s!==null&&c0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function TN(r,s,o,u,f){switch(s){case"focusin":return il=nf(il,r,s,o,u,f),!0;case"dragenter":return rl=nf(rl,r,s,o,u,f),!0;case"mouseover":return sl=nf(sl,r,s,o,u,f),!0;case"pointerover":var _=f.pointerId;return ef.set(_,nf(ef.get(_)||null,r,s,o,u,f)),!0;case"gotpointercapture":return _=f.pointerId,tf.set(_,nf(tf.get(_)||null,r,s,o,u,f)),!0}return!1}function d0(r){var s=sr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,ts(r.priority,function(){if(o.tag===13){var u=gr();u=Ss(u);var f=_i(o,u);f!==null&&_r(f,o,u),zy(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jp(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=qy(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Gn=u,o.target.dispatchEvent(u),Gn=null}else return s=Sr(o),s!==null&&c0(s),r.blockedOn=o,!1;s.shift()}return!0}function f0(r,s,o){jp(r)&&o.delete(s)}function wN(){$y=!1,il!==null&&jp(il)&&(il=null),rl!==null&&jp(rl)&&(rl=null),sl!==null&&jp(sl)&&(sl=null),ef.forEach(f0),tf.forEach(f0)}function Bp(r,s){r.blockedOn===s&&(r.blockedOn=null,$y||($y=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wN)))}var zp=null;function m0(r){zp!==r&&(zp=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zp===r&&(zp=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Hy(u||o)===null)continue;break}var _=Sr(o);_!==null&&(r.splice(s,3),s-=3,H_(_,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function rf(r){function s(U){return Bp(U,r)}il!==null&&Bp(il,r),rl!==null&&Bp(rl,r),sl!==null&&Bp(sl,r),ef.forEach(s),tf.forEach(s);for(var o=0;o<al.length;o++){var u=al[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<al.length&&(o=al[0],o.blockedOn===null);)d0(o),o.blockedOn===null&&al.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],_=o[u+1],A=f[on]||null;if(typeof _=="function")A||m0(o);else if(A){var R=null;if(_&&_.hasAttribute("formAction")){if(f=_,A=_[on]||null)R=A.formAction;else if(Hy(f)!==null)continue}else R=A.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),m0(o)}}}function Gy(r){this._internalRoot=r}Fp.prototype.render=Gy.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));var o=s.current,u=gr();o0(o,u,r,s,null,null)},Fp.prototype.unmount=Gy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;o0(r.current,2,null,r,null,null),wp(),s[Bi]=null}};function Fp(r){this._internalRoot=r}Fp.prototype.unstable_scheduleHydration=function(r){if(r){var s=Rs();r={blockedOn:null,target:r,priority:s};for(var o=0;o<al.length&&s!==0&&s<al[o].priority;o++);al.splice(o,0,r),o===0&&d0(r)}};var p0=e.version;if(p0!=="19.1.0")throw Error(n(527,p0,"19.1.0"));be.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var AN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{zt=qp.inject(AN),wt=qp}catch{}}return af.createRoot=function(r,s){if(!a(r))throw Error(n(299));var o=!1,u="",f=DT,_=PT,A=OT,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=s0(r,1,!1,null,null,o,u,f,_,A,R,null),r[Bi]=s.current,Cy(r),new Gy(s)},af.hydrateRoot=function(r,s,o){if(!a(r))throw Error(n(299));var u=!1,f="",_=DT,A=PT,R=OT,U=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),s=s0(r,1,!0,s,o??null,u,f,_,A,R,U,J),s.context=a0(null),o=s.current,u=gr(),u=Ss(u),f=_e(u),f.callback=null,Re(o,f,u),o=u,s.current.lanes=o,ji(s,o),Ys(s),r[Bi]=s.current,Cy(r),new Fp(s)},af.version="19.1.0",af}var I0;function kN(){if(I0)return Yy.exports;I0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yy.exports=ON(),Yy.exports}var VN=kN(),of={},S0;function MN(){if(S0)return of;S0=1,Object.defineProperty(of,"__esModule",{value:!0}),of.parse=c,of.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,V){const L=new l,H=T.length;if(H<2)return L;const F=(V==null?void 0:V.decode)||y;let Z=0;do{const ne=T.indexOf("=",Z);if(ne===-1)break;const le=T.indexOf(";",Z),Ee=le===-1?H:le;if(ne>Ee){Z=T.lastIndexOf(";",ne-1)+1;continue}const ye=d(T,Z,ne),k=m(T,ne,ye),P=T.slice(ye,k);if(L[P]===void 0){let S=d(T,ne+1,Ee),x=m(T,Ee,S);const M=F(T.slice(S,x));L[P]=M}Z=Ee+1}while(Z<H);return L}function d(T,V,L){do{const H=T.charCodeAt(V);if(H!==32&&H!==9)return V}while(++V<L);return L}function m(T,V,L){for(;V>L;){const H=T.charCodeAt(--V);if(H!==32&&H!==9)return V+1}return L}function g(T,V,L){const H=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const F=H(V);if(!e.test(F))throw new TypeError(`argument val is invalid: ${V}`);let Z=T+"="+F;if(!L)return Z;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Z+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Z+="; Domain="+L.domain}if(L.path){if(!n.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Z+="; Path="+L.path}if(L.expires){if(!E(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Z+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Z+="; HttpOnly"),L.secure&&(Z+="; Secure"),L.partitioned&&(Z+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Z+="; Priority=Low";break;case"medium":Z+="; Priority=Medium";break;case"high":Z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Z+="; SameSite=Strict";break;case"lax":Z+="; SameSite=Lax";break;case"none":Z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Z}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return a.call(T)==="[object Date]"}return of}MN();var R0="popstate";function LN(i={}){function e(n,a){let{pathname:l,search:c,hash:d}=n.location;return Ev("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:Ff(a)}return jN(e,t,null,i)}function Wt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Es(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UN(){return Math.random().toString(36).substring(2,10)}function C0(i,e){return{usr:i.state,key:i.key,idx:e}}function Ev(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Lh(e):e,state:t,key:e&&e.key||n||UN()}}function Ff({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Lh(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function jN(i,e,t,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function E(){d="POP";let F=y(),Z=F==null?null:F-g;g=F,m&&m({action:d,location:H.location,delta:Z})}function T(F,Z){d="PUSH";let ne=Ev(H.location,F,Z);g=y()+1;let le=C0(ne,g),Ee=H.createHref(ne);try{c.pushState(le,"",Ee)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;a.location.assign(Ee)}l&&m&&m({action:d,location:H.location,delta:1})}function V(F,Z){d="REPLACE";let ne=Ev(H.location,F,Z);g=y();let le=C0(ne,g),Ee=H.createHref(ne);c.replaceState(le,"",Ee),l&&m&&m({action:d,location:H.location,delta:0})}function L(F){return BN(F)}let H={get action(){return d},get location(){return i(a,c)},listen(F){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(R0,E),m=F,()=>{a.removeEventListener(R0,E),m=null}},createHref(F){return e(a,F)},createURL:L,encodeLocation(F){let Z=L(F);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:T,replace:V,go(F){return c.go(F)}};return H}function BN(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:Ff(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function GI(i,e,t="/"){return zN(i,e,t,!1)}function zN(i,e,t,n){let a=typeof e=="string"?Lh(e):e,l=so(a.pathname||"/",t);if(l==null)return null;let c=KI(i);FN(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=ZN(l);d=XN(c[m],g,n)}return d}function KI(i,e=[],t=[],n=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Wt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length));let g=io([n,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),KI(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:YN(g,l.index),routesMeta:y})};return i.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of QI(l.path))a(l,c,m)}),e}function QI(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let c=QI(n.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function FN(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:WN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var qN=/^:[\w-]+$/,HN=3,$N=2,GN=1,KN=10,QN=-2,x0=i=>i==="*";function YN(i,e){let t=i.split("/"),n=t.length;return t.some(x0)&&(n+=QN),e&&(n+=$N),t.filter(a=>!x0(a)).reduce((a,l)=>a+(qN.test(l)?HN:l===""?GN:KN),n)}function WN(i,e){return i.length===e.length&&i.slice(0,-1).every((n,a)=>n===e[a])?i[i.length-1]-e[e.length-1]:0}function XN(i,e,t=!1){let{routesMeta:n}=i,a={},l="/",c=[];for(let d=0;d<n.length;++d){let m=n[d],g=d===n.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=_g({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),T=m.route;if(!E&&g&&t&&!n[n.length-1].route.index&&(E=_g({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:io([l,E.pathname]),pathnameBase:iD(io([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=io([l,E.pathnameBase]))}return c}function _g(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=JN(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((g,{paramName:y,isOptional:E},T)=>{if(y==="*"){let L=d[T]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const V=d[T];return E&&!V?g[y]=void 0:g[y]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function JN(i,e=!1,t=!0){Es(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(n.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function ZN(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Es(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function so(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function eD(i,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof i=="string"?Lh(i):i;return{pathname:t?t.startsWith("/")?t:tD(t,e):e,search:rD(n),hash:sD(a)}}function tD(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Zy(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nD(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hE(i){let e=nD(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function dE(i,e,t,n=!1){let a;typeof i=="string"?a=Lh(i):(a={...i},Wt(!a.pathname||!a.pathname.includes("?"),Zy("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),Zy("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),Zy("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!n&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;a.pathname=T.join("/")}d=E>=0?e[E]:"/"}let m=eD(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var io=i=>i.join("/").replace(/\/\/+/g,"/"),iD=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rD=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sD=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function aD(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var YI=["POST","PUT","PATCH","DELETE"];new Set(YI);var oD=["GET",...YI];new Set(oD);var Uh=K.createContext(null);Uh.displayName="DataRouter";var Hg=K.createContext(null);Hg.displayName="DataRouterState";var WI=K.createContext({isTransitioning:!1});WI.displayName="ViewTransition";var lD=K.createContext(new Map);lD.displayName="Fetchers";var cD=K.createContext(null);cD.displayName="Await";var Ts=K.createContext(null);Ts.displayName="Navigation";var dm=K.createContext(null);dm.displayName="Location";var _a=K.createContext({outlet:null,matches:[],isDataRoute:!1});_a.displayName="Route";var fE=K.createContext(null);fE.displayName="RouteError";function uD(i,{relative:e}={}){Wt(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=K.useContext(Ts),{hash:a,pathname:l,search:c}=fm(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:io([t,l])),n.createHref({pathname:d,search:c,hash:a})}function jh(){return K.useContext(dm)!=null}function Vl(){return Wt(jh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(dm).location}var XI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JI(i){K.useContext(Ts).static||K.useLayoutEffect(i)}function $g(){let{isDataRoute:i}=K.useContext(_a);return i?wD():hD()}function hD(){Wt(jh(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(Uh),{basename:e,navigator:t}=K.useContext(Ts),{matches:n}=K.useContext(_a),{pathname:a}=Vl(),l=JSON.stringify(hE(n)),c=K.useRef(!1);return JI(()=>{c.current=!0}),K.useCallback((m,g={})=>{if(Es(c.current,XI),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=dE(m,JSON.parse(l),a,g.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:io([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,l,a,i])}K.createContext(null);function fm(i,{relative:e}={}){let{matches:t}=K.useContext(_a),{pathname:n}=Vl(),a=JSON.stringify(hE(t));return K.useMemo(()=>dE(i,JSON.parse(a),n,e==="path"),[i,a,n,e])}function dD(i,e){return ZI(i,e)}function ZI(i,e,t,n){var Z;Wt(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=K.useContext(Ts),{matches:l}=K.useContext(_a),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let ne=y&&y.path||"";eS(m,!y||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let E=Vl(),T;if(e){let ne=typeof e=="string"?Lh(e):e;Wt(g==="/"||((Z=ne.pathname)==null?void 0:Z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),T=ne}else T=E;let V=T.pathname||"/",L=V;if(g!=="/"){let ne=g.replace(/^\//,"").split("/");L="/"+V.replace(/^\//,"").split("/").slice(ne.length).join("/")}let H=GI(i,{pathname:L});Es(y||H!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Es(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=_D(H&&H.map(ne=>Object.assign({},ne,{params:Object.assign({},d,ne.params),pathname:io([g,a.encodeLocation?a.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?g:io([g,a.encodeLocation?a.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),l,t,n);return e&&F?K.createElement(dm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},F):F}function fD(){let i=TD(),e=aD(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:a},t):null,c)}var mD=K.createElement(fD,null),pD=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?K.createElement(_a.Provider,{value:this.props.routeContext},K.createElement(fE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gD({routeContext:i,match:e,children:t}){let n=K.useContext(Uh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(_a.Provider,{value:i},t)}function _D(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Wt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:y,errors:E}=t,T=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,y)=>{let E,T=!1,V=null,L=null;t&&(E=l&&g.route.id?l[g.route.id]:void 0,V=g.route.errorElement||mD,c&&(d<0&&y===0?(eS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,L=null):d===y&&(T=!0,L=g.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,y+1)),F=()=>{let Z;return E?Z=V:T?Z=L:g.route.Component?Z=K.createElement(g.route.Component,null):g.route.element?Z=g.route.element:Z=m,K.createElement(gD,{match:g,routeContext:{outlet:m,matches:H,isDataRoute:t!=null},children:Z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?K.createElement(pD,{location:t.location,revalidation:t.revalidation,component:V,error:E,children:F(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):F()},null)}function mE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yD(i){let e=K.useContext(Uh);return Wt(e,mE(i)),e}function vD(i){let e=K.useContext(Hg);return Wt(e,mE(i)),e}function ED(i){let e=K.useContext(_a);return Wt(e,mE(i)),e}function pE(i){let e=ED(i),t=e.matches[e.matches.length-1];return Wt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function bD(){return pE("useRouteId")}function TD(){var n;let i=K.useContext(fE),e=vD("useRouteError"),t=pE("useRouteError");return i!==void 0?i:(n=e.errors)==null?void 0:n[t]}function wD(){let{router:i}=yD("useNavigate"),e=pE("useNavigate"),t=K.useRef(!1);return JI(()=>{t.current=!0}),K.useCallback(async(a,l={})=>{Es(t.current,XI),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var N0={};function eS(i,e,t){!e&&!N0[i]&&(N0[i]=!0,Es(!1,t))}K.memo(AD);function AD({routes:i,future:e,state:t}){return ZI(i,void 0,t,e)}function ID({to:i,replace:e,state:t,relative:n}){Wt(jh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=K.useContext(Ts);Es(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=K.useContext(_a),{pathname:c}=Vl(),d=$g(),m=dE(i,hE(l),c,n==="path"),g=JSON.stringify(m);return K.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:n})},[d,g,n,e,t]),null}function Wi(i){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SD({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:l=!1}){Wt(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Lh(t));let{pathname:m="/",search:g="",hash:y="",state:E=null,key:T="default"}=t,V=K.useMemo(()=>{let L=so(m,c);return L==null?null:{location:{pathname:L,search:g,hash:y,state:E,key:T},navigationType:n}},[c,m,g,y,E,T,n]);return Es(V!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:K.createElement(Ts.Provider,{value:d},K.createElement(dm.Provider,{children:e,value:V}))}function D0({children:i,location:e}){return dD(bv(i),e)}function bv(i,e=[]){let t=[];return K.Children.forEach(i,(n,a)=>{if(!K.isValidElement(n))return;let l=[...e,a];if(n.type===K.Fragment){t.push.apply(t,bv(n.props.children,l));return}Wt(n.type===Wi,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=bv(n.props.children,l)),t.push(c)}),t}var Zp="get",eg="application/x-www-form-urlencoded";function Gg(i){return i!=null&&typeof i.tagName=="string"}function RD(i){return Gg(i)&&i.tagName.toLowerCase()==="button"}function CD(i){return Gg(i)&&i.tagName.toLowerCase()==="form"}function xD(i){return Gg(i)&&i.tagName.toLowerCase()==="input"}function ND(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function DD(i,e){return i.button===0&&(!e||e==="_self")&&!ND(i)}var Hp=null;function PD(){if(Hp===null)try{new FormData(document.createElement("form"),0),Hp=!1}catch{Hp=!0}return Hp}var OD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ev(i){return i!=null&&!OD.has(i)?(Es(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eg}"`),null):i}function kD(i,e){let t,n,a,l,c;if(CD(i)){let d=i.getAttribute("action");n=d?so(d,e):null,t=i.getAttribute("method")||Zp,a=ev(i.getAttribute("enctype"))||eg,l=new FormData(i)}else if(RD(i)||xD(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(n=m?so(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Zp,a=ev(i.getAttribute("formenctype"))||ev(d.getAttribute("enctype"))||eg,l=new FormData(d,i),!PD()){let{name:g,type:y,value:E}=i;if(y==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,E)}}else{if(Gg(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zp,n=null,a=eg,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:l,body:c}}function gE(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function VD(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MD(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function LD(i,e,t){let n=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await VD(l,t);return c.links?c.links():[]}return[]}));return zD(n.flat(1).filter(MD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function P0(i,e,t,n,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var y;return t[g].pathname!==m.pathname||((y=t[g].route.path)==null?void 0:y.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var E;let y=n.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function UD(i,e,{includeHydrateFallback:t}={}){return jD(i.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function jD(i){return[...new Set(i)]}function BD(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function zD(i,e){let t=new Set;return new Set(e),i.reduce((n,a)=>{let l=JSON.stringify(BD(a));return t.has(l)||(t.add(l),n.push({key:l,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FD=new Set([100,101,204,205]);function qD(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&so(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function tS(){let i=K.useContext(Uh);return gE(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function HD(){let i=K.useContext(Hg);return gE(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var _E=K.createContext(void 0);_E.displayName="FrameworkContext";function nS(){let i=K.useContext(_E);return gE(i,"You must render this element inside a <HydratedRouter> element"),i}function $D(i,e){let t=K.useContext(_E),[n,a]=K.useState(!1),[l,c]=K.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=e,T=K.useRef(null);K.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let H=Z=>{Z.forEach(ne=>{c(ne.isIntersecting)})},F=new IntersectionObserver(H,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[i]),K.useEffect(()=>{if(n){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[n]);let V=()=>{a(!0)},L=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,T,{}]:[l,T,{onFocus:lf(d,V),onBlur:lf(m,L),onMouseEnter:lf(g,V),onMouseLeave:lf(y,L),onTouchStart:lf(E,V)}]:[!1,T,{}]}function lf(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function GD({page:i,...e}){let{router:t}=tS(),n=K.useMemo(()=>GI(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?K.createElement(QD,{page:i,matches:n,...e}):null}function KD(i){let{manifest:e,routeModules:t}=nS(),[n,a]=K.useState([]);return K.useEffect(()=>{let l=!1;return LD(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),n}function QD({page:i,matches:e,...t}){let n=Vl(),{manifest:a,routeModules:l}=nS(),{basename:c}=tS(),{loaderData:d,matches:m}=HD(),g=K.useMemo(()=>P0(i,e,m,a,n,"data"),[i,e,m,a,n]),y=K.useMemo(()=>P0(i,e,m,a,n,"assets"),[i,e,m,a,n]),E=K.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let L=new Set,H=!1;if(e.forEach(Z=>{var le;let ne=a.routes[Z.route.id];!ne||!ne.hasLoader||(!g.some(Ee=>Ee.route.id===Z.route.id)&&Z.route.id in d&&((le=l[Z.route.id])!=null&&le.shouldRevalidate)||ne.hasClientLoader?H=!0:L.add(Z.route.id))}),L.size===0)return[];let F=qD(i,c);return H&&L.size>0&&F.searchParams.set("_routes",e.filter(Z=>L.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[F.pathname+F.search]},[c,d,n,a,g,e,i,l]),T=K.useMemo(()=>UD(y,a),[y,a]),V=KD(y);return K.createElement(K.Fragment,null,E.map(L=>K.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),T.map(L=>K.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),V.map(({key:L,link:H})=>K.createElement("link",{key:L,...H})))}function YD(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iS&&(window.__reactRouterVersion="7.6.1")}catch{}function WD({basename:i,children:e,window:t}){let n=K.useRef();n.current==null&&(n.current=LN({window:t,v5Compat:!0}));let a=n.current,[l,c]=K.useState({action:a.action,location:a.location}),d=K.useCallback(m=>{K.startTransition(()=>c(m))},[c]);return K.useLayoutEffect(()=>a.listen(d),[a,d]),K.createElement(SD,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var rS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=K.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:E,...T},V){let{basename:L}=K.useContext(Ts),H=typeof g=="string"&&rS.test(g),F,Z=!1;if(typeof g=="string"&&H&&(F=g,iS))try{let x=new URL(window.location.href),M=g.startsWith("//")?new URL(x.protocol+g):new URL(g),B=so(M.pathname,L);M.origin===x.origin&&B!=null?g=B+M.search+M.hash:Z=!0}catch{Es(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=uD(g,{relative:a}),[le,Ee,ye]=$D(n,T),k=eP(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:E});function P(x){e&&e(x),x.defaultPrevented||k(x)}let S=K.createElement("a",{...T,...ye,href:F||ne,onClick:Z||l?e:P,ref:YD(V,Ee),target:m,"data-discover":!H&&t==="render"?"true":void 0});return le&&!H?K.createElement(K.Fragment,null,S,K.createElement(GD,{page:ne})):S});Hr.displayName="Link";var XD=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let E=fm(c,{relative:g.relative}),T=Vl(),V=K.useContext(Hg),{navigator:L,basename:H}=K.useContext(Ts),F=V!=null&&sP(E)&&d===!0,Z=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,ne=T.pathname,le=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),le=le?le.toLowerCase():null,Z=Z.toLowerCase()),le&&H&&(le=so(le,H)||le);const Ee=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ye=ne===Z||!a&&ne.startsWith(Z)&&ne.charAt(Ee)==="/",k=le!=null&&(le===Z||!a&&le.startsWith(Z)&&le.charAt(Z.length)==="/"),P={isActive:ye,isPending:k,isTransitioning:F},S=ye?e:void 0,x;typeof n=="function"?x=n(P):x=[n,ye?"active":null,k?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(P):l;return K.createElement(Hr,{...g,"aria-current":S,className:x,ref:y,style:M,to:c,viewTransition:d},typeof m=="function"?m(P):m)});XD.displayName="NavLink";var JD=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:l,method:c=Zp,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:E,...T},V)=>{let L=iP(),H=rP(d,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",Z=typeof d=="string"&&rS.test(d),ne=le=>{if(m&&m(le),le.defaultPrevented)return;le.preventDefault();let Ee=le.nativeEvent.submitter,ye=(Ee==null?void 0:Ee.getAttribute("formmethod"))||c;L(Ee||le.currentTarget,{fetcherKey:e,method:ye,navigate:t,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:E})};return K.createElement("form",{ref:V,method:F,action:H,onSubmit:n?m:ne,...T,"data-discover":!Z&&i==="render"?"true":void 0})});JD.displayName="Form";function ZD(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(i){let e=K.useContext(Uh);return Wt(e,ZD(i)),e}function eP(i,{target:e,replace:t,state:n,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=$g(),m=Vl(),g=fm(i,{relative:l});return K.useCallback(y=>{if(DD(y,e)){y.preventDefault();let E=t!==void 0?t:Ff(m)===Ff(g);d(i,{replace:E,state:n,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,n,e,i,a,l,c])}var tP=0,nP=()=>`__${String(++tP)}__`;function iP(){let{router:i}=sS("useSubmit"),{basename:e}=K.useContext(Ts),t=bD();return K.useCallback(async(n,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=kD(n,e);if(a.navigate===!1){let y=a.fetcherKey||nP();await i.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function rP(i,{relative:e}={}){let{basename:t}=K.useContext(Ts),n=K.useContext(_a);Wt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...fm(i||".",{relative:e})},c=Vl();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let y=d.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:io([t,l.pathname])),Ff(l)}function sP(i,e={}){let t=K.useContext(WI);Wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sS("useViewTransitionState"),a=fm(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=so(t.currentLocation.pathname,n)||t.currentLocation.pathname,c=so(t.nextLocation.pathname,n)||t.nextLocation.pathname;return _g(a.pathname,c)!=null||_g(a.pathname,l)!=null}[...FD];const aP=()=>{};var O0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let a=i.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},oP=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const a=i[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[n++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(m>>10)),e[n++]=String.fromCharCode(56320+(m&1023))}else{const l=i[t++],c=i[t++];e[n++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},oS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,y=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,V=g&63;m||(V=64,c||(T=64)),n.push(t[y],t[E],t[T],t[V])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(aS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):oP(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const E=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new lP;const T=l<<2|d>>4;if(n.push(T),g!==64){const V=d<<4&240|g>>2;if(n.push(V),E!==64){const L=g<<6&192|E;n.push(L)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cP=function(i){const e=aS(i);return oS.encodeByteArray(e,!0)},yg=function(i){return cP(i).replace(/\./g,"")},yE=function(i){try{return oS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vg(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!uP(t)||(i[t]=vg(i[t],e[t]));return i}function uP(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=()=>vE().__FIREBASE_DEFAULTS__,dP=()=>{if(typeof process>"u"||typeof O0>"u")return;const i=O0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},fP=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yE(i[1]);return e&&JSON.parse(e)},Kg=()=>{try{return aP()||hP()||dP()||fP()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},mP=i=>{var e,t;return(t=(e=Kg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},lS=()=>{var i;return(i=Kg())===null||i===void 0?void 0:i.config},cS=i=>{var e;return(e=Kg())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(i){return i.endsWith(".cloudworkstations.dev")}async function uS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[yg(JSON.stringify(t)),yg(JSON.stringify(c)),""].join(".")}const Rf={};function _P(){const i={prod:[],emulator:[]};for(const e of Object.keys(Rf))Rf[e]?i.emulator.push(e):i.prod.push(e);return i}function yP(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let k0=!1;function hS(i,e){if(typeof window>"u"||typeof document>"u"||!mm(window.location.host)||Rf[i]===e||Rf[i]||k0)return;Rf[i]=e;function t(T){return`__firebase__banner__${T}`}const n="__firebase__banner",l=_P().prod.length>0;function c(){const T=document.getElementById(n);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,V){T.setAttribute("width","24"),T.setAttribute("id",V),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{k0=!0,c()},T}function y(T,V){T.setAttribute("id",V),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=yP(n),V=t("text"),L=document.getElementById(V)||document.createElement("span"),H=t("learnmore"),F=document.getElementById(H)||document.createElement("a"),Z=t("preprendIcon"),ne=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const le=T.element;d(le),y(F,H);const Ee=g();m(ne,Z),le.append(ne,L,F,Ee),document.body.appendChild(le)}l?(L.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Qg(){var i;const e=(i=Kg())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EP(){return typeof window<"u"||dS()}function dS(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function bP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function EE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pS(){return!Qg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gS(){return!Qg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qf(){try{return typeof indexedDB=="object"}catch{return!1}}function TP(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="FirebaseError";class Vi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=wP,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?AP(l,n):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Vi(a,d,n)}}function AP(i,e){return i.replace(IP,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const IP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function SP(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ao(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const l=i[a],c=e[a];if(M0(l)&&M0(c)){if(!ao(l,c))return!1}else if(l!==c)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function M0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ah(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,l]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function bf(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function _S(i,e){const t=new RP(i,e);return t.subscribe.bind(t)}class RP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");CP(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=tv),a.error===void 0&&(a.error=tv),a.complete===void 0&&(a.complete=tv);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CP(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function tv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(i){return i&&i._delegate?i._delegate:i}class da{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new pP;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DP(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});n.resolve(l)}catch{}}}}clearInstance(e=xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xc){return this.instances.has(e)}getOptions(e=xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);n===d&&c.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),l=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:NP(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=xc){return this.component?this.component.multipleInstances?e:xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NP(i){return i===xc?void 0:i}function DP(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=[];var ot;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ot||(ot={}));const vS={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},PP=ot.INFO,OP={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},kP=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),a=OP[e];if(a)console[a](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=PP,this._logHandler=kP,this._userLogHandler=null,bE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}function VP(i){bE.forEach(e=>{e.setLogLevel(i)})}function MP(i,e){for(const t of bE){let n=null;e&&e.level&&(n=vS[e.level]),i===null?t.userLogHandler=null:t.userLogHandler=(a,l,...c)=>{const d=c.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(n??a.logLevel)&&i({level:ot[l].toLowerCase(),message:d,args:c,type:a.name})}}}const LP=(i,e)=>e.some(t=>i instanceof t);let L0,U0;function UP(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jP(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ES=new WeakMap,Tv=new WeakMap,bS=new WeakMap,nv=new WeakMap,TE=new WeakMap;function BP(i){const e=new Promise((t,n)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(_l(i.result)),a()},c=()=>{n(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ES.set(t,i)}).catch(()=>{}),TE.set(e,i),e}function zP(i){if(Tv.has(i))return;const e=new Promise((t,n)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{n(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Tv.set(i,e)}let wv={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Tv.get(i);if(e==="objectStoreNames")return i.objectStoreNames||bS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _l(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function FP(i){wv=i(wv)}function qP(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(iv(this),e,...t);return bS.set(n,e.sort?e.sort():[e]),_l(n)}:jP().includes(i)?function(...e){return i.apply(iv(this),e),_l(ES.get(this))}:function(...e){return _l(i.apply(iv(this),e))}}function HP(i){return typeof i=="function"?qP(i):(i instanceof IDBTransaction&&zP(i),LP(i,UP())?new Proxy(i,wv):i)}function _l(i){if(i instanceof IDBRequest)return BP(i);if(nv.has(i))return nv.get(i);const e=HP(i);return e!==i&&(nv.set(i,e),TE.set(e,i)),e}const iv=i=>TE.get(i);function $P(i,e,{blocked:t,upgrade:n,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=_l(c);return n&&c.addEventListener("upgradeneeded",m=>{n(_l(c.result),m.oldVersion,m.newVersion,_l(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const GP=["get","getKey","getAll","getAllKeys","count"],KP=["put","add","delete","clear"],rv=new Map;function j0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rv.get(e))return rv.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=KP.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||GP.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return n&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return rv.set(e,l),l}FP(i=>({...i,get:(e,t,n)=>j0(e,t)||i.get(e,t,n),has:(e,t)=>!!j0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YP(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function YP(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",Av="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new Yg("@firebase/app"),WP="@firebase/app-compat",XP="@firebase/analytics-compat",JP="@firebase/analytics",ZP="@firebase/app-check-compat",eO="@firebase/app-check",tO="@firebase/auth",nO="@firebase/auth-compat",iO="@firebase/database",rO="@firebase/data-connect",sO="@firebase/database-compat",aO="@firebase/functions",oO="@firebase/functions-compat",lO="@firebase/installations",cO="@firebase/installations-compat",uO="@firebase/messaging",hO="@firebase/messaging-compat",dO="@firebase/performance",fO="@firebase/performance-compat",mO="@firebase/remote-config",pO="@firebase/remote-config-compat",gO="@firebase/storage",_O="@firebase/storage-compat",yO="@firebase/firestore",vO="@firebase/ai",EO="@firebase/firestore-compat",bO="firebase",TO="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="[DEFAULT]",wO={[Eg]:"fire-core",[WP]:"fire-core-compat",[JP]:"fire-analytics",[XP]:"fire-analytics-compat",[eO]:"fire-app-check",[ZP]:"fire-app-check-compat",[tO]:"fire-auth",[nO]:"fire-auth-compat",[iO]:"fire-rtdb",[rO]:"fire-data-connect",[sO]:"fire-rtdb-compat",[aO]:"fire-fn",[oO]:"fire-fn-compat",[lO]:"fire-iid",[cO]:"fire-iid-compat",[uO]:"fire-fcm",[hO]:"fire-fcm-compat",[dO]:"fire-perf",[fO]:"fire-perf-compat",[mO]:"fire-rc",[pO]:"fire-rc-compat",[gO]:"fire-gcs",[_O]:"fire-gcs-compat",[yO]:"fire-fst",[EO]:"fire-fst-compat",[vO]:"fire-vertex","fire-js":"fire-js",[bO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new Map,fh=new Map,mh=new Map;function Hf(i,e){try{i.container.addComponent(e)}catch(t){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function TS(i,e){i.container.addOrOverwriteComponent(e)}function Al(i){const e=i.name;if(mh.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,i);for(const t of wl.values())Hf(t,i);for(const t of fh.values())Hf(t,i);return!0}function Wg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function AO(i,e,t=Tl){Wg(i,e).clearInstance(t)}function wS(i){return i.options!==void 0}function Kt(i){return i==null?!1:i.settings!==void 0}function IO(){mh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new tu("app","Firebase",SO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AS=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(i,e){const t=yE(i.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class RO extends AS{constructor(e,t,n,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,c={name:n,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,a);else{const d=e;super(d.options,c,a)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},t),this._serverConfig.authIdToken&&B0(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&B0(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Kr(Eg,Av,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){wE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=TO;function Xg(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Tl,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(t||(t=lS()),!t)throw Gr.create("no-options");const l=wl.get(a);if(l){if(ao(t,l.options)&&ao(n,l.config))return l;throw Gr.create("duplicate-app",{appName:a})}const c=new yS(a);for(const m of mh.values())c.addComponent(m);const d=new AS(t,n,c);return wl.set(a,d),d}function CO(i,e){if(EP()&&!dS())throw Gr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;wS(i)?t=i.options:t=i;const n=Object.assign(Object.assign({},e),t);n.releaseOnDeref!==void 0&&delete n.releaseOnDeref;const a=g=>[...g].reduce((y,E)=>Math.imul(31,y)+E.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Gr.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(n)),c=fh.get(l);if(c)return c.incRefCount(e.releaseOnDeref),c;const d=new yS(l);for(const g of mh.values())d.addComponent(g);const m=new RO(t,e,l,d);return fh.set(l,m),m}function IS(i=Tl){const e=wl.get(i);if(!e&&i===Tl&&lS())return Xg();if(!e)throw Gr.create("no-app",{appName:i});return e}function xO(){return Array.from(wl.values())}async function wE(i){let e=!1;const t=i.name;wl.has(t)?(e=!0,wl.delete(t)):fh.has(t)&&i.decRefCount()<=0&&(fh.delete(t),e=!0),e&&(await Promise.all(i.container.getProviders().map(n=>n.delete())),i.isDeleted=!0)}function Kr(i,e,t){var n;let a=(n=wO[i])!==null&&n!==void 0?n:i;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(d.join(" "));return}Al(new da(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function SS(i,e){if(i!==null&&typeof i!="function")throw Gr.create("invalid-log-argument");MP(i,e)}function RS(i){VP(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="firebase-heartbeat-database",DO=1,$f="firebase-heartbeat-store";let sv=null;function CS(){return sv||(sv=$P(NO,DO,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($f)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),sv}async function PO(i){try{const t=(await CS()).transaction($f),n=await t.objectStore($f).get(xS(i));return await t.done,n}catch(e){if(e instanceof Vi)oo.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oo.warn(t.message)}}}async function z0(i,e){try{const n=(await CS()).transaction($f,"readwrite");await n.objectStore($f).put(e,xS(i)),await n.done}catch(t){if(t instanceof Vi)oo.warn(t.message);else{const n=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oo.warn(n.message)}}}function xS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=1024,kO=30;class VO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LO(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=F0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>kO){const c=UO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){oo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F0(),{heartbeatsToSend:n,unsentEntries:a}=MO(this._heartbeatsCache.heartbeats),l=yg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return oo.warn(t),""}}}function F0(){return new Date().toISOString().substring(0,10)}function MO(i,e=OO){const t=[];let n=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),q0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),q0(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class LO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qf()?TP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function q0(i){return yg(JSON.stringify({version:2,heartbeats:i})).length}function UO(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(i){Al(new da("platform-logger",e=>new QP(e),"PRIVATE")),Al(new da("heartbeat",e=>new VO(e),"PRIVATE")),Kr(Eg,Av,i),Kr(Eg,Av,"esm2017"),Kr("fire-js","")}jO("");const BO=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Vi,SDK_VERSION:Ml,_DEFAULT_ENTRY_NAME:Tl,_addComponent:Hf,_addOrOverwriteComponent:TS,_apps:wl,_clearComponents:IO,_components:mh,_getProvider:Wg,_isFirebaseApp:wS,_isFirebaseServerApp:Kt,_registerComponent:Al,_removeServiceInstance:AO,_serverApps:fh,deleteApp:wE,getApp:IS,getApps:xO,initializeApp:Xg,initializeServerApp:CO,onLog:SS,registerVersion:Kr,setLogLevel:RS},Symbol.toStringTag,{value:"Module"}));function AE(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(i);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(i,n[a])&&(t[n[a]]=i[n[a]]);return t}const cf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Gu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=zO,qO=NS,DS=new tu("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Yg("@firebase/auth");function HO(i,...e){bg.logLevel<=ot.WARN&&bg.warn(`Auth (${Ml}): ${i}`,...e)}function tg(i,...e){bg.logLevel<=ot.ERROR&&bg.error(`Auth (${Ml}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,...e){throw SE(i,...e)}function Fn(i,...e){return SE(i,...e)}function IE(i,e,t){const n=Object.assign(Object.assign({},qO()),{[e]:t});return new tu("auth","Firebase",n).create(e,{appName:i.name})}function Zn(i){return IE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zh(i,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&ei(i,"argument-error"),IE(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function SE(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return DS.create(i,...e)}function pe(i,e,...t){if(!i)throw SE(e,...t)}function oa(i){const e="INTERNAL ASSERTION FAILED: "+i;throw tg(e),new Error(e)}function bs(i,e){i||oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function RE(){return H0()==="http:"||H0()==="https:"}function H0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RE()||fS()||"connection"in navigator)?navigator.onLine:!0}function GO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this.shortDelay=e,this.longDelay=t,bs(t>e,"Short delay should be less than long delay!"),this.isMobile=vP()||EE()}get(){return $O()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i,e){bs(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YO=new pm(3e4,6e4);function hn(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function dn(i,e,t,n,a={}){return OS(i,a,async()=>{let l={},c={};n&&(e==="GET"?c=n:l={body:JSON.stringify(n)});const d=Bh(Object.assign({key:i.config.apiKey},c)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},l);return bP()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&mm(i.emulatorConfig.host)&&(g.credentials="include"),PS.fetch()(await kS(i,i.config.apiHost,t,d),g)})}async function OS(i,e,t){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},KO),e);try{const a=new XO(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Tf(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(i,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Tf(i,"email-already-in-use",c);if(m==="USER_DISABLED")throw Tf(i,"user-disabled",c);const y=n[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw IE(i,y,g);ei(i,y)}}catch(a){if(a instanceof Vi)throw a;ei(i,"network-request-failed",{message:String(a)})}}async function fo(i,e,t,n,a={}){const l=await dn(i,e,t,n,a);return"mfaPendingCredential"in l&&ei(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function kS(i,e,t,n){const a=`${e}${t}?${n}`,l=i,c=l.config.emulator?CE(i.config,a):`${i.config.apiScheme}://${a}`;return QO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function WO(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Fn(this.auth,"network-request-failed")),YO.get())})}}function Tf(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=Fn(i,e,n);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){return i!==void 0&&i.getResponse!==void 0}function G0(i){return i!==void 0&&i.enterprise!==void 0}class VS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(i){return(await dn(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function MS(i,e){return dn(i,"GET","/v2/recaptchaConfig",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(i,e){return dn(i,"POST","/v1/accounts:delete",e)}async function ek(i,e){return dn(i,"POST","/v1/accounts:update",e)}async function Tg(i,e){return dn(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tk(i,e=!1){const t=je(i),n=await t.getIdToken(e),a=Jg(n);pe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:n,authTime:Cf(av(a.auth_time)),issuedAtTime:Cf(av(a.iat)),expirationTime:Cf(av(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function av(i){return Number(i)*1e3}function Jg(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return tg("JWT malformed, contained fewer than 3 sections"),null;try{const a=yE(t);return a?JSON.parse(a):(tg("Failed to decode base64 JWT payload"),null)}catch(a){return tg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function K0(i){const e=Jg(i);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Vi&&nk(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function nk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cf(this.lastLoginAt),this.creationTime=Cf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(i){var e;const t=i.auth,n=await i.getIdToken(),a=await lo(i,Tg(t,{idToken:n}));pe(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?LS(l.providerUserInfo):[],d=sk(i.providerData,c),m=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Iv(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function rk(i){const e=je(i);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sk(i,e){return[...i.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function LS(i){return i.map(e=>{var{providerId:t}=e,n=AE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(i,e){const t=await OS(i,{},async()=>{const n=Bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await kS(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",PS.fetch()(c,{method:"POST",headers:d,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ok(i,e){return dn(i,"POST","/v2/accounts:revokeToken",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=K0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:l}=await ak(e,t);this.updateTokensAndExpiration(n,a,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:l}=t,c=new oh;return n&&(pe(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&(pe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(pe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oh,this.toJSON())}_performRefresh(){return oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(i,e){pe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,l=AE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Iv(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await lo(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tk(this,e)}reload(){return rk(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Kf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await lo(this,ZO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,l,c,d,m,g,y;const E=(n=t.displayName)!==null&&n!==void 0?n:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,V=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,L=(c=t.photoURL)!==null&&c!==void 0?c:void 0,H=(d=t.tenantId)!==null&&d!==void 0?d:void 0,F=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,Z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ne=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:le,emailVerified:Ee,isAnonymous:ye,providerData:k,stsTokenManager:P}=t;pe(le&&P,e,"internal-error");const S=oh.fromJSON(this.name,P);pe(typeof le=="string",e,"internal-error"),ll(E,e.name),ll(T,e.name),pe(typeof Ee=="boolean",e,"internal-error"),pe(typeof ye=="boolean",e,"internal-error"),ll(V,e.name),ll(L,e.name),ll(H,e.name),ll(F,e.name),ll(Z,e.name),ll(ne,e.name);const x=new vs({uid:le,auth:e,email:T,emailVerified:Ee,displayName:E,isAnonymous:ye,photoURL:L,phoneNumber:V,tenantId:H,stsTokenManager:S,createdAt:Z,lastLoginAt:ne});return k&&Array.isArray(k)&&(x.providerData=k.map(M=>Object.assign({},M))),F&&(x._redirectEventId=F),x}static async _fromIdTokenResponse(e,t,n=!1){const a=new oh;a.updateFromServerResponse(t);const l=new vs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Kf(l),l}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?LS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new oh;d.updateFromIdToken(n);const m=new vs({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Iv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;function Er(i){bs(i instanceof Function,"Expected a class definition");let e=Q0.get(i);return e?(bs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Q0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}US.type="NONE";const ph=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(i,e,t){return`firebase:${i}:${e}:${t}`}class lh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:l}=this.auth;this.fullUserKey=zc(this.userKey,a.apiKey,l),this.fullPersistenceKey=zc("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Tg(this.auth,{idToken:e}).catch(()=>{});return t?vs._fromGetAccountInfoResponse(this.auth,t,e):null}return vs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new lh(Er(ph),e,n);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Er(ph);const c=zc(n,e.config.apiKey,e.name);let d=null;for(const g of t)try{const y=await g._get(c);if(y){let E;if(typeof y=="string"){const T=await Tg(e,{idToken:y}).catch(()=>{});if(!T)break;E=await vs._fromGetAccountInfoResponse(e,T,y)}else E=vs._fromJSON(e,y);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new lh(l,e,n):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new lh(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qS(e))return"Blackberry";if(HS(e))return"Webos";if(BS(e))return"Safari";if((e.includes("chrome/")||zS(e))&&!e.includes("edge/"))return"Chrome";if(gm(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function jS(i=nn()){return/firefox\//i.test(i)}function BS(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zS(i=nn()){return/crios\//i.test(i)}function FS(i=nn()){return/iemobile/i.test(i)}function gm(i=nn()){return/android/i.test(i)}function qS(i=nn()){return/blackberry/i.test(i)}function HS(i=nn()){return/webos/i.test(i)}function _m(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lk(i=nn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(i)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(i)}function ck(i=nn()){var e;return _m(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uk(){return mS()&&document.documentMode===10}function $S(i=nn()){return _m(i)||gm(i)||HS(i)||qS(i)||/windows phone/i.test(i)||FS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(i,e=[]){let t;switch(i){case"Browser":t=Y0(nn());break;case"Worker":t=`${Y0(nn())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ml}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(i,e={}){return dn(i,"GET","/v2/passwordPolicy",hn(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=6;class mk{constructor(e){var t,n,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:fk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(n=m.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new hk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var n,a,l;if(!this._deleted&&(this.persistenceManager=await lh.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Tg(this,{idToken:e}),n=await vs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(Zn(this));const t=e?je(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dk(this),t=new mk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await ok(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await lh.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,n,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rn(i){return je(i)}class W0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_S(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gk(i){ym=i}function xE(i){return ym.loadJS(i)}function _k(){return ym.recaptchaV2Script}function yk(){return ym.recaptchaEnterpriseScript}function vk(){return ym.gapiScript}function KS(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=500,bk=6e4,$p=1e12;class Tk{constructor(e){this.auth=e,this.counter=$p,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ik(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||$p;(t=this._widgets.get(n))===null||t===void 0||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||$p;return((t=this._widgets.get(n))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const n=e||$p;return(t=this._widgets.get(n))===null||t===void 0||t.execute(),""}}class wk{constructor(){this.enterprise=new Ak}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ak{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ik{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;pe(a,"argument-error",{appName:t}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Sk(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},bk)},Ek))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Sk(i){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<i;n++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Rk="recaptcha-enterprise",xf="NO_RECAPTCHA";class QS{constructor(e){this.type=Rk,this.auth=rn(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{MS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new VS(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;G0(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(xf)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wk().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{n(this.auth).then(d=>{if(!t&&G0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=yk();m.length!==0&&(m+=d),xE(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function uf(i,e,t,n=!1,a=!1){const l=new QS(i);let c;if(a)c=xf;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function yl(i,e,t,n,a){var l,c;if(a==="EMAIL_PASSWORD_PROVIDER")if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await uf(i,e,t,t==="getOobCode");return n(i,d)}else return n(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await uf(i,e,t,t==="getOobCode");return n(i,m)}else return Promise.reject(d)});else if(a==="PHONE_PROVIDER")if(!((c=i._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("PHONE_PROVIDER")){const d=await uf(i,e,t);return n(i,d).catch(async m=>{var g;if(((g=i._getRecaptchaConfig())===null||g===void 0?void 0:g.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(m.code==="auth/missing-recaptcha-token"||m.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const y=await uf(i,e,t,!1,!0);return n(i,y)}return Promise.reject(m)})}else{const d=await uf(i,e,t,!1,!0);return n(i,d)}else return Promise.reject(a+" provider is not supported.")}async function Ck(i){const e=rn(i),t=await MS(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new VS(t);e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()&&new QS(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(i,e){const t=Wg(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ao(l,e??{}))return a;ei(a,"already-initialized")}return t.initialize({options:e})}function Nk(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function YS(i,e,t){const n=rn(i);pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!!(t!=null&&t.disableWarnings),l=WS(e),{host:c,port:d}=Dk(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){pe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),pe(ao(g,n.config.emulator)&&ao(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,mm(c)?(uS(`${l}//${c}${m}`),hS("Auth",!0)):a||Pk()}function WS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Dk(i){const e=WS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const l=a[1];return{host:l,port:X0(n.substr(l.length+1))}}else{const[l,c]=n.split(":");return{host:l,port:X0(c)}}}function X0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Pk(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oa("not implemented")}_getIdTokenResponse(e){return oa("not implemented")}_linkToIdToken(e,t){return oa("not implemented")}_getReauthenticationResolver(e){return oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(i,e){return dn(i,"POST","/v1/accounts:resetPassword",hn(i,e))}async function Ok(i,e){return dn(i,"POST","/v1/accounts:update",e)}async function kk(i,e){return dn(i,"POST","/v1/accounts:signUp",e)}async function Vk(i,e){return dn(i,"POST","/v1/accounts:update",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(i,e){return fo(i,"POST","/v1/accounts:signInWithPassword",hn(i,e))}async function Zg(i,e){return dn(i,"POST","/v1/accounts:sendOobCode",hn(i,e))}async function Lk(i,e){return Zg(i,e)}async function Uk(i,e){return Zg(i,e)}async function jk(i,e){return Zg(i,e)}async function Bk(i,e){return Zg(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(i,e){return fo(i,"POST","/v1/accounts:signInWithEmailLink",hn(i,e))}async function Fk(i,e){return fo(i,"POST","/v1/accounts:signInWithEmailLink",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends Fh{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Qf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yl(e,t,"signInWithPassword",Mk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zk(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yl(e,n,"signUpPassword",kk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Fk(e,{idToken:t,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return fo(i,"POST","/v1/accounts:signInWithIdp",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="http://localhost";class fa extends Fh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,l=AE(t,["providerId","signInMethod"]);if(!n||!a)return null;const c=new fa(n,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ro(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ro(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ro(e,t)}buildRequest(){const e={requestUri:qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J0(i,e){return dn(i,"POST","/v1/accounts:sendVerificationCode",hn(i,e))}async function Hk(i,e){return fo(i,"POST","/v1/accounts:signInWithPhoneNumber",hn(i,e))}async function $k(i,e){const t=await fo(i,"POST","/v1/accounts:signInWithPhoneNumber",hn(i,e));if(t.temporaryProof)throw Tf(i,"account-exists-with-different-credential",t);return t}const Gk={USER_NOT_FOUND:"user-not-found"};async function Kk(i,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return fo(i,"POST","/v1/accounts:signInWithPhoneNumber",hn(i,t),Gk)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Fh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Hk(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return $k(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Kk(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:a}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:a,temporaryProof:l}=e;return!n&&!t&&!a&&!l?null:new Fc({verificationId:t,verificationCode:n,phoneNumber:a,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yk(i){const e=ah(bf(i)).link,t=e?ah(bf(e)).deep_link_id:null,n=ah(bf(i)).deep_link_id;return(n?ah(bf(n)).link:null)||n||t||e||i}class e_{constructor(e){var t,n,a,l,c,d;const m=ah(bf(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,y=(n=m.oobCode)!==null&&n!==void 0?n:null,E=Qk((a=m.mode)!==null&&a!==void 0?a:null);pe(g&&y&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Yk(e);try{return new e_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,t){return Qf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=e_.parseLink(t);return pe(n,"argument-error"),Qf._fromEmailAndCode(e,n.code,n.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ch extends qh{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return pe("providerId"in t&&"signInMethod"in t,"argument-error"),fa._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return pe(e.idToken||e.accessToken,"argument-error"),fa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ch.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ch.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:a,pendingToken:l,nonce:c,providerId:d}=e;if(!n&&!a&&!t&&!l||!d)return null;try{return new ch(d)._credential({idToken:t,accessToken:n,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends qh{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ra.credential(t,n)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends qh{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="http://localhost";class gh extends Fh{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ro(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ro(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ro(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,pendingToken:l}=t;return!n||!a||!l||n!==a?null:new gh(n,l)}static _create(e,t){return new gh(e,t)}buildRequest(){return{requestUri:Wk,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="saml.";class wg extends mo{constructor(e){pe(e.startsWith(Xk),"argument-error"),super(e)}static credentialFromResult(e){return wg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return wg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gh.fromJSON(e);return pe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return gh._create(n,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends qh{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return aa.credential(t,n)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(i,e){return fo(i,"POST","/v1/accounts:signUp",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const l=await vs._fromIdTokenResponse(e,n,a),c=Z0(n);return new Qr({user:l,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=Z0(n);return new Qr({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function Z0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(i){var e;if(Kt(i.app))return Promise.reject(Zn(i));const t=rn(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Qr({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await JS(t,{returnSecureToken:!0}),a=await Qr._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Vi{constructor(e,t,n,a){var l;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Ag.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new Ag(e,t,n,a)}}function ZS(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ag._fromErrorAndOperation(i,l,e,n):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(i){return new Set(i.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(i,e){const t=je(i);await t_(!0,t,e);const{providerUserInfo:n}=await ek(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),a=eR(n||[]);return t.providerData=t.providerData.filter(l=>a.has(l.providerId)),a.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function NE(i,e,t=!1){const n=await lo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Qr._forOperation(i,"link",n)}async function t_(i,e,t){await Kf(e);const n=eR(e.providerData),a=i===!1?"provider-already-linked":"no-such-provider";pe(n.has(t)===i,e.auth,a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(i,e,t=!1){const{auth:n}=i;if(Kt(n.app))return Promise.reject(Zn(n));const a="reauthenticate";try{const l=await lo(i,ZS(n,a,e,i),t);pe(l.idToken,n,"internal-error");const c=Jg(l.idToken);pe(c,n,"internal-error");const{sub:d}=c;return pe(i.uid===d,n,"user-mismatch"),Qr._forOperation(i,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ei(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(i,e,t=!1){if(Kt(i.app))return Promise.reject(Zn(i));const n="signIn",a=await ZS(i,n,e),l=await Qr._fromIdTokenResponse(i,n,a);return t||await i._updateCurrentUser(l.user),l}async function n_(i,e){return nR(rn(i),e)}async function iR(i,e){const t=je(i);return await t_(!1,t,e.providerId),NE(t,e)}async function rR(i,e){return tR(je(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(i,e){return fo(i,"POST","/v1/accounts:signInWithCustomToken",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(i,e){if(Kt(i.app))return Promise.reject(Zn(i));const t=rn(i),n=await eV(t,{token:e,returnSecureToken:!0}),a=await Qr._fromIdTokenResponse(t,"signIn",n);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?DE._fromServerResponse(e,t):"totpInfo"in t?PE._fromServerResponse(e,t):ei(e,"internal-error")}}class DE extends vm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new DE(t)}}class PE extends vm{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new PE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(i,e,t){var n;pe(((n=t.url)===null||n===void 0?void 0:n.length)>0,i,"invalid-continue-uri"),pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),pe(typeof t.linkDomain>"u"||t.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(pe(t.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(pe(t.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(i){const e=rn(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nV(i,e,t){const n=rn(i),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&i_(n,a,t),await yl(n,a,"getOobCode",Uk,"EMAIL_PASSWORD_PROVIDER")}async function iV(i,e,t){await XS(je(i),{oobCode:e,newPassword:t}).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&OE(i),n})}async function rV(i,e){await Vk(je(i),{oobCode:e})}async function sR(i,e){const t=je(i),n=await XS(t,{oobCode:e}),a=n.requestType;switch(pe(a,t,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(n.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(n.mfaInfo,t,"internal-error");default:pe(n.email,t,"internal-error")}let l=null;return n.mfaInfo&&(l=vm._fromServerResponse(rn(t),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:l},operation:a}}async function sV(i,e){const{data:t}=await sR(je(i),e);return t.email}async function aR(i,e,t){if(Kt(i.app))return Promise.reject(Zn(i));const n=rn(i),c=await yl(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JS,"EMAIL_PASSWORD_PROVIDER").catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&OE(i),m}),d=await Qr._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(d.user),d}function oR(i,e,t){return Kt(i.app)?Promise.reject(Zn(i)):n_(je(i),Ll.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&OE(i),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(i,e,t){const n=rn(i),a={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(c,d){pe(d.handleCodeInApp,n,"argument-error"),d&&i_(n,c,d)}l(a,t),await yl(n,a,"getOobCode",jk,"EMAIL_PASSWORD_PROVIDER")}function oV(i,e){const t=e_.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function lV(i,e,t){if(Kt(i.app))return Promise.reject(Zn(i));const n=je(i),a=Ll.credentialWithLink(e,t||Gf());return pe(a._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),n_(n,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(i,e){return dn(i,"POST","/v1/accounts:createAuthUri",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(i,e){const t=RE()?Gf():"http://localhost",n={identifier:e,continueUri:t},{signinMethods:a}=await cV(je(i),n);return a||[]}async function hV(i,e){const t=je(i),a={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()};e&&i_(t.auth,a,e);const{email:l}=await Lk(t.auth,a);l!==i.email&&await i.reload()}async function dV(i,e,t){const n=je(i),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await i.getIdToken(),newEmail:e};t&&i_(n.auth,l,t);const{email:c}=await Bk(n.auth,l);c!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(i,e){return dn(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=je(i),l={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await lo(n,fV(n.auth,l));n.displayName=c.displayName||null,n.photoURL=c.photoUrl||null;const d=n.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=n.displayName,d.photoURL=n.photoURL),await n._updateTokensIfNecessary(c)}function pV(i,e){const t=je(i);return Kt(t.auth.app)?Promise.reject(Zn(t.auth)):lR(t,e,null)}function gV(i,e){return lR(je(i),null,e)}async function lR(i,e,t){const{auth:n}=i,l={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(l.email=e),t&&(l.password=t);const c=await lo(i,Ok(n,l));await i._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(i){var e,t;if(!i)return null;const{providerId:n}=i,a=i.rawUserInfo?JSON.parse(i.rawUserInfo):{},l=i.isNewUser||i.kind==="identitytoolkit#SignupNewUserResponse";if(!n&&(i!=null&&i.idToken)){const c=(t=(e=Jg(i.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(c){const d=c!=="anonymous"&&c!=="custom"?c:null;return new uh(l,d)}}if(!n)return null;switch(n){case"facebook.com":return new yV(l,a);case"github.com":return new vV(l,a);case"google.com":return new EV(l,a);case"twitter.com":return new bV(l,a,i.screenName||null);case"custom":case"anonymous":return new uh(l,null);default:return new uh(l,n,a)}}class uh{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class cR extends uh{constructor(e,t,n,a){super(e,t,n),this.username=a}}class yV extends uh{constructor(e,t){super(e,"facebook.com",t)}}class vV extends cR{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class EV extends uh{constructor(e,t){super(e,"google.com",t)}}class bV extends cR{constructor(e,t,n){super(e,"twitter.com",t,n)}}function TV(i){const{user:e,_tokenResponse:t}=i;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:_V(t)}function wV(i,e,t,n){return je(i).onIdTokenChanged(e,t,n)}function AV(i,e,t){return je(i).beforeAuthStateChanged(e,t)}function IV(i,e,t,n){return je(i).onAuthStateChanged(e,t,n)}function Sv(i){return je(i).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Lc("enroll",e,t)}static _fromMfaPendingCredential(e){return new Lc("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Lc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((n=e.multiFactorSession)===null||n===void 0)&&n.idToken)return Lc._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=rn(e),a=t.customData._serverResponse,l=(a.mfaInfo||[]).map(d=>vm._fromServerResponse(n,d));pe(a.mfaPendingCredential,n,"internal-error");const c=Lc._fromMfaPendingCredential(a.mfaPendingCredential);return new kE(c,l,async d=>{const m=await d._process(n,c);delete a.mfaInfo,delete a.mfaPendingCredential;const g=Object.assign(Object.assign({},a),{idToken:m.idToken,refreshToken:m.refreshToken});switch(t.operationType){case"signIn":const y=await Qr._fromIdTokenResponse(n,t.operationType,g);return await n._updateCurrentUser(y.user),y;case"reauthenticate":return pe(t.user,n,"internal-error"),Qr._forOperation(t.user,t.operationType,g);default:ei(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function SV(i,e){var t;const n=je(i),a=e;return pe(e.customData.operationType,n,"argument-error"),pe((t=a.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,n,"argument-error"),kE._fromError(n,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i,e){return dn(i,"POST","/v2/accounts/mfaEnrollment:start",hn(i,e))}function RV(i,e){return dn(i,"POST","/v2/accounts/mfaEnrollment:finalize",hn(i,e))}function CV(i,e){return dn(i,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(i,e))}class VE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(n=>vm._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new VE(e)}async getSession(){return Lc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,a=await this.getSession(),l=await lo(this.user,n._process(this.user.auth,a,t));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,n=await this.user.getIdToken();try{const a=await lo(this.user,CV(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==t),await this.user._updateTokensIfNecessary(a),await this.user.reload()}catch(a){throw a}}}const ov=new WeakMap;function xV(i){const e=je(i);return ov.has(e)||ov.set(e,VE._fromUser(e)),ov.get(e)}const Ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ig,"1"),this.storage.removeItem(Ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1e3,DV=10;class hR extends uR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},l=this.storage.getItem(n);uk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DV):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hR.type="LOCAL";const r_=hR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends uR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dR.type="SESSION";const Il=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new s_(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await PV(d);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}s_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Em("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function kV(i){On().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function VV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MV(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function LV(){return ME()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebaseLocalStorageDb",UV=1,Sg="firebaseLocalStorage",mR="fbase_key";class bm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function a_(i,e){return i.transaction([Sg],e?"readwrite":"readonly").objectStore(Sg)}function jV(){const i=indexedDB.deleteDatabase(fR);return new bm(i).toPromise()}function Rv(){const i=indexedDB.open(fR,UV);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(Sg,{keyPath:mR})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(Sg)?e(n):(n.close(),await jV(),e(await Rv()))})})}async function tA(i,e,t){const n=a_(i,!0).put({[mR]:e,value:t});return new bm(n).toPromise()}async function BV(i,e){const t=a_(i,!1).get(e),n=await new bm(t).toPromise();return n===void 0?null:n.value}function nA(i,e){const t=a_(i,!0).delete(e);return new bm(t).toPromise()}const zV=800,FV=3;class pR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>FV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=s_._getInstance(LV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VV(),!this.activeServiceWorker)return;this.sender=new OV(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rv();return await tA(e,Ig,"1"),await nA(e,Ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tA(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>BV(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=a_(a,!1).getAll();return new bm(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pR.type="LOCAL";const _h=pR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(i,e){return dn(i,"POST","/v2/accounts/mfaSignIn:start",hn(i,e))}function qV(i,e){return dn(i,"POST","/v2/accounts/mfaSignIn:finalize",hn(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=KS("rcb"),HV=new pm(3e4,6e4);class $V{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=On().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return pe(GV(t),e,"argument-error"),this.shouldResolveImmediately(t)&&$0(On().grecaptcha)?Promise.resolve(On().grecaptcha):new Promise((n,a)=>{const l=On().setTimeout(()=>{a(Fn(e,"network-request-failed"))},HV.get());On()[lv]=()=>{On().clearTimeout(l),delete On()[lv];const d=On().grecaptcha;if(!d||!$0(d)){a(Fn(e,"internal-error"));return}const m=d.render;d.render=(g,y)=>{const E=m(g,y);return this.counter++,E},this.hostLanguage=t,n(d)};const c=`${_k()}?${Bh({onload:lv,render:"explicit",hl:t})}`;xE(c).catch(()=>{clearTimeout(l),a(Fn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=On().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function GV(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class KV{async load(e){return new Tk(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="recaptcha",QV={theme:"light",type:"image"};let YV=class{constructor(e,t,n=Object.assign({},QV)){this.parameters=n,this.type=Nf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(e),this.isInvisible=this.parameters.size==="invisible",pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof t=="string"?document.getElementById(t):t;pe(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new KV:new $V,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(a=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),a(c))};this.tokenChangeListeners.add(l),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(n=>n(t)),typeof e=="function")e(t);else if(typeof e=="string"){const n=On()[e];typeof n=="function"&&n(t)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pe(RE()&&!ME(),this.auth,"internal-error"),await WV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await JO(this.auth);pe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function WV(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Fc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function XV(i,e,t){if(Kt(i.app))return Promise.reject(Zn(i));const n=rn(i),a=await o_(n,e,je(t));return new LE(a,l=>n_(n,l))}async function JV(i,e,t){const n=je(i);await t_(!1,n,"phone");const a=await o_(n.auth,e,je(t));return new LE(a,l=>iR(n,l))}async function ZV(i,e,t){const n=je(i);if(Kt(n.auth.app))return Promise.reject(Zn(n.auth));const a=await o_(n.auth,e,je(t));return new LE(a,l=>rR(n,l))}async function o_(i,e,t){var n;if(!i._getRecaptchaConfig())try{await Ck(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(typeof e=="string"?a={phoneNumber:e}:a=e,"session"in a){const l=a.session;if("phoneNumber"in a){pe(l.type==="enroll",i,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await yl(i,c,"mfaSmsEnrollment",async(y,E)=>{if(E.phoneEnrollmentInfo.captchaResponse===xf){pe((t==null?void 0:t.type)===Nf,y,"argument-error");const T=await cv(y,E,t);return eA(y,T)}return eA(y,E)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{pe(l.type==="signin",i,"internal-error");const c=((n=a.multiFactorHint)===null||n===void 0?void 0:n.uid)||a.multiFactorUid;pe(c,i,"missing-multi-factor-info");const d={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await yl(i,d,"mfaSmsSignIn",async(E,T)=>{if(T.phoneSignInInfo.captchaResponse===xf){pe((t==null?void 0:t.type)===Nf,E,"argument-error");const V=await cv(E,T,t);return iA(E,V)}return iA(E,T)},"PHONE_PROVIDER").catch(E=>Promise.reject(E))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await yl(i,l,"sendVerificationCode",async(g,y)=>{if(y.captchaResponse===xf){pe((t==null?void 0:t.type)===Nf,g,"argument-error");const E=await cv(g,y,t);return J0(g,E)}return J0(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).sessionInfo}}finally{t==null||t._reset()}}async function e2(i,e){const t=je(i);if(Kt(t.auth.app))return Promise.reject(Zn(t.auth));await NE(t,e)}async function cv(i,e,t){pe(t.type===Nf,i,"argument-error");const n=await t.verify();pe(typeof n=="string",i,"argument-error");const a=Object.assign({},e);if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.captchaResponse,d=a.phoneEnrollmentInfo.clientType,m=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:n,captchaResponse:c,clientType:d,recaptchaVersion:m}}),a}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.captchaResponse,c=a.phoneSignInInfo.clientType,d=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:l,clientType:c,recaptchaVersion:d}}),a}else return Object.assign(a,{recaptchaToken:n}),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=class ng{constructor(e){this.providerId=ng.PROVIDER_ID,this.auth=rn(e)}verifyPhoneNumber(e,t){return o_(this.auth,e,je(t))}static credential(e,t){return Fc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ng.credentialFromTaggedObject(t)}static credentialFromError(e){return ng.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Fc._fromTokenResponse(t,n):null}};Hc.PROVIDER_ID="phone";Hc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i,e){return e?Er(e):(pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends Fh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function t2(i){return nR(i.auth,new UE(i),i.bypassAuthState)}function n2(i){const{auth:e,user:t}=i;return pe(t,e,"internal-error"),tR(t,new UE(i),i.bypassAuthState)}async function i2(i){const{auth:e,user:t}=i;return pe(t,e,"internal-error"),NE(t,new UE(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t,n,a,l=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return i2;case"reauthViaPopup":case"reauthViaRedirect":return n2;default:ei(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new pm(2e3,1e4);async function s2(i,e,t){if(Kt(i.app))return Promise.reject(Fn(i,"operation-not-supported-in-this-environment"));const n=rn(i);zh(i,e,mo);const a=nu(n,t);return new eo(n,"signInViaPopup",e,a).executeNotNull()}async function a2(i,e,t){const n=je(i);if(Kt(n.auth.app))return Promise.reject(Fn(n.auth,"operation-not-supported-in-this-environment"));zh(n.auth,e,mo);const a=nu(n.auth,t);return new eo(n.auth,"reauthViaPopup",e,a,n).executeNotNull()}async function o2(i,e,t){const n=je(i);zh(n.auth,e,mo);const a=nu(n.auth,t);return new eo(n.auth,"linkViaPopup",e,a,n).executeNotNull()}class eo extends gR{constructor(e,t,n,a,l){super(e,t,a,l),this.provider=n,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r2.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="pendingRedirect",Df=new Map;class c2 extends gR{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const n=await u2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u2(i,e){const t=yR(e),n=_R(i);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}async function jE(i,e){return _R(i)._set(yR(e),"true")}function h2(){Df.clear()}function BE(i,e){Df.set(i._key(),e)}function _R(i){return Er(i._redirectPersistence)}function yR(i){return zc(l2,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(i,e,t){return f2(i,e,t)}async function f2(i,e,t){if(Kt(i.app))return Promise.reject(Zn(i));const n=rn(i);zh(i,e,mo),await n._initializationPromise;const a=nu(n,t);return await jE(a,n),a._openRedirect(n,e,"signInViaRedirect")}function m2(i,e,t){return p2(i,e,t)}async function p2(i,e,t){const n=je(i);if(zh(n.auth,e,mo),Kt(n.auth.app))return Promise.reject(Zn(n.auth));await n.auth._initializationPromise;const a=nu(n.auth,t);await jE(a,n.auth);const l=await vR(n);return a._openRedirect(n.auth,e,"reauthViaRedirect",l)}function g2(i,e,t){return _2(i,e,t)}async function _2(i,e,t){const n=je(i);zh(n.auth,e,mo),await n.auth._initializationPromise;const a=nu(n.auth,t);await t_(!1,n,e.providerId),await jE(a,n.auth);const l=await vR(n);return a._openRedirect(n.auth,e,"linkViaRedirect",l)}async function y2(i,e){return await rn(i)._initializationPromise,l_(i,e,!1)}async function l_(i,e,t=!1){if(Kt(i.app))return Promise.reject(Zn(i));const n=rn(i),a=nu(n,e),c=await new c2(n,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}async function vR(i){const e=Em(`${i.uid}:::`);return i._redirectEventId=e,await i.auth._setRedirectUser(i),await i.auth._persistUserIfCurrent(i),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=10*60*1e3;class ER{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!bR(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fn(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v2&&this.cachedEventUids.clear(),this.cachedEventUids.has(rA(e))}saveEventToCache(e){this.cachedEventUids.add(rA(e)),this.lastProcessedEventTime=Date.now()}}function rA(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function bR({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bR(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(i,e={}){return dn(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function w2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await TR(i);for(const t of e)try{if(A2(t))return}catch{}ei(i,"unauthorized-domain")}function A2(i){const e=Gf(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!T2.test(t))return!1;if(b2.test(i))return n===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new pm(3e4,6e4);function sA(){const i=On().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function S2(i){return new Promise((e,t)=>{var n,a,l;function c(){sA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sA(),t(Fn(i,"network-request-failed"))},timeout:I2.get()})}if(!((a=(n=On().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=On().gapi)===null||l===void 0)&&l.load)c();else{const d=KS("iframefcb");return On()[d]=()=>{gapi.load?c():t(Fn(i,"network-request-failed"))},xE(`${vk()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw ig=null,e})}let ig=null;function R2(i){return ig=ig||S2(i),ig}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new pm(5e3,15e3),x2="__/auth/iframe",N2="emulator/auth/iframe",D2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O2(i){const e=i.config;pe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?CE(e,N2):`https://${i.config.authDomain}/${x2}`,n={apiKey:e.apiKey,appName:i.name,v:Ml},a=P2.get(i.config.apiHost);a&&(n.eid=a);const l=i._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${Bh(n).slice(1)}`}async function k2(i){const e=await R2(i),t=On().gapi;return pe(t,i,"internal-error"),e.open({where:document.body,url:O2(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D2,dontclear:!0},n=>new Promise(async(a,l)=>{await n.restyle({setHideOnLeave:!1});const c=Fn(i,"network-request-failed"),d=On().setTimeout(()=>{l(c)},C2.get());function m(){On().clearTimeout(d),a(n)}n.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M2=500,L2=600,U2="_blank",j2="http://localhost";class aA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B2(i,e,t,n=M2,a=L2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const m=Object.assign(Object.assign({},V2),{width:n.toString(),height:a.toString(),top:l,left:c}),g=nn().toLowerCase();t&&(d=zS(g)?U2:t),jS(g)&&(e=e||j2,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[V,L])=>`${T}${V}=${L},`,"");if(ck(g)&&d!=="_self")return z2(e||"",d),new aA(null);const E=window.open(e||"",d,y);pe(E,i,"popup-blocked");try{E.focus()}catch{}return new aA(E)}function z2(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="__/auth/handler",q2="emulator/auth/handler",H2=encodeURIComponent("fac");async function Cv(i,e,t,n,a,l){pe(i.config.authDomain,i,"auth-domain-config-required"),pe(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Ml,eventId:a};if(e instanceof mo){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",SP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries(l||{}))c[y]=E}if(e instanceof qh){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await i._getAppCheckToken(),g=m?`#${H2}=${encodeURIComponent(m)}`:"";return`${$2(i)}?${Bh(d).slice(1)}${g}`}function $2({config:i}){return i.emulator?CE(i,q2):`https://${i.authDomain}/${F2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Il,this._completeRedirectFn=l_,this._overrideRedirectResult=BE}async _openPopup(e,t,n,a){var l;bs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Cv(e,t,n,Gf(),a);return B2(e,c,Em())}async _openRedirect(e,t,n,a){await this._originValidation(e);const l=await Cv(e,t,n,Gf(),a);return kV(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(bs(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await k2(e),n=new ER(e);return t.register("authEvent",a=>(pe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uv,{type:uv},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[uv];c!==void 0&&t(!!c),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $S()||BS()||_m()}}const wR=G2;class K2{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return oa("unexpected MultiFactorSessionType")}}}class zE extends K2{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new zE(e)}_finalizeEnroll(e,t,n){return RV(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return qV(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class AR{constructor(){}static assertion(e){return zE._fromCredential(e)}}AR.FACTOR_ID="phone";var oA="@firebase/auth",lA="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(i){Al(new da("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=n.options;pe(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const m={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GS(i)},g=new pk(n,a,l,m);return Nk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Al(new da("auth-internal",e=>{const t=rn(e.getProvider("auth").getImmediate());return(n=>new Q2(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(oA,lA,Y2(i)),Kr(oA,lA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=5*60,J2=cS("authIdTokenMaxAge")||X2;let cA=null;const Z2=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>J2)return;const a=t==null?void 0:t.token;cA!==a&&(cA=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FE(i=IS()){const e=Wg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=xk(i,{popupRedirectResolver:wR,persistence:[_h,r_,Il]}),n=cS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const c=Z2(l.toString());AV(t,c,()=>c(t.currentUser)),wV(t,d=>c(d))}}const a=mP("auth");return a&&YS(t,`http://${a}`),t}function eM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}gk({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=a=>{const l=Fn("internal-error");l.customData=a,t(l)},n.type="text/javascript",n.charset="UTF-8",eM().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");var tM="firebase",nM="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(tM,nM,"app");const Hh={apiKey:"AIzaSyAXRkoktT5PXYSOduBggPengSMkl_afUxw",authDomain:"jaro-ai.firebaseapp.com",projectId:"jaro-ai",storageBucket:"jaro-ai.firebasestorage.app",messagingSenderId:"758047924094",appId:"1:758047924094:web:9901aea25ca622c6ff9d2f"},iM=Xg(Hh),qE=FE(iM);function rM(){const[i,e]=K.useState(""),[t,n]=K.useState(""),a=async c=>{c.preventDefault();try{const d=await oR(qE,i,t);alert("Sign in successful!"),console.log("Signed in user:",d.user),window.location.href="/deephermes"}catch(d){alert("Sign in failed: "+d.message),console.error("Sign in error:",d)}},l=()=>{window.history.back()};return C.jsx("div",{className:"auth-container",children:C.jsxs("div",{className:"auth-content",children:[C.jsx("div",{className:"auth-logo-section",children:C.jsx("img",{src:"logo-black.png",alt:"Brand Logo",className:"auth-logo-img"})}),C.jsxs("div",{className:"auth-form-section",children:[C.jsx("button",{onClick:l,className:"back-button","aria-label":"Go back",children:"←"}),C.jsxs("div",{className:"auth-form-card",children:[C.jsx("h2",{className:"auth-title",children:"Sign In"}),C.jsxs("form",{onSubmit:a,className:"sign-in-form",children:[C.jsx("input",{type:"email",className:"form-input",placeholder:"Email Address",required:!0,value:i,onChange:c=>e(c.target.value)}),C.jsx("input",{type:"password",className:"form-input",placeholder:"Password",required:!0,value:t,onChange:c=>n(c.target.value)}),C.jsx("button",{type:"submit",className:"submit-button",children:"Sign In"})]})]})]})]})})}function sM(){const[i,e]=K.useState(""),[t,n]=K.useState(""),[a,l]=K.useState(""),c=async m=>{if(m.preventDefault(),t!==a){alert("Passwords do not match!");return}try{const g=await aR(qE,i,t);alert("Sign up successful!"),console.log("Signed up user:",g.user),window.location.href="/deephermes"}catch(g){alert("Sign up failed: "+g.message),console.error("Sign up error:",g)}},d=()=>{window.history.back()};return C.jsx("div",{className:"auth-container",children:C.jsxs("div",{className:"auth-content",children:[C.jsx("div",{className:"auth-logo-section",children:C.jsx("img",{src:"logo-black.png",alt:"Brand Logo",className:"auth-logo-img"})}),C.jsxs("div",{className:"auth-form-section",children:[C.jsx("button",{onClick:d,className:"back-button","aria-label":"Go back",children:"←"}),C.jsxs("div",{className:"auth-form-card",children:[C.jsx("h2",{className:"auth-title",children:"Sign Up"}),C.jsxs("form",{onSubmit:c,className:"sign-up-form",children:[C.jsx("input",{type:"email",className:"form-input",placeholder:"Email Address",required:!0,value:i,onChange:m=>e(m.target.value)}),C.jsx("input",{type:"password",className:"form-input",placeholder:"Password",required:!0,value:t,onChange:m=>n(m.target.value)}),C.jsx("input",{type:"password",className:"form-input",placeholder:"Confirm Password",required:!0,value:a,onChange:m=>l(m.target.value)}),C.jsx("button",{type:"submit",className:"submit-button",children:"Sign Up"})]})]})]})]})})}function hf({children:i}){const[e,t]=K.useState(null),[n,a]=K.useState(!0);return K.useEffect(()=>{const l=FE(),c=IV(l,d=>{t(d),a(!1)});return()=>c()},[]),n?C.jsx("div",{children:"Loading..."}):e?i:C.jsx(ID,{to:"/sign-in"})}var rg={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var aM=rg.exports,uA;function oM(){return uA||(uA=1,function(i,e){(function(t,n){i.exports=n()})(aM,function(){const t=new Map,n={set(I,p,b){t.has(I)||t.set(I,new Map);const N=t.get(I);N.has(p)||N.size===0?N.set(p,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(N.keys())[0]}.`)},get:(I,p)=>t.has(I)&&t.get(I).get(p)||null,remove(I,p){if(!t.has(I))return;const b=t.get(I);b.delete(p),b.size===0&&t.delete(I)}},a="transitionend",l=I=>(I&&window.CSS&&window.CSS.escape&&(I=I.replace(/#([^\s"#']+)/g,(p,b)=>`#${CSS.escape(b)}`)),I),c=I=>{I.dispatchEvent(new Event(a))},d=I=>!(!I||typeof I!="object")&&(I.jquery!==void 0&&(I=I[0]),I.nodeType!==void 0),m=I=>d(I)?I.jquery?I[0]:I:typeof I=="string"&&I.length>0?document.querySelector(l(I)):null,g=I=>{if(!d(I)||I.getClientRects().length===0)return!1;const p=getComputedStyle(I).getPropertyValue("visibility")==="visible",b=I.closest("details:not([open])");if(!b)return p;if(b!==I){const N=I.closest("summary");if(N&&N.parentNode!==b||N===null)return!1}return p},y=I=>!I||I.nodeType!==Node.ELEMENT_NODE||!!I.classList.contains("disabled")||(I.disabled!==void 0?I.disabled:I.hasAttribute("disabled")&&I.getAttribute("disabled")!=="false"),E=I=>{if(!document.documentElement.attachShadow)return null;if(typeof I.getRootNode=="function"){const p=I.getRootNode();return p instanceof ShadowRoot?p:null}return I instanceof ShadowRoot?I:I.parentNode?E(I.parentNode):null},T=()=>{},V=I=>{I.offsetHeight},L=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,H=[],F=()=>document.documentElement.dir==="rtl",Z=I=>{var p;p=()=>{const b=L();if(b){const N=I.NAME,$=b.fn[N];b.fn[N]=I.jQueryInterface,b.fn[N].Constructor=I,b.fn[N].noConflict=()=>(b.fn[N]=$,I.jQueryInterface)}},document.readyState==="loading"?(H.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of H)b()}),H.push(p)):p()},ne=(I,p=[],b=I)=>typeof I=="function"?I.call(...p):b,le=(I,p,b=!0)=>{if(!b)return void ne(I);const N=(se=>{if(!se)return 0;let{transitionDuration:ue,transitionDelay:_e}=window.getComputedStyle(se);const Re=Number.parseFloat(ue),Ce=Number.parseFloat(_e);return Re||Ce?(ue=ue.split(",")[0],_e=_e.split(",")[0],1e3*(Number.parseFloat(ue)+Number.parseFloat(_e))):0})(p)+5;let $=!1;const G=({target:se})=>{se===p&&($=!0,p.removeEventListener(a,G),ne(I))};p.addEventListener(a,G),setTimeout(()=>{$||c(p)},N)},Ee=(I,p,b,N)=>{const $=I.length;let G=I.indexOf(p);return G===-1?!b&&N?I[$-1]:I[0]:(G+=b?1:-1,N&&(G=(G+$)%$),I[Math.max(0,Math.min(G,$-1))])},ye=/[^.]*(?=\..*)\.|.*/,k=/\..*/,P=/::\d+$/,S={};let x=1;const M={mouseenter:"mouseover",mouseleave:"mouseout"},B=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function z(I,p){return p&&`${p}::${x++}`||I.uidEvent||x++}function j(I){const p=z(I);return I.uidEvent=p,S[p]=S[p]||{},S[p]}function wn(I,p,b=null){return Object.values(I).find(N=>N.callable===p&&N.delegationSelector===b)}function Bt(I,p,b){const N=typeof p=="string",$=N?b:p||b;let G=pt(I);return B.has(G)||(G=I),[N,$,G]}function ae(I,p,b,N,$){if(typeof p!="string"||!I)return;let[G,se,ue]=Bt(p,b,N);p in M&&(se=(Fe=>function($e){if(!$e.relatedTarget||$e.relatedTarget!==$e.delegateTarget&&!$e.delegateTarget.contains($e.relatedTarget))return Fe.call(this,$e)})(se));const _e=j(I),Re=_e[ue]||(_e[ue]={}),Ce=wn(Re,se,G?b:null);if(Ce)return void(Ce.oneOff=Ce.oneOff&&$);const Se=z(se,p.replace(ye,"")),Ye=G?function(Be,Fe,$e){return function Qe(ft){const At=Be.querySelectorAll(Fe);for(let{target:tt}=ft;tt&&tt!==this;tt=tt.parentNode)for(const mt of At)if(mt===tt)return de(ft,{delegateTarget:tt}),Qe.oneOff&&O.off(Be,ft.type,Fe,$e),$e.apply(tt,[ft])}}(I,b,se):function(Be,Fe){return function $e(Qe){return de(Qe,{delegateTarget:Be}),$e.oneOff&&O.off(Be,Qe.type,Fe),Fe.apply(Be,[Qe])}}(I,se);Ye.delegationSelector=G?b:null,Ye.callable=se,Ye.oneOff=$,Ye.uidEvent=Se,Re[Se]=Ye,I.addEventListener(ue,Ye,G)}function be(I,p,b,N,$){const G=wn(p[b],N,$);G&&(I.removeEventListener(b,G,!!$),delete p[b][G.uidEvent])}function Me(I,p,b,N){const $=p[b]||{};for(const[G,se]of Object.entries($))G.includes(N)&&be(I,p,b,se.callable,se.delegationSelector)}function pt(I){return I=I.replace(k,""),M[I]||I}const O={on(I,p,b,N){ae(I,p,b,N,!1)},one(I,p,b,N){ae(I,p,b,N,!0)},off(I,p,b,N){if(typeof p!="string"||!I)return;const[$,G,se]=Bt(p,b,N),ue=se!==p,_e=j(I),Re=_e[se]||{},Ce=p.startsWith(".");if(G===void 0){if(Ce)for(const Se of Object.keys(_e))Me(I,_e,Se,p.slice(1));for(const[Se,Ye]of Object.entries(Re)){const Be=Se.replace(P,"");ue&&!p.includes(Be)||be(I,_e,se,Ye.callable,Ye.delegationSelector)}}else{if(!Object.keys(Re).length)return;be(I,_e,se,G,$?b:null)}},trigger(I,p,b){if(typeof p!="string"||!I)return null;const N=L();let $=null,G=!0,se=!0,ue=!1;p!==pt(p)&&N&&($=N.Event(p,b),N(I).trigger($),G=!$.isPropagationStopped(),se=!$.isImmediatePropagationStopped(),ue=$.isDefaultPrevented());const _e=de(new Event(p,{bubbles:G,cancelable:!0}),b);return ue&&_e.preventDefault(),se&&I.dispatchEvent(_e),_e.defaultPrevented&&$&&$.preventDefault(),_e}};function de(I,p={}){for(const[b,N]of Object.entries(p))try{I[b]=N}catch{Object.defineProperty(I,b,{configurable:!0,get:()=>N})}return I}function Ae(I){if(I==="true")return!0;if(I==="false")return!1;if(I===Number(I).toString())return Number(I);if(I===""||I==="null")return null;if(typeof I!="string")return I;try{return JSON.parse(decodeURIComponent(I))}catch{return I}}function ge(I){return I.replace(/[A-Z]/g,p=>`-${p.toLowerCase()}`)}const Pe={setDataAttribute(I,p,b){I.setAttribute(`data-bs-${ge(p)}`,b)},removeDataAttribute(I,p){I.removeAttribute(`data-bs-${ge(p)}`)},getDataAttributes(I){if(!I)return{};const p={},b=Object.keys(I.dataset).filter(N=>N.startsWith("bs")&&!N.startsWith("bsConfig"));for(const N of b){let $=N.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1),p[$]=Ae(I.dataset[N])}return p},getDataAttribute:(I,p)=>Ae(I.getAttribute(`data-bs-${ge(p)}`))};class Xe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(p){return p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p}_mergeConfigObj(p,b){const N=d(b)?Pe.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof N=="object"?N:{},...d(b)?Pe.getDataAttributes(b):{},...typeof p=="object"?p:{}}}_typeCheckConfig(p,b=this.constructor.DefaultType){for(const[$,G]of Object.entries(b)){const se=p[$],ue=d(se)?"element":(N=se)==null?`${N}`:Object.prototype.toString.call(N).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(G).test(ue))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${$}" provided type "${ue}" but expected type "${G}".`)}var N}}class Ve extends Xe{constructor(p,b){super(),(p=m(p))&&(this._element=p,this._config=this._getConfig(b),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const p of Object.getOwnPropertyNames(this))this[p]=null}_queueCallback(p,b,N=!0){le(p,b,N)}_getConfig(p){return p=this._mergeConfigObj(p,this._element),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}static getInstance(p){return n.get(m(p),this.DATA_KEY)}static getOrCreateInstance(p,b={}){return this.getInstance(p)||new this(p,typeof b=="object"?b:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(p){return`${p}${this.EVENT_KEY}`}}const sn=I=>{let p=I.getAttribute("data-bs-target");if(!p||p==="#"){let b=I.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),p=b&&b!=="#"?b.trim():null}return p?p.split(",").map(b=>l(b)).join(","):null},we={find:(I,p=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(p,I)),findOne:(I,p=document.documentElement)=>Element.prototype.querySelector.call(p,I),children:(I,p)=>[].concat(...I.children).filter(b=>b.matches(p)),parents(I,p){const b=[];let N=I.parentNode.closest(p);for(;N;)b.push(N),N=N.parentNode.closest(p);return b},prev(I,p){let b=I.previousElementSibling;for(;b;){if(b.matches(p))return[b];b=b.previousElementSibling}return[]},next(I,p){let b=I.nextElementSibling;for(;b;){if(b.matches(p))return[b];b=b.nextElementSibling}return[]},focusableChildren(I){const p=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(p,I).filter(b=>!y(b)&&g(b))},getSelectorFromElement(I){const p=sn(I);return p&&we.findOne(p)?p:null},getElementFromSelector(I){const p=sn(I);return p?we.findOne(p):null},getMultipleElementsFromSelector(I){const p=sn(I);return p?we.find(p):[]}},Ai=(I,p="hide")=>{const b=`click.dismiss${I.EVENT_KEY}`,N=I.NAME;O.on(document,b,`[data-bs-dismiss="${N}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),y(this))return;const G=we.getElementFromSelector(this)||this.closest(`.${N}`);I.getOrCreateInstance(G)[p]()})},Yr=".bs.alert",Wr=`close${Yr}`,ya=`closed${Yr}`;class tr extends Ve{static get NAME(){return"alert"}close(){if(O.trigger(this._element,Wr).defaultPrevented)return;this._element.classList.remove("show");const p=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,p)}_destroyElement(){this._element.remove(),O.trigger(this._element,ya),this.dispose()}static jQueryInterface(p){return this.each(function(){const b=tr.getOrCreateInstance(this);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p](this)}})}}Ai(tr,"close"),Z(tr);const ws='[data-bs-toggle="button"]';class Xr extends Ve{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(p){return this.each(function(){const b=Xr.getOrCreateInstance(this);p==="toggle"&&b[p]()})}}O.on(document,"click.bs.button.data-api",ws,I=>{I.preventDefault();const p=I.target.closest(ws);Xr.getOrCreateInstance(p).toggle()}),Z(Xr);const Jr=".bs.swipe",Ui=`touchstart${Jr}`,Zh=`touchmove${Jr}`,ql=`touchend${Jr}`,vo=`pointerdown${Jr}`,va=`pointerup${Jr}`,ed={endCallback:null,leftCallback:null,rightCallback:null},Eo={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class As extends Xe{constructor(p,b){super(),this._element=p,p&&As.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ed}static get DefaultType(){return Eo}static get NAME(){return"swipe"}dispose(){O.off(this._element,Jr)}_start(p){this._supportPointerEvents?this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX):this._deltaX=p.touches[0].clientX}_end(p){this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX-this._deltaX),this._handleSwipe(),ne(this._config.endCallback)}_move(p){this._deltaX=p.touches&&p.touches.length>1?0:p.touches[0].clientX-this._deltaX}_handleSwipe(){const p=Math.abs(this._deltaX);if(p<=40)return;const b=p/this._deltaX;this._deltaX=0,b&&ne(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,vo,p=>this._start(p)),O.on(this._element,va,p=>this._end(p)),this._element.classList.add("pointer-event")):(O.on(this._element,Ui,p=>this._start(p)),O.on(this._element,Zh,p=>this._move(p)),O.on(this._element,ql,p=>this._end(p)))}_eventIsPointerPenTouch(p){return this._supportPointerEvents&&(p.pointerType==="pen"||p.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const nr=".bs.carousel",zt=".data-api",wt="ArrowLeft",Ii="ArrowRight",an="next",Zr="prev",Is="left",Tr="right",Ea=`slide${nr}`,es=`slid${nr}`,ir=`keydown${nr}`,bo=`mouseenter${nr}`,ba=`mouseleave${nr}`,Hl=`dragstart${nr}`,$l=`load${nr}${zt}`,Gl=`click${nr}${zt}`,wr="carousel",ji="active",To=".active",rr=".carousel-item",Kl=To+rr,Ss={[wt]:Tr,[Ii]:Is},wo={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Rs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ts extends Ve{constructor(p,b){super(p,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===wr&&this.cycle()}static get Default(){return wo}static get DefaultType(){return Rs}static get NAME(){return"carousel"}next(){this._slide(an)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(Zr)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?O.one(this._element,es,()=>this.cycle()):this.cycle())}to(p){const b=this._getItems();if(p>b.length-1||p<0)return;if(this._isSliding)return void O.one(this._element,es,()=>this.to(p));const N=this._getItemIndex(this._getActive());if(N===p)return;const $=p>N?an:Zr;this._slide($,b[p])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(p){return p.defaultInterval=p.interval,p}_addEventListeners(){this._config.keyboard&&O.on(this._element,ir,p=>this._keydown(p)),this._config.pause==="hover"&&(O.on(this._element,bo,()=>this.pause()),O.on(this._element,ba,()=>this._maybeEnableCycle())),this._config.touch&&As.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of we.find(".carousel-item img",this._element))O.on(b,Hl,N=>N.preventDefault());const p={leftCallback:()=>this._slide(this._directionToOrder(Is)),rightCallback:()=>this._slide(this._directionToOrder(Tr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new As(this._element,p)}_keydown(p){if(/input|textarea/i.test(p.target.tagName))return;const b=Ss[p.key];b&&(p.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(p){return this._getItems().indexOf(p)}_setActiveIndicatorElement(p){if(!this._indicatorsElement)return;const b=we.findOne(To,this._indicatorsElement);b.classList.remove(ji),b.removeAttribute("aria-current");const N=we.findOne(`[data-bs-slide-to="${p}"]`,this._indicatorsElement);N&&(N.classList.add(ji),N.setAttribute("aria-current","true"))}_updateInterval(){const p=this._activeElement||this._getActive();if(!p)return;const b=Number.parseInt(p.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(p,b=null){if(this._isSliding)return;const N=this._getActive(),$=p===an,G=b||Ee(this._getItems(),N,$,this._config.wrap);if(G===N)return;const se=this._getItemIndex(G),ue=Se=>O.trigger(this._element,Se,{relatedTarget:G,direction:this._orderToDirection(p),from:this._getItemIndex(N),to:se});if(ue(Ea).defaultPrevented||!N||!G)return;const _e=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(se),this._activeElement=G;const Re=$?"carousel-item-start":"carousel-item-end",Ce=$?"carousel-item-next":"carousel-item-prev";G.classList.add(Ce),V(G),N.classList.add(Re),G.classList.add(Re),this._queueCallback(()=>{G.classList.remove(Re,Ce),G.classList.add(ji),N.classList.remove(ji,Ce,Re),this._isSliding=!1,ue(es)},N,this._isAnimated()),_e&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return we.findOne(Kl,this._element)}_getItems(){return we.find(rr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(p){return F()?p===Is?Zr:an:p===Is?an:Zr}_orderToDirection(p){return F()?p===Zr?Is:Tr:p===Zr?Tr:Is}static jQueryInterface(p){return this.each(function(){const b=ts.getOrCreateInstance(this,p);if(typeof p!="number"){if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}}else b.to(p)})}}O.on(document,Gl,"[data-bs-slide], [data-bs-slide-to]",function(I){const p=we.getElementFromSelector(this);if(!p||!p.classList.contains(wr))return;I.preventDefault();const b=ts.getOrCreateInstance(p),N=this.getAttribute("data-bs-slide-to");return N?(b.to(N),void b._maybeEnableCycle()):Pe.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),O.on(window,$l,()=>{const I=we.find('[data-bs-ride="carousel"]');for(const p of I)ts.getOrCreateInstance(p)}),Z(ts);const It=".bs.collapse",fn=`show${It}`,on=`shown${It}`,Bi=`hide${It}`,Ql=`hidden${It}`,td=`click${It}.data-api`,Ar="show",ns="collapse",Ir="collapsing",Cs=`:scope .${ns} .${ns}`,sr='[data-bs-toggle="collapse"]',Sr={parent:null,toggle:!0},Rr={parent:"(null|element)",toggle:"boolean"};class ln extends Ve{constructor(p,b){super(p,b),this._isTransitioning=!1,this._triggerArray=[];const N=we.find(sr);for(const $ of N){const G=we.getSelectorFromElement($),se=we.find(G).filter(ue=>ue===this._element);G!==null&&se.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Sr}static get DefaultType(){return Rr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let p=[];if(this._config.parent&&(p=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter($=>$!==this._element).map($=>ln.getOrCreateInstance($,{toggle:!1}))),p.length&&p[0]._isTransitioning||O.trigger(this._element,fn).defaultPrevented)return;for(const $ of p)$.hide();const b=this._getDimension();this._element.classList.remove(ns),this._element.classList.add(Ir),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const N=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ir),this._element.classList.add(ns,Ar),this._element.style[b]="",O.trigger(this._element,on)},this._element,!0),this._element.style[b]=`${this._element[N]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,Bi).defaultPrevented)return;const p=this._getDimension();this._element.style[p]=`${this._element.getBoundingClientRect()[p]}px`,V(this._element),this._element.classList.add(Ir),this._element.classList.remove(ns,Ar);for(const b of this._triggerArray){const N=we.getElementFromSelector(b);N&&!this._isShown(N)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[p]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ir),this._element.classList.add(ns),O.trigger(this._element,Ql)},this._element,!0)}_isShown(p=this._element){return p.classList.contains(Ar)}_configAfterMerge(p){return p.toggle=!!p.toggle,p.parent=m(p.parent),p}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const p=this._getFirstLevelChildren(sr);for(const b of p){const N=we.getElementFromSelector(b);N&&this._addAriaAndCollapsedClass([b],this._isShown(N))}}_getFirstLevelChildren(p){const b=we.find(Cs,this._config.parent);return we.find(p,this._config.parent).filter(N=>!b.includes(N))}_addAriaAndCollapsedClass(p,b){if(p.length)for(const N of p)N.classList.toggle("collapsed",!b),N.setAttribute("aria-expanded",b)}static jQueryInterface(p){const b={};return typeof p=="string"&&/show|hide/.test(p)&&(b.toggle=!1),this.each(function(){const N=ln.getOrCreateInstance(this,b);if(typeof p=="string"){if(N[p]===void 0)throw new TypeError(`No method named "${p}"`);N[p]()}})}}O.on(document,td,sr,function(I){(I.target.tagName==="A"||I.delegateTarget&&I.delegateTarget.tagName==="A")&&I.preventDefault();for(const p of we.getMultipleElementsFromSelector(this))ln.getOrCreateInstance(p,{toggle:!1}).toggle()}),Z(ln);var rt="top",kn="bottom",An="right",kt="left",zi="auto",is=[rt,kn,An,kt],Cr="start",Fi="end",Yl="clippingParents",xr="viewport",ti="popper",In="reference",rs=is.reduce(function(I,p){return I.concat([p+"-"+Cr,p+"-"+Fi])},[]),Ao=[].concat(is,[zi]).reduce(function(I,p){return I.concat([p,p+"-"+Cr,p+"-"+Fi])},[]),Nr="beforeRead",Ta="read",wa="afterRead",Io="beforeMain",Aa="main",Hn="afterMain",So="beforeWrite",ou="write",Ia="afterWrite",Ro=[Nr,Ta,wa,Io,Aa,Hn,So,ou,Ia];function $n(I){return I?(I.nodeName||"").toLowerCase():null}function ni(I){if(I==null)return window;if(I.toString()!=="[object Window]"){var p=I.ownerDocument;return p&&p.defaultView||window}return I}function Dt(I){return I instanceof ni(I).Element||I instanceof Element}function Mt(I){return I instanceof ni(I).HTMLElement||I instanceof HTMLElement}function ss(I){return typeof ShadowRoot<"u"&&(I instanceof ni(I).ShadowRoot||I instanceof ShadowRoot)}const Dr={name:"applyStyles",enabled:!0,phase:"write",fn:function(I){var p=I.state;Object.keys(p.elements).forEach(function(b){var N=p.styles[b]||{},$=p.attributes[b]||{},G=p.elements[b];Mt(G)&&$n(G)&&(Object.assign(G.style,N),Object.keys($).forEach(function(se){var ue=$[se];ue===!1?G.removeAttribute(se):G.setAttribute(se,ue===!0?"":ue)}))})},effect:function(I){var p=I.state,b={popper:{position:p.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(p.elements.popper.style,b.popper),p.styles=b,p.elements.arrow&&Object.assign(p.elements.arrow.style,b.arrow),function(){Object.keys(p.elements).forEach(function(N){var $=p.elements[N],G=p.attributes[N]||{},se=Object.keys(p.styles.hasOwnProperty(N)?p.styles[N]:b[N]).reduce(function(ue,_e){return ue[_e]="",ue},{});Mt($)&&$n($)&&(Object.assign($.style,se),Object.keys(G).forEach(function(ue){$.removeAttribute(ue)}))})}},requires:["computeStyles"]};function Sn(I){return I.split("-")[0]}var lt=Math.max,Pr=Math.min,Vn=Math.round;function as(){var I=navigator.userAgentData;return I!=null&&I.brands&&Array.isArray(I.brands)?I.brands.map(function(p){return p.brand+"/"+p.version}).join(" "):navigator.userAgent}function Wl(){return!/^((?!chrome|android).)*safari/i.test(as())}function Or(I,p,b){p===void 0&&(p=!1),b===void 0&&(b=!1);var N=I.getBoundingClientRect(),$=1,G=1;p&&Mt(I)&&($=I.offsetWidth>0&&Vn(N.width)/I.offsetWidth||1,G=I.offsetHeight>0&&Vn(N.height)/I.offsetHeight||1);var se=(Dt(I)?ni(I):window).visualViewport,ue=!Wl()&&b,_e=(N.left+(ue&&se?se.offsetLeft:0))/$,Re=(N.top+(ue&&se?se.offsetTop:0))/G,Ce=N.width/$,Se=N.height/G;return{width:Ce,height:Se,top:Re,right:_e+Ce,bottom:Re+Se,left:_e,x:_e,y:Re}}function Sa(I){var p=Or(I),b=I.offsetWidth,N=I.offsetHeight;return Math.abs(p.width-b)<=1&&(b=p.width),Math.abs(p.height-N)<=1&&(N=p.height),{x:I.offsetLeft,y:I.offsetTop,width:b,height:N}}function lu(I,p){var b=p.getRootNode&&p.getRootNode();if(I.contains(p))return!0;if(b&&ss(b)){var N=p;do{if(N&&I.isSameNode(N))return!0;N=N.parentNode||N.host}while(N)}return!1}function ar(I){return ni(I).getComputedStyle(I)}function Co(I){return["table","td","th"].indexOf($n(I))>=0}function Gn(I){return((Dt(I)?I.ownerDocument:I.document)||window.document).documentElement}function ii(I){return $n(I)==="html"?I:I.assignedSlot||I.parentNode||(ss(I)?I.host:null)||Gn(I)}function kr(I){return Mt(I)&&ar(I).position!=="fixed"?I.offsetParent:null}function Si(I){for(var p=ni(I),b=kr(I);b&&Co(b)&&ar(b).position==="static";)b=kr(b);return b&&($n(b)==="html"||$n(b)==="body"&&ar(b).position==="static")?p:b||function(N){var $=/firefox/i.test(as());if(/Trident/i.test(as())&&Mt(N)&&ar(N).position==="fixed")return null;var G=ii(N);for(ss(G)&&(G=G.host);Mt(G)&&["html","body"].indexOf($n(G))<0;){var se=ar(G);if(se.transform!=="none"||se.perspective!=="none"||se.contain==="paint"||["transform","perspective"].indexOf(se.willChange)!==-1||$&&se.willChange==="filter"||$&&se.filter&&se.filter!=="none")return G;G=G.parentNode}return null}(I)||p}function Ra(I){return["top","bottom"].indexOf(I)>=0?"x":"y"}function pi(I,p,b){return lt(I,Pr(p,b))}function Xl(I){return Object.assign({},{top:0,right:0,bottom:0,left:0},I)}function xs(I,p){return p.reduce(function(b,N){return b[N]=I,b},{})}const qi={name:"arrow",enabled:!0,phase:"main",fn:function(I){var p,b=I.state,N=I.name,$=I.options,G=b.elements.arrow,se=b.modifiersData.popperOffsets,ue=Sn(b.placement),_e=Ra(ue),Re=[kt,An].indexOf(ue)>=0?"height":"width";if(G&&se){var Ce=function(Le,qe){return Xl(typeof(Le=typeof Le=="function"?Le(Object.assign({},qe.rects,{placement:qe.placement})):Le)!="number"?Le:xs(Le,is))}($.padding,b),Se=Sa(G),Ye=_e==="y"?rt:kt,Be=_e==="y"?kn:An,Fe=b.rects.reference[Re]+b.rects.reference[_e]-se[_e]-b.rects.popper[Re],$e=se[_e]-b.rects.reference[_e],Qe=Si(G),ft=Qe?_e==="y"?Qe.clientHeight||0:Qe.clientWidth||0:0,At=Fe/2-$e/2,tt=Ce[Ye],mt=ft-Se[Re]-Ce[Be],Je=ft/2-Se[Re]/2+At,Ze=pi(tt,Je,mt),Ne=_e;b.modifiersData[N]=((p={})[Ne]=Ze,p.centerOffset=Ze-Je,p)}},effect:function(I){var p=I.state,b=I.options.element,N=b===void 0?"[data-popper-arrow]":b;N!=null&&(typeof N!="string"||(N=p.elements.popper.querySelector(N)))&&lu(p.elements.popper,N)&&(p.elements.arrow=N)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mn(I){return I.split("-")[1]}var Ca={top:"auto",right:"auto",bottom:"auto",left:"auto"};function or(I){var p,b=I.popper,N=I.popperRect,$=I.placement,G=I.variation,se=I.offsets,ue=I.position,_e=I.gpuAcceleration,Re=I.adaptive,Ce=I.roundOffsets,Se=I.isFixed,Ye=se.x,Be=Ye===void 0?0:Ye,Fe=se.y,$e=Fe===void 0?0:Fe,Qe=typeof Ce=="function"?Ce({x:Be,y:$e}):{x:Be,y:$e};Be=Qe.x,$e=Qe.y;var ft=se.hasOwnProperty("x"),At=se.hasOwnProperty("y"),tt=kt,mt=rt,Je=window;if(Re){var Ze=Si(b),Ne="clientHeight",Le="clientWidth";Ze===ni(b)&&ar(Ze=Gn(b)).position!=="static"&&ue==="absolute"&&(Ne="scrollHeight",Le="scrollWidth"),($===rt||($===kt||$===An)&&G===Fi)&&(mt=kn,$e-=(Se&&Ze===Je&&Je.visualViewport?Je.visualViewport.height:Ze[Ne])-N.height,$e*=_e?1:-1),$!==kt&&($!==rt&&$!==kn||G!==Fi)||(tt=An,Be-=(Se&&Ze===Je&&Je.visualViewport?Je.visualViewport.width:Ze[Le])-N.width,Be*=_e?1:-1)}var qe,Lt=Object.assign({position:ue},Re&&Ca),Nn=Ce===!0?function(jn,Dn){var Kn=jn.x,Bn=jn.y,Ht=Dn.devicePixelRatio||1;return{x:Vn(Kn*Ht)/Ht||0,y:Vn(Bn*Ht)/Ht||0}}({x:Be,y:$e},ni(b)):{x:Be,y:$e};return Be=Nn.x,$e=Nn.y,_e?Object.assign({},Lt,((qe={})[mt]=At?"0":"",qe[tt]=ft?"0":"",qe.transform=(Je.devicePixelRatio||1)<=1?"translate("+Be+"px, "+$e+"px)":"translate3d("+Be+"px, "+$e+"px, 0)",qe)):Object.assign({},Lt,((p={})[mt]=At?$e+"px":"",p[tt]=ft?Be+"px":"",p.transform="",p))}const Vr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(I){var p=I.state,b=I.options,N=b.gpuAcceleration,$=N===void 0||N,G=b.adaptive,se=G===void 0||G,ue=b.roundOffsets,_e=ue===void 0||ue,Re={placement:Sn(p.placement),variation:Mn(p.placement),popper:p.elements.popper,popperRect:p.rects.popper,gpuAcceleration:$,isFixed:p.options.strategy==="fixed"};p.modifiersData.popperOffsets!=null&&(p.styles.popper=Object.assign({},p.styles.popper,or(Object.assign({},Re,{offsets:p.modifiersData.popperOffsets,position:p.options.strategy,adaptive:se,roundOffsets:_e})))),p.modifiersData.arrow!=null&&(p.styles.arrow=Object.assign({},p.styles.arrow,or(Object.assign({},Re,{offsets:p.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-placement":p.placement})},data:{}};var Hi={passive:!0};const xa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(I){var p=I.state,b=I.instance,N=I.options,$=N.scroll,G=$===void 0||$,se=N.resize,ue=se===void 0||se,_e=ni(p.elements.popper),Re=[].concat(p.scrollParents.reference,p.scrollParents.popper);return G&&Re.forEach(function(Ce){Ce.addEventListener("scroll",b.update,Hi)}),ue&&_e.addEventListener("resize",b.update,Hi),function(){G&&Re.forEach(function(Ce){Ce.removeEventListener("scroll",b.update,Hi)}),ue&&_e.removeEventListener("resize",b.update,Hi)}},data:{}};var Mr={left:"right",right:"left",bottom:"top",top:"bottom"};function Ri(I){return I.replace(/left|right|bottom|top/g,function(p){return Mr[p]})}var Jl={start:"end",end:"start"};function mn(I){return I.replace(/start|end/g,function(p){return Jl[p]})}function gt(I){var p=ni(I);return{scrollLeft:p.pageXOffset,scrollTop:p.pageYOffset}}function Ns(I){return Or(Gn(I)).left+gt(I).scrollLeft}function os(I){var p=ar(I),b=p.overflow,N=p.overflowX,$=p.overflowY;return/auto|scroll|overlay|hidden/.test(b+$+N)}function Zl(I){return["html","body","#document"].indexOf($n(I))>=0?I.ownerDocument.body:Mt(I)&&os(I)?I:Zl(ii(I))}function Lr(I,p){var b;p===void 0&&(p=[]);var N=Zl(I),$=N===((b=I.ownerDocument)==null?void 0:b.body),G=ni(N),se=$?[G].concat(G.visualViewport||[],os(N)?N:[]):N,ue=p.concat(se);return $?ue:ue.concat(Lr(ii(se)))}function Ds(I){return Object.assign({},I,{left:I.x,top:I.y,right:I.x+I.width,bottom:I.y+I.height})}function lr(I,p,b){return p===xr?Ds(function(N,$){var G=ni(N),se=Gn(N),ue=G.visualViewport,_e=se.clientWidth,Re=se.clientHeight,Ce=0,Se=0;if(ue){_e=ue.width,Re=ue.height;var Ye=Wl();(Ye||!Ye&&$==="fixed")&&(Ce=ue.offsetLeft,Se=ue.offsetTop)}return{width:_e,height:Re,x:Ce+Ns(N),y:Se}}(I,b)):Dt(p)?function(N,$){var G=Or(N,!1,$==="fixed");return G.top=G.top+N.clientTop,G.left=G.left+N.clientLeft,G.bottom=G.top+N.clientHeight,G.right=G.left+N.clientWidth,G.width=N.clientWidth,G.height=N.clientHeight,G.x=G.left,G.y=G.top,G}(p,b):Ds(function(N){var $,G=Gn(N),se=gt(N),ue=($=N.ownerDocument)==null?void 0:$.body,_e=lt(G.scrollWidth,G.clientWidth,ue?ue.scrollWidth:0,ue?ue.clientWidth:0),Re=lt(G.scrollHeight,G.clientHeight,ue?ue.scrollHeight:0,ue?ue.clientHeight:0),Ce=-se.scrollLeft+Ns(N),Se=-se.scrollTop;return ar(ue||G).direction==="rtl"&&(Ce+=lt(G.clientWidth,ue?ue.clientWidth:0)-_e),{width:_e,height:Re,x:Ce,y:Se}}(Gn(I)))}function Ps(I){var p,b=I.reference,N=I.element,$=I.placement,G=$?Sn($):null,se=$?Mn($):null,ue=b.x+b.width/2-N.width/2,_e=b.y+b.height/2-N.height/2;switch(G){case rt:p={x:ue,y:b.y-N.height};break;case kn:p={x:ue,y:b.y+b.height};break;case An:p={x:b.x+b.width,y:_e};break;case kt:p={x:b.x-N.width,y:_e};break;default:p={x:b.x,y:b.y}}var Re=G?Ra(G):null;if(Re!=null){var Ce=Re==="y"?"height":"width";switch(se){case Cr:p[Re]=p[Re]-(b[Ce]/2-N[Ce]/2);break;case Fi:p[Re]=p[Re]+(b[Ce]/2-N[Ce]/2)}}return p}function Ln(I,p){p===void 0&&(p={});var b=p,N=b.placement,$=N===void 0?I.placement:N,G=b.strategy,se=G===void 0?I.strategy:G,ue=b.boundary,_e=ue===void 0?Yl:ue,Re=b.rootBoundary,Ce=Re===void 0?xr:Re,Se=b.elementContext,Ye=Se===void 0?ti:Se,Be=b.altBoundary,Fe=Be!==void 0&&Be,$e=b.padding,Qe=$e===void 0?0:$e,ft=Xl(typeof Qe!="number"?Qe:xs(Qe,is)),At=Ye===ti?In:ti,tt=I.rects.popper,mt=I.elements[Fe?At:Ye],Je=function(Dn,Kn,Bn,Ht){var Et=Kn==="clippingParents"?function(St){var oi=Lr(ii(St)),yi=["absolute","fixed"].indexOf(ar(St).position)>=0&&Mt(St)?Si(St):St;return Dt(yi)?oi.filter(function(Br){return Dt(Br)&&lu(Br,yi)&&$n(Br)!=="body"}):[]}(Dn):[].concat(Kn),Ki=[].concat(Et,[Bn]),Hs=Ki[0],yn=Ki.reduce(function(St,oi){var yi=lr(Dn,oi,Ht);return St.top=lt(yi.top,St.top),St.right=Pr(yi.right,St.right),St.bottom=Pr(yi.bottom,St.bottom),St.left=lt(yi.left,St.left),St},lr(Dn,Hs,Ht));return yn.width=yn.right-yn.left,yn.height=yn.bottom-yn.top,yn.x=yn.left,yn.y=yn.top,yn}(Dt(mt)?mt:mt.contextElement||Gn(I.elements.popper),_e,Ce,se),Ze=Or(I.elements.reference),Ne=Ps({reference:Ze,element:tt,placement:$}),Le=Ds(Object.assign({},tt,Ne)),qe=Ye===ti?Le:Ze,Lt={top:Je.top-qe.top+ft.top,bottom:qe.bottom-Je.bottom+ft.bottom,left:Je.left-qe.left+ft.left,right:qe.right-Je.right+ft.right},Nn=I.modifiersData.offset;if(Ye===ti&&Nn){var jn=Nn[$];Object.keys(Lt).forEach(function(Dn){var Kn=[An,kn].indexOf(Dn)>=0?1:-1,Bn=[rt,kn].indexOf(Dn)>=0?"y":"x";Lt[Dn]+=jn[Bn]*Kn})}return Lt}function cu(I,p){p===void 0&&(p={});var b=p,N=b.placement,$=b.boundary,G=b.rootBoundary,se=b.padding,ue=b.flipVariations,_e=b.allowedAutoPlacements,Re=_e===void 0?Ao:_e,Ce=Mn(N),Se=Ce?ue?rs:rs.filter(function(Fe){return Mn(Fe)===Ce}):is,Ye=Se.filter(function(Fe){return Re.indexOf(Fe)>=0});Ye.length===0&&(Ye=Se);var Be=Ye.reduce(function(Fe,$e){return Fe[$e]=Ln(I,{placement:$e,boundary:$,rootBoundary:G,padding:se})[Sn($e)],Fe},{});return Object.keys(Be).sort(function(Fe,$e){return Be[Fe]-Be[$e]})}const uu={name:"flip",enabled:!0,phase:"main",fn:function(I){var p=I.state,b=I.options,N=I.name;if(!p.modifiersData[N]._skip){for(var $=b.mainAxis,G=$===void 0||$,se=b.altAxis,ue=se===void 0||se,_e=b.fallbackPlacements,Re=b.padding,Ce=b.boundary,Se=b.rootBoundary,Ye=b.altBoundary,Be=b.flipVariations,Fe=Be===void 0||Be,$e=b.allowedAutoPlacements,Qe=p.options.placement,ft=Sn(Qe),At=_e||(ft!==Qe&&Fe?function(St){if(Sn(St)===zi)return[];var oi=Ri(St);return[mn(St),oi,mn(oi)]}(Qe):[Ri(Qe)]),tt=[Qe].concat(At).reduce(function(St,oi){return St.concat(Sn(oi)===zi?cu(p,{placement:oi,boundary:Ce,rootBoundary:Se,padding:Re,flipVariations:Fe,allowedAutoPlacements:$e}):oi)},[]),mt=p.rects.reference,Je=p.rects.popper,Ze=new Map,Ne=!0,Le=tt[0],qe=0;qe<tt.length;qe++){var Lt=tt[qe],Nn=Sn(Lt),jn=Mn(Lt)===Cr,Dn=[rt,kn].indexOf(Nn)>=0,Kn=Dn?"width":"height",Bn=Ln(p,{placement:Lt,boundary:Ce,rootBoundary:Se,altBoundary:Ye,padding:Re}),Ht=Dn?jn?An:kt:jn?kn:rt;mt[Kn]>Je[Kn]&&(Ht=Ri(Ht));var Et=Ri(Ht),Ki=[];if(G&&Ki.push(Bn[Nn]<=0),ue&&Ki.push(Bn[Ht]<=0,Bn[Et]<=0),Ki.every(function(St){return St})){Le=Lt,Ne=!1;break}Ze.set(Lt,Ki)}if(Ne)for(var Hs=function(St){var oi=tt.find(function(yi){var Br=Ze.get(yi);if(Br)return Br.slice(0,St).every(function(Ho){return Ho})});if(oi)return Le=oi,"break"},yn=Fe?3:1;yn>0&&Hs(yn)!=="break";yn--);p.placement!==Le&&(p.modifiersData[N]._skip=!0,p.placement=Le,p.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Os(I,p,b){return b===void 0&&(b={x:0,y:0}),{top:I.top-p.height-b.y,right:I.right-p.width+b.x,bottom:I.bottom-p.height+b.y,left:I.left-p.width-b.x}}function Na(I){return[rt,An,kn,kt].some(function(p){return I[p]>=0})}const xo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(I){var p=I.state,b=I.name,N=p.rects.reference,$=p.rects.popper,G=p.modifiersData.preventOverflow,se=Ln(p,{elementContext:"reference"}),ue=Ln(p,{altBoundary:!0}),_e=Os(se,N),Re=Os(ue,$,G),Ce=Na(_e),Se=Na(Re);p.modifiersData[b]={referenceClippingOffsets:_e,popperEscapeOffsets:Re,isReferenceHidden:Ce,hasPopperEscaped:Se},p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-reference-hidden":Ce,"data-popper-escaped":Se})}},Da={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(I){var p=I.state,b=I.options,N=I.name,$=b.offset,G=$===void 0?[0,0]:$,se=Ao.reduce(function(Ce,Se){return Ce[Se]=function(Ye,Be,Fe){var $e=Sn(Ye),Qe=[kt,rt].indexOf($e)>=0?-1:1,ft=typeof Fe=="function"?Fe(Object.assign({},Be,{placement:Ye})):Fe,At=ft[0],tt=ft[1];return At=At||0,tt=(tt||0)*Qe,[kt,An].indexOf($e)>=0?{x:tt,y:At}:{x:At,y:tt}}(Se,p.rects,G),Ce},{}),ue=se[p.placement],_e=ue.x,Re=ue.y;p.modifiersData.popperOffsets!=null&&(p.modifiersData.popperOffsets.x+=_e,p.modifiersData.popperOffsets.y+=Re),p.modifiersData[N]=se}},No={name:"popperOffsets",enabled:!0,phase:"read",fn:function(I){var p=I.state,b=I.name;p.modifiersData[b]=Ps({reference:p.rects.reference,element:p.rects.popper,placement:p.placement})},data:{}},Pa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(I){var p=I.state,b=I.options,N=I.name,$=b.mainAxis,G=$===void 0||$,se=b.altAxis,ue=se!==void 0&&se,_e=b.boundary,Re=b.rootBoundary,Ce=b.altBoundary,Se=b.padding,Ye=b.tether,Be=Ye===void 0||Ye,Fe=b.tetherOffset,$e=Fe===void 0?0:Fe,Qe=Ln(p,{boundary:_e,rootBoundary:Re,padding:Se,altBoundary:Ce}),ft=Sn(p.placement),At=Mn(p.placement),tt=!At,mt=Ra(ft),Je=mt==="x"?"y":"x",Ze=p.modifiersData.popperOffsets,Ne=p.rects.reference,Le=p.rects.popper,qe=typeof $e=="function"?$e(Object.assign({},p.rects,{placement:p.placement})):$e,Lt=typeof qe=="number"?{mainAxis:qe,altAxis:qe}:Object.assign({mainAxis:0,altAxis:0},qe),Nn=p.modifiersData.offset?p.modifiersData.offset[p.placement]:null,jn={x:0,y:0};if(Ze){if(G){var Dn,Kn=mt==="y"?rt:kt,Bn=mt==="y"?kn:An,Ht=mt==="y"?"height":"width",Et=Ze[mt],Ki=Et+Qe[Kn],Hs=Et-Qe[Bn],yn=Be?-Le[Ht]/2:0,St=At===Cr?Ne[Ht]:Le[Ht],oi=At===Cr?-Le[Ht]:-Ne[Ht],yi=p.elements.arrow,Br=Be&&yi?Sa(yi):{width:0,height:0},Ho=p.modifiersData["arrow#persistent"]?p.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},li=Ho[Kn],Zt=Ho[Bn],$o=pi(0,Ne[Ht],Br[Ht]),pc=tt?Ne[Ht]/2-yn-$o-li-Lt.mainAxis:St-$o-li-Lt.mainAxis,Iu=tt?-Ne[Ht]/2+yn+$o+Zt+Lt.mainAxis:oi+$o+Zt+Lt.mainAxis,gc=p.elements.arrow&&Si(p.elements.arrow),ps=gc?mt==="y"?gc.clientTop||0:gc.clientLeft||0:0,_c=(Dn=Nn==null?void 0:Nn[mt])!=null?Dn:0,Sd=Et+Iu-_c,Su=pi(Be?Pr(Ki,Et+pc-_c-ps):Ki,Et,Be?lt(Hs,Sd):Hs);Ze[mt]=Su,jn[mt]=Su-Et}if(ue){var Rd,ip=mt==="x"?rt:kt,rp=mt==="x"?kn:An,$s=Ze[Je],yc=Je==="y"?"height":"width",Cd=$s+Qe[ip],Ru=$s-Qe[rp],Cu=[rt,kt].indexOf(ft)!==-1,sp=(Rd=Nn==null?void 0:Nn[Je])!=null?Rd:0,xd=Cu?Cd:$s-Ne[yc]-Le[yc]-sp+Lt.altAxis,Nd=Cu?$s+Ne[yc]+Le[yc]-sp-Lt.altAxis:Ru,Dd=Be&&Cu?function(Pd,ap,xu){var Od=pi(Pd,ap,xu);return Od>xu?xu:Od}(xd,$s,Nd):pi(Be?xd:Cd,$s,Be?Nd:Ru);Ze[Je]=Dd,jn[Je]=Dd-$s}p.modifiersData[N]=jn}},requiresIfExists:["offset"]};function nd(I,p,b){b===void 0&&(b=!1);var N,$,G=Mt(p),se=Mt(p)&&function(Se){var Ye=Se.getBoundingClientRect(),Be=Vn(Ye.width)/Se.offsetWidth||1,Fe=Vn(Ye.height)/Se.offsetHeight||1;return Be!==1||Fe!==1}(p),ue=Gn(p),_e=Or(I,se,b),Re={scrollLeft:0,scrollTop:0},Ce={x:0,y:0};return(G||!G&&!b)&&(($n(p)!=="body"||os(ue))&&(Re=(N=p)!==ni(N)&&Mt(N)?{scrollLeft:($=N).scrollLeft,scrollTop:$.scrollTop}:gt(N)),Mt(p)?((Ce=Or(p,!0)).x+=p.clientLeft,Ce.y+=p.clientTop):ue&&(Ce.x=Ns(ue))),{x:_e.left+Re.scrollLeft-Ce.x,y:_e.top+Re.scrollTop-Ce.y,width:_e.width,height:_e.height}}function ec(I){var p=new Map,b=new Set,N=[];function $(G){b.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(se){if(!b.has(se)){var ue=p.get(se);ue&&$(ue)}}),N.push(G)}return I.forEach(function(G){p.set(G.name,G)}),I.forEach(function(G){b.has(G.name)||$(G)}),N}var ks={placement:"bottom",modifiers:[],strategy:"absolute"};function tc(){for(var I=arguments.length,p=new Array(I),b=0;b<I;b++)p[b]=arguments[b];return!p.some(function(N){return!(N&&typeof N.getBoundingClientRect=="function")})}function Oa(I){I===void 0&&(I={});var p=I,b=p.defaultModifiers,N=b===void 0?[]:b,$=p.defaultOptions,G=$===void 0?ks:$;return function(se,ue,_e){_e===void 0&&(_e=G);var Re,Ce,Se={placement:"bottom",orderedModifiers:[],options:Object.assign({},ks,G),modifiersData:{},elements:{reference:se,popper:ue},attributes:{},styles:{}},Ye=[],Be=!1,Fe={state:Se,setOptions:function(Qe){var ft=typeof Qe=="function"?Qe(Se.options):Qe;$e(),Se.options=Object.assign({},G,Se.options,ft),Se.scrollParents={reference:Dt(se)?Lr(se):se.contextElement?Lr(se.contextElement):[],popper:Lr(ue)};var At,tt,mt=function(Je){var Ze=ec(Je);return Ro.reduce(function(Ne,Le){return Ne.concat(Ze.filter(function(qe){return qe.phase===Le}))},[])}((At=[].concat(N,Se.options.modifiers),tt=At.reduce(function(Je,Ze){var Ne=Je[Ze.name];return Je[Ze.name]=Ne?Object.assign({},Ne,Ze,{options:Object.assign({},Ne.options,Ze.options),data:Object.assign({},Ne.data,Ze.data)}):Ze,Je},{}),Object.keys(tt).map(function(Je){return tt[Je]})));return Se.orderedModifiers=mt.filter(function(Je){return Je.enabled}),Se.orderedModifiers.forEach(function(Je){var Ze=Je.name,Ne=Je.options,Le=Ne===void 0?{}:Ne,qe=Je.effect;if(typeof qe=="function"){var Lt=qe({state:Se,name:Ze,instance:Fe,options:Le});Ye.push(Lt||function(){})}}),Fe.update()},forceUpdate:function(){if(!Be){var Qe=Se.elements,ft=Qe.reference,At=Qe.popper;if(tc(ft,At)){Se.rects={reference:nd(ft,Si(At),Se.options.strategy==="fixed"),popper:Sa(At)},Se.reset=!1,Se.placement=Se.options.placement,Se.orderedModifiers.forEach(function(qe){return Se.modifiersData[qe.name]=Object.assign({},qe.data)});for(var tt=0;tt<Se.orderedModifiers.length;tt++)if(Se.reset!==!0){var mt=Se.orderedModifiers[tt],Je=mt.fn,Ze=mt.options,Ne=Ze===void 0?{}:Ze,Le=mt.name;typeof Je=="function"&&(Se=Je({state:Se,options:Ne,name:Le,instance:Fe})||Se)}else Se.reset=!1,tt=-1}}},update:(Re=function(){return new Promise(function(Qe){Fe.forceUpdate(),Qe(Se)})},function(){return Ce||(Ce=new Promise(function(Qe){Promise.resolve().then(function(){Ce=void 0,Qe(Re())})})),Ce}),destroy:function(){$e(),Be=!0}};if(!tc(se,ue))return Fe;function $e(){Ye.forEach(function(Qe){return Qe()}),Ye=[]}return Fe.setOptions(_e).then(function(Qe){!Be&&_e.onFirstUpdate&&_e.onFirstUpdate(Qe)}),Fe}}var nc=Oa(),ka=Oa({defaultModifiers:[xa,No,Vr,Dr]}),Do=Oa({defaultModifiers:[xa,No,Vr,Dr,Da,uu,Pa,qi,xo]});const Va=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Hn,afterRead:wa,afterWrite:Ia,applyStyles:Dr,arrow:qi,auto:zi,basePlacements:is,beforeMain:Io,beforeRead:Nr,beforeWrite:So,bottom:kn,clippingParents:Yl,computeStyles:Vr,createPopper:Do,createPopperBase:nc,createPopperLite:ka,detectOverflow:Ln,end:Fi,eventListeners:xa,flip:uu,hide:xo,left:kt,main:Aa,modifierPhases:Ro,offset:Da,placements:Ao,popper:ti,popperGenerator:Oa,popperOffsets:No,preventOverflow:Pa,read:Ta,reference:In,right:An,start:Cr,top:rt,variationPlacements:rs,viewport:xr,write:ou},Symbol.toStringTag,{value:"Module"})),ic="dropdown",cr=".bs.dropdown",ur=".data-api",hu="ArrowUp",rc="ArrowDown",du=`hide${cr}`,fu=`hidden${cr}`,Po=`show${cr}`,ri=`shown${cr}`,sc=`click${cr}${ur}`,ac=`keydown${cr}${ur}`,Ur=`keyup${cr}${ur}`,h="show",v='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',w=`${v}.${h}`,D=".dropdown-menu",Y=F()?"top-end":"top-start",ie=F()?"top-start":"top-end",ve=F()?"bottom-end":"bottom-start",ct=F()?"bottom-start":"bottom-end",pn=F()?"left-start":"right-start",ut=F()?"right-start":"left-start",Rn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},gn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class _n extends Ve{constructor(p,b){super(p,b),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,D)[0]||we.prev(this._element,D)[0]||we.findOne(D,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Rn}static get DefaultType(){return gn}static get NAME(){return ic}toggle(){return this._isShown()?this.hide():this.show()}show(){if(y(this._element)||this._isShown())return;const p={relatedTarget:this._element};if(!O.trigger(this._element,Po,p).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))O.on(b,"mouseover",T);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(h),this._element.classList.add(h),O.trigger(this._element,ri,p)}}hide(){if(y(this._element)||!this._isShown())return;const p={relatedTarget:this._element};this._completeHide(p)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(p){if(!O.trigger(this._element,du,p).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))O.off(b,"mouseover",T);this._popper&&this._popper.destroy(),this._menu.classList.remove(h),this._element.classList.remove(h),this._element.setAttribute("aria-expanded","false"),Pe.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,fu,p),this._element.focus()}}_getConfig(p){if(typeof(p=super._getConfig(p)).reference=="object"&&!d(p.reference)&&typeof p.reference.getBoundingClientRect!="function")throw new TypeError(`${ic.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return p}_createPopper(){if(Va===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let p=this._element;this._config.reference==="parent"?p=this._parent:d(this._config.reference)?p=m(this._config.reference):typeof this._config.reference=="object"&&(p=this._config.reference);const b=this._getPopperConfig();this._popper=Do(p,this._menu,b)}_isShown(){return this._menu.classList.contains(h)}_getPlacement(){const p=this._parent;if(p.classList.contains("dropend"))return pn;if(p.classList.contains("dropstart"))return ut;if(p.classList.contains("dropup-center"))return"top";if(p.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains("dropup")?b?ie:Y:b?ct:ve}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(b=>Number.parseInt(b,10)):typeof p=="function"?b=>p(b,this._element):p}_getPopperConfig(){const p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Pe.setDataAttribute(this._menu,"popper","static"),p.modifiers=[{name:"applyStyles",enabled:!1}]),{...p,...ne(this._config.popperConfig,[void 0,p])}}_selectMenuItem({key:p,target:b}){const N=we.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter($=>g($));N.length&&Ee(N,b,p===rc,!N.includes(b)).focus()}static jQueryInterface(p){return this.each(function(){const b=_n.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}static clearMenus(p){if(p.button===2||p.type==="keyup"&&p.key!=="Tab")return;const b=we.find(w);for(const N of b){const $=_n.getInstance(N);if(!$||$._config.autoClose===!1)continue;const G=p.composedPath(),se=G.includes($._menu);if(G.includes($._element)||$._config.autoClose==="inside"&&!se||$._config.autoClose==="outside"&&se||$._menu.contains(p.target)&&(p.type==="keyup"&&p.key==="Tab"||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;const ue={relatedTarget:$._element};p.type==="click"&&(ue.clickEvent=p),$._completeHide(ue)}}static dataApiKeydownHandler(p){const b=/input|textarea/i.test(p.target.tagName),N=p.key==="Escape",$=[hu,rc].includes(p.key);if(!$&&!N||b&&!N)return;p.preventDefault();const G=this.matches(v)?this:we.prev(this,v)[0]||we.next(this,v)[0]||we.findOne(v,p.delegateTarget.parentNode),se=_n.getOrCreateInstance(G);if($)return p.stopPropagation(),se.show(),void se._selectMenuItem(p);se._isShown()&&(p.stopPropagation(),se.hide(),G.focus())}}O.on(document,ac,v,_n.dataApiKeydownHandler),O.on(document,ac,D,_n.dataApiKeydownHandler),O.on(document,sc,_n.clearMenus),O.on(document,Ur,_n.clearMenus),O.on(document,sc,v,function(I){I.preventDefault(),_n.getOrCreateInstance(this).toggle()}),Z(_n);const Cn="backdrop",hr="show",Oo=`mousedown.bs.${Cn}`,mu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Mm={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class id extends Xe{constructor(p){super(),this._config=this._getConfig(p),this._isAppended=!1,this._element=null}static get Default(){return mu}static get DefaultType(){return Mm}static get NAME(){return Cn}show(p){if(!this._config.isVisible)return void ne(p);this._append();const b=this._getElement();this._config.isAnimated&&V(b),b.classList.add(hr),this._emulateAnimation(()=>{ne(p)})}hide(p){this._config.isVisible?(this._getElement().classList.remove(hr),this._emulateAnimation(()=>{this.dispose(),ne(p)})):ne(p)}dispose(){this._isAppended&&(O.off(this._element,Oo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const p=document.createElement("div");p.className=this._config.className,this._config.isAnimated&&p.classList.add("fade"),this._element=p}return this._element}_configAfterMerge(p){return p.rootElement=m(p.rootElement),p}_append(){if(this._isAppended)return;const p=this._getElement();this._config.rootElement.append(p),O.on(p,Oo,()=>{ne(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(p){le(p,this._getElement(),this._config.isAnimated)}}const ko=".bs.focustrap",rd=`focusin${ko}`,Lm=`keydown.tab${ko}`,sd="backward",Um={autofocus:!0,trapElement:null},M_={autofocus:"boolean",trapElement:"element"};class jm extends Xe{constructor(p){super(),this._config=this._getConfig(p),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Um}static get DefaultType(){return M_}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,ko),O.on(document,rd,p=>this._handleFocusin(p)),O.on(document,Lm,p=>this._handleKeydown(p)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,ko))}_handleFocusin(p){const{trapElement:b}=this._config;if(p.target===document||p.target===b||b.contains(p.target))return;const N=we.focusableChildren(b);N.length===0?b.focus():this._lastTabNavDirection===sd?N[N.length-1].focus():N[0].focus()}_handleKeydown(p){p.key==="Tab"&&(this._lastTabNavDirection=p.shiftKey?sd:"forward")}}const Bm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zm=".sticky-top",pu="padding-right",gi="margin-right";class Ma{constructor(){this._element=document.body}getWidth(){const p=document.documentElement.clientWidth;return Math.abs(window.innerWidth-p)}hide(){const p=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,pu,b=>b+p),this._setElementAttributes(Bm,pu,b=>b+p),this._setElementAttributes(zm,gi,b=>b-p)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,pu),this._resetElementAttributes(Bm,pu),this._resetElementAttributes(zm,gi)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(p,b,N){const $=this.getWidth();this._applyManipulationCallback(p,G=>{if(G!==this._element&&window.innerWidth>G.clientWidth+$)return;this._saveInitialAttribute(G,b);const se=window.getComputedStyle(G).getPropertyValue(b);G.style.setProperty(b,`${N(Number.parseFloat(se))}px`)})}_saveInitialAttribute(p,b){const N=p.style.getPropertyValue(b);N&&Pe.setDataAttribute(p,b,N)}_resetElementAttributes(p,b){this._applyManipulationCallback(p,N=>{const $=Pe.getDataAttribute(N,b);$!==null?(Pe.removeDataAttribute(N,b),N.style.setProperty(b,$)):N.style.removeProperty(b)})}_applyManipulationCallback(p,b){if(d(p))b(p);else for(const N of we.find(p,this._element))b(N)}}const Ci=".bs.modal",Fm=`hide${Ci}`,qm=`hidePrevented${Ci}`,ad=`hidden${Ci}`,gu=`show${Ci}`,L_=`shown${Ci}`,Vo=`resize${Ci}`,od=`click.dismiss${Ci}`,oc=`mousedown.dismiss${Ci}`,ld=`keydown.dismiss${Ci}`,Hm=`click${Ci}.data-api`,Vs="modal-open",La="show",lc="modal-static",$m={backdrop:!0,focus:!0,keyboard:!0},Ua={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ms extends Ve{constructor(p,b){super(p,b),this._dialog=we.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ma,this._addEventListeners()}static get Default(){return $m}static get DefaultType(){return Ua}static get NAME(){return"modal"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||this._isTransitioning||O.trigger(this._element,gu,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Vs),this._adjustDialog(),this._backdrop.show(()=>this._showElement(p)))}hide(){this._isShown&&!this._isTransitioning&&(O.trigger(this._element,Fm).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(La),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){O.off(window,Ci),O.off(this._dialog,Ci),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new id({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new jm({trapElement:this._element})}_showElement(p){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=we.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),V(this._element),this._element.classList.add(La),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,L_,{relatedTarget:p})},this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,ld,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),O.on(window,Vo,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,oc,p=>{O.one(this._element,od,b=>{this._element===p.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Vs),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,ad)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(O.trigger(this._element,qm).defaultPrevented)return;const p=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(lc)||(p||(this._element.style.overflowY="hidden"),this._element.classList.add(lc),this._queueCallback(()=>{this._element.classList.remove(lc),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const p=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),N=b>0;if(N&&!p){const $=F()?"paddingLeft":"paddingRight";this._element.style[$]=`${b}px`}if(!N&&p){const $=F()?"paddingRight":"paddingLeft";this._element.style[$]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(p,b){return this.each(function(){const N=Ms.getOrCreateInstance(this,p);if(typeof p=="string"){if(N[p]===void 0)throw new TypeError(`No method named "${p}"`);N[p](b)}})}}O.on(document,Hm,'[data-bs-toggle="modal"]',function(I){const p=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&I.preventDefault(),O.one(p,gu,N=>{N.defaultPrevented||O.one(p,ad,()=>{g(this)&&this.focus()})});const b=we.findOne(".modal.show");b&&Ms.getInstance(b).hide(),Ms.getOrCreateInstance(p).toggle(this)}),Ai(Ms),Z(Ms);const jr=".bs.offcanvas",cd=".data-api",U_=`load${jr}${cd}`,Gm="show",Km="showing",ud="hiding",hd=".offcanvas.show",dd=`show${jr}`,dr=`shown${jr}`,Qm=`hide${jr}`,xi=`hidePrevented${jr}`,Ni=`hidden${jr}`,Mo=`resize${jr}`,fd=`click${jr}${cd}`,_u=`keydown.dismiss${jr}`,yu={backdrop:!0,keyboard:!0,scroll:!1},md={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class _i extends Ve{constructor(p,b){super(p,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return yu}static get DefaultType(){return md}static get NAME(){return"offcanvas"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||O.trigger(this._element,dd,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ma().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Km),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Gm),this._element.classList.remove(Km),O.trigger(this._element,dr,{relatedTarget:p})},this._element,!0))}hide(){this._isShown&&(O.trigger(this._element,Qm).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ud),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Gm,ud),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ma().reset(),O.trigger(this._element,Ni)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const p=!!this._config.backdrop;return new id({className:"offcanvas-backdrop",isVisible:p,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:p?()=>{this._config.backdrop!=="static"?this.hide():O.trigger(this._element,xi)}:null})}_initializeFocusTrap(){return new jm({trapElement:this._element})}_addEventListeners(){O.on(this._element,_u,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():O.trigger(this._element,xi))})}static jQueryInterface(p){return this.each(function(){const b=_i.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p](this)}})}}O.on(document,fd,'[data-bs-toggle="offcanvas"]',function(I){const p=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),y(this))return;O.one(p,Ni,()=>{g(this)&&this.focus()});const b=we.findOne(hd);b&&b!==p&&_i.getInstance(b).hide(),_i.getOrCreateInstance(p).toggle(this)}),O.on(window,U_,()=>{for(const I of we.find(hd))_i.getOrCreateInstance(I).show()}),O.on(window,Mo,()=>{for(const I of we.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(I).position!=="fixed"&&_i.getOrCreateInstance(I).hide()}),Ai(_i),Z(_i);const pd={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},vu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Lo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,j_=(I,p)=>{const b=I.nodeName.toLowerCase();return p.includes(b)?!vu.has(b)||!!Lo.test(I.nodeValue):p.filter(N=>N instanceof RegExp).some(N=>N.test(b))},Di={allowList:pd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},gd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ls={entry:"(string|element|function|null)",selector:"(string|element)"};class Ym extends Xe{constructor(p){super(),this._config=this._getConfig(p)}static get Default(){return Di}static get DefaultType(){return gd}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(p=>this._resolvePossibleFunction(p)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(p){return this._checkContent(p),this._config.content={...this._config.content,...p},this}toHtml(){const p=document.createElement("div");p.innerHTML=this._maybeSanitize(this._config.template);for(const[$,G]of Object.entries(this._config.content))this._setContent(p,G,$);const b=p.children[0],N=this._resolvePossibleFunction(this._config.extraClass);return N&&b.classList.add(...N.split(" ")),b}_typeCheckConfig(p){super._typeCheckConfig(p),this._checkContent(p.content)}_checkContent(p){for(const[b,N]of Object.entries(p))super._typeCheckConfig({selector:b,entry:N},ls)}_setContent(p,b,N){const $=we.findOne(N,p);$&&((b=this._resolvePossibleFunction(b))?d(b)?this._putElementInTemplate(m(b),$):this._config.html?$.innerHTML=this._maybeSanitize(b):$.textContent=b:$.remove())}_maybeSanitize(p){return this._config.sanitize?function(b,N,$){if(!b.length)return b;if($&&typeof $=="function")return $(b);const G=new window.DOMParser().parseFromString(b,"text/html"),se=[].concat(...G.body.querySelectorAll("*"));for(const ue of se){const _e=ue.nodeName.toLowerCase();if(!Object.keys(N).includes(_e)){ue.remove();continue}const Re=[].concat(...ue.attributes),Ce=[].concat(N["*"]||[],N[_e]||[]);for(const Se of Re)j_(Se,Ce)||ue.removeAttribute(Se.nodeName)}return G.body.innerHTML}(p,this._config.allowList,this._config.sanitizeFn):p}_resolvePossibleFunction(p){return ne(p,[void 0,this])}_putElementInTemplate(p,b){if(this._config.html)return b.innerHTML="",void b.append(p);b.textContent=p.textContent}}const Eu=new Set(["sanitize","allowList","sanitizeFn"]),cs="fade",Uo="show",_d=".tooltip-inner",ja=".modal",Ba="hide.bs.modal",Ls="hover",jo="focus",$i={AUTO:"auto",TOP:"top",RIGHT:F()?"left":"right",BOTTOM:"bottom",LEFT:F()?"right":"left"},Gi={allowList:pd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},za={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class si extends Ve{constructor(p,b){if(Va===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(p,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Gi}static get DefaultType(){return za}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(ja),Ba,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const p=O.trigger(this._element,this.constructor.eventName("show")),b=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(p.defaultPrevented||!b)return;this._disposePopper();const N=this._getTipElement();this._element.setAttribute("aria-describedby",N.getAttribute("id"));const{container:$}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||($.append(N),O.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(N),N.classList.add(Uo),"ontouchstart"in document.documentElement)for(const G of[].concat(...document.body.children))O.on(G,"mouseover",T);this._queueCallback(()=>{O.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!O.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Uo),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))O.off(p,"mouseover",T);this._activeTrigger.click=!1,this._activeTrigger[jo]=!1,this._activeTrigger[Ls]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(p){const b=this._getTemplateFactory(p).toHtml();if(!b)return null;b.classList.remove(cs,Uo),b.classList.add(`bs-${this.constructor.NAME}-auto`);const N=($=>{do $+=Math.floor(1e6*Math.random());while(document.getElementById($));return $})(this.constructor.NAME).toString();return b.setAttribute("id",N),this._isAnimated()&&b.classList.add(cs),b}setContent(p){this._newContent=p,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(p){return this._templateFactory?this._templateFactory.changeContent(p):this._templateFactory=new Ym({...this._config,content:p,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[_d]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(p){return this.constructor.getOrCreateInstance(p.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cs)}_isShown(){return this.tip&&this.tip.classList.contains(Uo)}_createPopper(p){const b=ne(this._config.placement,[this,p,this._element]),N=$i[b.toUpperCase()];return Do(this._element,p,this._getPopperConfig(N))}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(b=>Number.parseInt(b,10)):typeof p=="function"?b=>p(b,this._element):p}_resolvePossibleFunction(p){return ne(p,[this._element,this._element])}_getPopperConfig(p){const b={placement:p,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:N=>{this._getTipElement().setAttribute("data-popper-placement",N.state.placement)}}]};return{...b,...ne(this._config.popperConfig,[void 0,b])}}_setListeners(){const p=this._config.trigger.split(" ");for(const b of p)if(b==="click")O.on(this._element,this.constructor.eventName("click"),this._config.selector,N=>{this._initializeOnDelegatedTarget(N).toggle()});else if(b!=="manual"){const N=b===Ls?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),$=b===Ls?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");O.on(this._element,N,this._config.selector,G=>{const se=this._initializeOnDelegatedTarget(G);se._activeTrigger[G.type==="focusin"?jo:Ls]=!0,se._enter()}),O.on(this._element,$,this._config.selector,G=>{const se=this._initializeOnDelegatedTarget(G);se._activeTrigger[G.type==="focusout"?jo:Ls]=se._element.contains(G.relatedTarget),se._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(ja),Ba,this._hideModalHandler)}_fixTitle(){const p=this._element.getAttribute("title");p&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",p),this._element.setAttribute("data-bs-original-title",p),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(p,b){clearTimeout(this._timeout),this._timeout=setTimeout(p,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(p){const b=Pe.getDataAttributes(this._element);for(const N of Object.keys(b))Eu.has(N)&&delete b[N];return p={...b,...typeof p=="object"&&p?p:{}},p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p.container=p.container===!1?document.body:m(p.container),typeof p.delay=="number"&&(p.delay={show:p.delay,hide:p.delay}),typeof p.title=="number"&&(p.title=p.title.toString()),typeof p.content=="number"&&(p.content=p.content.toString()),p}_getDelegateConfig(){const p={};for(const[b,N]of Object.entries(this._config))this.constructor.Default[b]!==N&&(p[b]=N);return p.selector=!1,p.trigger="manual",p}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(p){return this.each(function(){const b=si.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}}Z(si);const us=".popover-header",Fa=".popover-body",Wm={...si.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yd={...si.DefaultType,content:"(null|string|element|function)"};class Bo extends si{static get Default(){return Wm}static get DefaultType(){return yd}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[us]:this._getTitle(),[Fa]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(p){return this.each(function(){const b=Bo.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}}Z(Bo);const Un=".bs.scrollspy",qt=`activate${Un}`,_t=`click${Un}`,qa=`load${Un}.data-api`,ai="active",cc="[href]",Us=".nav-link",Xm=`${Us}, .nav-item > ${Us}, .list-group-item`,Jm={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},uc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class hs extends Ve{constructor(p,b){super(p,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Jm}static get DefaultType(){return uc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const p of this._observableSections.values())this._observer.observe(p)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(p){return p.target=m(p.target)||document.body,p.rootMargin=p.offset?`${p.offset}px 0px -30%`:p.rootMargin,typeof p.threshold=="string"&&(p.threshold=p.threshold.split(",").map(b=>Number.parseFloat(b))),p}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,_t),O.on(this._config.target,_t,cc,p=>{const b=this._observableSections.get(p.target.hash);if(b){p.preventDefault();const N=this._rootElement||window,$=b.offsetTop-this._element.offsetTop;if(N.scrollTo)return void N.scrollTo({top:$,behavior:"smooth"});N.scrollTop=$}}))}_getNewObserver(){const p={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),p)}_observerCallback(p){const b=se=>this._targetLinks.get(`#${se.target.id}`),N=se=>{this._previousScrollData.visibleEntryTop=se.target.offsetTop,this._process(b(se))},$=(this._rootElement||document.documentElement).scrollTop,G=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const se of p){if(!se.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(se));continue}const ue=se.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(G&&ue){if(N(se),!$)return}else G||ue||N(se)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const p=we.find(cc,this._config.target);for(const b of p){if(!b.hash||y(b))continue;const N=we.findOne(decodeURI(b.hash),this._element);g(N)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,N))}}_process(p){this._activeTarget!==p&&(this._clearActiveClass(this._config.target),this._activeTarget=p,p.classList.add(ai),this._activateParents(p),O.trigger(this._element,qt,{relatedTarget:p}))}_activateParents(p){if(p.classList.contains("dropdown-item"))we.findOne(".dropdown-toggle",p.closest(".dropdown")).classList.add(ai);else for(const b of we.parents(p,".nav, .list-group"))for(const N of we.prev(b,Xm))N.classList.add(ai)}_clearActiveClass(p){p.classList.remove(ai);const b=we.find(`${cc}.${ai}`,p);for(const N of b)N.classList.remove(ai)}static jQueryInterface(p){return this.each(function(){const b=hs.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}})}}O.on(window,qa,()=>{for(const I of we.find('[data-bs-spy="scroll"]'))hs.getOrCreateInstance(I)}),Z(hs);const js=".bs.tab",hc=`hide${js}`,vd=`hidden${js}`,Ha=`show${js}`,ds=`shown${js}`,Bs=`click${js}`,fs=`keydown${js}`,Ed=`load${js}`,bd="ArrowLeft",zo="ArrowRight",bu="ArrowUp",zs="ArrowDown",xn="Home",dc="End",Fs="active",Zm="fade",Td="show",ep=".dropdown-toggle",Jt=`:not(${ep})`,Tu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',$a=`.nav-link${Jt}, .list-group-item${Jt}, [role="tab"]${Jt}, ${Tu}`,fc=`.${Fs}[data-bs-toggle="tab"], .${Fs}[data-bs-toggle="pill"], .${Fs}[data-bs-toggle="list"]`;class ms extends Ve{constructor(p){super(p),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,fs,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const p=this._element;if(this._elemIsActive(p))return;const b=this._getActiveElem(),N=b?O.trigger(b,hc,{relatedTarget:p}):null;O.trigger(p,Ha,{relatedTarget:b}).defaultPrevented||N&&N.defaultPrevented||(this._deactivate(b,p),this._activate(p,b))}_activate(p,b){p&&(p.classList.add(Fs),this._activate(we.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.removeAttribute("tabindex"),p.setAttribute("aria-selected",!0),this._toggleDropDown(p,!0),O.trigger(p,ds,{relatedTarget:b})):p.classList.add(Td)},p,p.classList.contains(Zm)))}_deactivate(p,b){p&&(p.classList.remove(Fs),p.blur(),this._deactivate(we.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.setAttribute("aria-selected",!1),p.setAttribute("tabindex","-1"),this._toggleDropDown(p,!1),O.trigger(p,vd,{relatedTarget:b})):p.classList.remove(Td)},p,p.classList.contains(Zm)))}_keydown(p){if(![bd,zo,bu,zs,xn,dc].includes(p.key))return;p.stopPropagation(),p.preventDefault();const b=this._getChildren().filter($=>!y($));let N;if([xn,dc].includes(p.key))N=b[p.key===xn?0:b.length-1];else{const $=[zo,zs].includes(p.key);N=Ee(b,p.target,$,!0)}N&&(N.focus({preventScroll:!0}),ms.getOrCreateInstance(N).show())}_getChildren(){return we.find($a,this._parent)}_getActiveElem(){return this._getChildren().find(p=>this._elemIsActive(p))||null}_setInitialAttributes(p,b){this._setAttributeIfNotExists(p,"role","tablist");for(const N of b)this._setInitialAttributesOnChild(N)}_setInitialAttributesOnChild(p){p=this._getInnerElement(p);const b=this._elemIsActive(p),N=this._getOuterElement(p);p.setAttribute("aria-selected",b),N!==p&&this._setAttributeIfNotExists(N,"role","presentation"),b||p.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(p,"role","tab"),this._setInitialAttributesOnTargetPanel(p)}_setInitialAttributesOnTargetPanel(p){const b=we.getElementFromSelector(p);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),p.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${p.id}`))}_toggleDropDown(p,b){const N=this._getOuterElement(p);if(!N.classList.contains("dropdown"))return;const $=(G,se)=>{const ue=we.findOne(G,N);ue&&ue.classList.toggle(se,b)};$(ep,Fs),$(".dropdown-menu",Td),N.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(p,b,N){p.hasAttribute(b)||p.setAttribute(b,N)}_elemIsActive(p){return p.classList.contains(Fs)}_getInnerElement(p){return p.matches($a)?p:we.findOne($a,p)}_getOuterElement(p){return p.closest(".nav-item, .list-group-item")||p}static jQueryInterface(p){return this.each(function(){const b=ms.getOrCreateInstance(this);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}})}}O.on(document,Bs,Tu,function(I){["A","AREA"].includes(this.tagName)&&I.preventDefault(),y(this)||ms.getOrCreateInstance(this).show()}),O.on(window,Ed,()=>{for(const I of we.find(fc))ms.getOrCreateInstance(I)}),Z(ms);const Pi=".bs.toast",Fo=`mouseover${Pi}`,B_=`mouseout${Pi}`,tp=`focusin${Pi}`,z_=`focusout${Pi}`,np=`hide${Pi}`,Ga=`hidden${Pi}`,wd=`show${Pi}`,wu=`shown${Pi}`,Ad="hide",qs="show",mc="showing",Au={animation:"boolean",autohide:"boolean",delay:"number"},Id={animation:!0,autohide:!0,delay:5e3};class qo extends Ve{constructor(p,b){super(p,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Id}static get DefaultType(){return Au}static get NAME(){return"toast"}show(){O.trigger(this._element,wd).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ad),V(this._element),this._element.classList.add(qs,mc),this._queueCallback(()=>{this._element.classList.remove(mc),O.trigger(this._element,wu),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(O.trigger(this._element,np).defaultPrevented||(this._element.classList.add(mc),this._queueCallback(()=>{this._element.classList.add(Ad),this._element.classList.remove(mc,qs),O.trigger(this._element,Ga)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qs),super.dispose()}isShown(){return this._element.classList.contains(qs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(p,b){switch(p.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const N=p.relatedTarget;this._element===N||this._element.contains(N)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,Fo,p=>this._onInteraction(p,!0)),O.on(this._element,B_,p=>this._onInteraction(p,!1)),O.on(this._element,tp,p=>this._onInteraction(p,!0)),O.on(this._element,z_,p=>this._onInteraction(p,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(p){return this.each(function(){const b=qo.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p](this)}})}}return Ai(qo),Z(qo),{Alert:tr,Button:Xr,Carousel:ts,Collapse:ln,Dropdown:_n,Modal:Ms,Offcanvas:_i,Popover:Bo,ScrollSpy:hs,Tab:ms,Toast:qo,Tooltip:si}})}(rg)),rg.exports}oM();const lM=["deephermes","devstral","gemma","llama","qwen"];function df(){const i=$g(),e=async()=>{try{await Sv(qE),lM.forEach(t=>{localStorage.removeItem(`chatId_${t}`),console.log(`Cleared chatId_${t} from localStorage`)}),alert("Signed out successfully."),i("/")}catch(t){alert("Error signing out: "+t.message),console.error("Sign-out error:",t)}};return C.jsx("div",{className:"header-sticky-top",children:C.jsx("header",{className:"app-header",children:C.jsxs("div",{className:"header-content-container",children:[C.jsx("div",{className:"header-left-section",children:C.jsx("div",{className:"header-logo-container",children:C.jsx("img",{src:"logo.png",alt:"Logo",className:"header-logo"})})}),C.jsx("div",{className:"header-center-section",children:C.jsx("h4",{children:"JaRo AI"})}),C.jsxs("div",{className:"header-right-section",children:[C.jsx("div",{className:"header-sign-out-placeholder"}),C.jsx("div",{className:"header-sign-out-button-wrapper",children:C.jsx("button",{className:"sign-out-button",onClick:e,children:"Sign Out"})})]})]})})})}function ff(){return C.jsx("div",{className:"sidebar bg-dark collapsed",id:"sidebar",children:C.jsxs("nav",{className:"nav flex-column",children:[C.jsxs(Hr,{className:"nav-link",to:"/deephermes",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-graph-up-arrow"})}),C.jsx("span",{className:"description",children:"Nous: DeepHermes"})]}),C.jsxs(Hr,{className:"nav-link",to:"/devstral",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-plus-lg"})}),C.jsx("span",{className:"description",children:"Mistral: Devstral Small"})]}),C.jsxs(Hr,{className:"nav-link",to:"/gemma",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-envelope"})}),C.jsx("span",{className:"description",children:"Google: Gemma"})]}),C.jsxs(Hr,{className:"nav-link",to:"/llama",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-person"})}),C.jsx("span",{className:"description",children:"Meta: Llama"})]}),C.jsxs(Hr,{className:"nav-link",to:"/qwen",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-ticket"})}),C.jsx("span",{className:"description",children:"Qwen: Qwen3"})]})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,t){this._delegate=e,this.firebase=t,Hf(e,new da("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),wE(this._delegate)))}_getService(e,t=Tl){var n;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((n=a.getComponent())===null||n===void 0?void 0:n.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:t})}_removeServiceInstance(e,t=Tl){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Hf(this._delegate,e)}_addOrOverwriteComponent(e){TS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},hA=new tu("app-compat","Firebase",uM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(i){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:Kr,setLogLevel:RS,onLog:SS,apps:null,SDK_VERSION:Ml,INTERNAL:{registerComponent:d,removeApp:n,useAsService:m,modularAPIs:BO}};t.default=t,Object.defineProperty(t,"apps",{get:c});function n(g){delete e[g]}function a(g){if(g=g||Tl,!V0(e,g))throw hA.create("no-app",{appName:g});return e[g]}a.App=i;function l(g,y={}){const E=Xg(g,y);if(V0(e,E.name))return e[E.name];const T=new i(E,t);return e[E.name]=T,T}function c(){return Object.keys(e).map(g=>e[g])}function d(g){const y=g.name,E=y.replace("-compat","");if(Al(g)&&g.type==="PUBLIC"){const T=(V=a())=>{if(typeof V[E]!="function")throw hA.create("invalid-app-argument",{appName:y});return V[E]()};g.serviceProps!==void 0&&vg(T,g.serviceProps),t[E]=T,i.prototype[E]=function(...V){return this._getService.bind(this,y).apply(this,g.multipleInstances?V:[])}}return g.type==="PUBLIC"?t[E]:null}function m(g,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){const i=hM(cM);i.INTERNAL=Object.assign(Object.assign({},i.INTERNAL),{createFirebaseNamespace:IR,extendNamespace:e,createSubscribe:_S,ErrorFactory:tu,deepExtend:vg});function e(t){vg(i,t)}return i}const dM=IR();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Yg("@firebase/app-compat"),fM="@firebase/app-compat",mM="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(i){Kr(fM,mM,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const i=vE();if(i.firebase!==void 0){dA.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=i.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&dA.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const We=dM;pM();var gM="firebase",_M="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.registerVersion(gM,_M,"app-compat");var fA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vl,SR;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function x(){}x.prototype=S.prototype,P.D=S.prototype,P.prototype=new x,P.prototype.constructor=P,P.C=function(M,B,z){for(var j=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)j[wn-2]=arguments[wn];return S.prototype[B].apply(M,j)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,S,x){x||(x=0);var M=Array(16);if(typeof S=="string")for(var B=0;16>B;++B)M[B]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(B=0;16>B;++B)M[B]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=P.g[0],x=P.g[1],B=P.g[2];var z=P.g[3],j=S+(z^x&(B^z))+M[0]+3614090360&4294967295;S=x+(j<<7&4294967295|j>>>25),j=z+(B^S&(x^B))+M[1]+3905402710&4294967295,z=S+(j<<12&4294967295|j>>>20),j=B+(x^z&(S^x))+M[2]+606105819&4294967295,B=z+(j<<17&4294967295|j>>>15),j=x+(S^B&(z^S))+M[3]+3250441966&4294967295,x=B+(j<<22&4294967295|j>>>10),j=S+(z^x&(B^z))+M[4]+4118548399&4294967295,S=x+(j<<7&4294967295|j>>>25),j=z+(B^S&(x^B))+M[5]+1200080426&4294967295,z=S+(j<<12&4294967295|j>>>20),j=B+(x^z&(S^x))+M[6]+2821735955&4294967295,B=z+(j<<17&4294967295|j>>>15),j=x+(S^B&(z^S))+M[7]+4249261313&4294967295,x=B+(j<<22&4294967295|j>>>10),j=S+(z^x&(B^z))+M[8]+1770035416&4294967295,S=x+(j<<7&4294967295|j>>>25),j=z+(B^S&(x^B))+M[9]+2336552879&4294967295,z=S+(j<<12&4294967295|j>>>20),j=B+(x^z&(S^x))+M[10]+4294925233&4294967295,B=z+(j<<17&4294967295|j>>>15),j=x+(S^B&(z^S))+M[11]+2304563134&4294967295,x=B+(j<<22&4294967295|j>>>10),j=S+(z^x&(B^z))+M[12]+1804603682&4294967295,S=x+(j<<7&4294967295|j>>>25),j=z+(B^S&(x^B))+M[13]+4254626195&4294967295,z=S+(j<<12&4294967295|j>>>20),j=B+(x^z&(S^x))+M[14]+2792965006&4294967295,B=z+(j<<17&4294967295|j>>>15),j=x+(S^B&(z^S))+M[15]+1236535329&4294967295,x=B+(j<<22&4294967295|j>>>10),j=S+(B^z&(x^B))+M[1]+4129170786&4294967295,S=x+(j<<5&4294967295|j>>>27),j=z+(x^B&(S^x))+M[6]+3225465664&4294967295,z=S+(j<<9&4294967295|j>>>23),j=B+(S^x&(z^S))+M[11]+643717713&4294967295,B=z+(j<<14&4294967295|j>>>18),j=x+(z^S&(B^z))+M[0]+3921069994&4294967295,x=B+(j<<20&4294967295|j>>>12),j=S+(B^z&(x^B))+M[5]+3593408605&4294967295,S=x+(j<<5&4294967295|j>>>27),j=z+(x^B&(S^x))+M[10]+38016083&4294967295,z=S+(j<<9&4294967295|j>>>23),j=B+(S^x&(z^S))+M[15]+3634488961&4294967295,B=z+(j<<14&4294967295|j>>>18),j=x+(z^S&(B^z))+M[4]+3889429448&4294967295,x=B+(j<<20&4294967295|j>>>12),j=S+(B^z&(x^B))+M[9]+568446438&4294967295,S=x+(j<<5&4294967295|j>>>27),j=z+(x^B&(S^x))+M[14]+3275163606&4294967295,z=S+(j<<9&4294967295|j>>>23),j=B+(S^x&(z^S))+M[3]+4107603335&4294967295,B=z+(j<<14&4294967295|j>>>18),j=x+(z^S&(B^z))+M[8]+1163531501&4294967295,x=B+(j<<20&4294967295|j>>>12),j=S+(B^z&(x^B))+M[13]+2850285829&4294967295,S=x+(j<<5&4294967295|j>>>27),j=z+(x^B&(S^x))+M[2]+4243563512&4294967295,z=S+(j<<9&4294967295|j>>>23),j=B+(S^x&(z^S))+M[7]+1735328473&4294967295,B=z+(j<<14&4294967295|j>>>18),j=x+(z^S&(B^z))+M[12]+2368359562&4294967295,x=B+(j<<20&4294967295|j>>>12),j=S+(x^B^z)+M[5]+4294588738&4294967295,S=x+(j<<4&4294967295|j>>>28),j=z+(S^x^B)+M[8]+2272392833&4294967295,z=S+(j<<11&4294967295|j>>>21),j=B+(z^S^x)+M[11]+1839030562&4294967295,B=z+(j<<16&4294967295|j>>>16),j=x+(B^z^S)+M[14]+4259657740&4294967295,x=B+(j<<23&4294967295|j>>>9),j=S+(x^B^z)+M[1]+2763975236&4294967295,S=x+(j<<4&4294967295|j>>>28),j=z+(S^x^B)+M[4]+1272893353&4294967295,z=S+(j<<11&4294967295|j>>>21),j=B+(z^S^x)+M[7]+4139469664&4294967295,B=z+(j<<16&4294967295|j>>>16),j=x+(B^z^S)+M[10]+3200236656&4294967295,x=B+(j<<23&4294967295|j>>>9),j=S+(x^B^z)+M[13]+681279174&4294967295,S=x+(j<<4&4294967295|j>>>28),j=z+(S^x^B)+M[0]+3936430074&4294967295,z=S+(j<<11&4294967295|j>>>21),j=B+(z^S^x)+M[3]+3572445317&4294967295,B=z+(j<<16&4294967295|j>>>16),j=x+(B^z^S)+M[6]+76029189&4294967295,x=B+(j<<23&4294967295|j>>>9),j=S+(x^B^z)+M[9]+3654602809&4294967295,S=x+(j<<4&4294967295|j>>>28),j=z+(S^x^B)+M[12]+3873151461&4294967295,z=S+(j<<11&4294967295|j>>>21),j=B+(z^S^x)+M[15]+530742520&4294967295,B=z+(j<<16&4294967295|j>>>16),j=x+(B^z^S)+M[2]+3299628645&4294967295,x=B+(j<<23&4294967295|j>>>9),j=S+(B^(x|~z))+M[0]+4096336452&4294967295,S=x+(j<<6&4294967295|j>>>26),j=z+(x^(S|~B))+M[7]+1126891415&4294967295,z=S+(j<<10&4294967295|j>>>22),j=B+(S^(z|~x))+M[14]+2878612391&4294967295,B=z+(j<<15&4294967295|j>>>17),j=x+(z^(B|~S))+M[5]+4237533241&4294967295,x=B+(j<<21&4294967295|j>>>11),j=S+(B^(x|~z))+M[12]+1700485571&4294967295,S=x+(j<<6&4294967295|j>>>26),j=z+(x^(S|~B))+M[3]+2399980690&4294967295,z=S+(j<<10&4294967295|j>>>22),j=B+(S^(z|~x))+M[10]+4293915773&4294967295,B=z+(j<<15&4294967295|j>>>17),j=x+(z^(B|~S))+M[1]+2240044497&4294967295,x=B+(j<<21&4294967295|j>>>11),j=S+(B^(x|~z))+M[8]+1873313359&4294967295,S=x+(j<<6&4294967295|j>>>26),j=z+(x^(S|~B))+M[15]+4264355552&4294967295,z=S+(j<<10&4294967295|j>>>22),j=B+(S^(z|~x))+M[6]+2734768916&4294967295,B=z+(j<<15&4294967295|j>>>17),j=x+(z^(B|~S))+M[13]+1309151649&4294967295,x=B+(j<<21&4294967295|j>>>11),j=S+(B^(x|~z))+M[4]+4149444226&4294967295,S=x+(j<<6&4294967295|j>>>26),j=z+(x^(S|~B))+M[11]+3174756917&4294967295,z=S+(j<<10&4294967295|j>>>22),j=B+(S^(z|~x))+M[2]+718787259&4294967295,B=z+(j<<15&4294967295|j>>>17),j=x+(z^(B|~S))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(B+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+z&4294967295}n.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var x=S-this.blockSize,M=this.B,B=this.h,z=0;z<S;){if(B==0)for(;z<=x;)a(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<S;)if(M[B++]=P.charCodeAt(z++),B==this.blockSize){a(this,M),B=0;break}}else for(;z<S;)if(M[B++]=P[z++],B==this.blockSize){a(this,M),B=0;break}}this.h=B,this.o+=S},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var x=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=x&255,x/=256;for(this.u(P),P=Array(16),S=x=0;4>S;++S)for(var M=0;32>M;M+=8)P[x++]=this.g[S]>>>M&255;return P};function l(P,S){var x=d;return Object.prototype.hasOwnProperty.call(x,P)?x[P]:x[P]=S(P)}function c(P,S){this.h=S;for(var x=[],M=!0,B=P.length-1;0<=B;B--){var z=P[B]|0;M&&z==S||(x[B]=z,M=!1)}this.g=x}var d={};function m(P){return-128<=P&&128>P?l(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return E;if(0>P)return F(g(-P));for(var S=[],x=1,M=0;P>=x;M++)S[M]=P/x|0,x*=4294967296;return new c(S,0)}function y(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return F(y(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(S,8)),M=E,B=0;B<P.length;B+=8){var z=Math.min(8,P.length-B),j=parseInt(P.substring(B,B+z),S);8>z?(z=g(Math.pow(S,z)),M=M.j(z).add(g(j))):(M=M.j(x),M=M.add(g(j)))}return M}var E=m(0),T=m(1),V=m(16777216);i=c.prototype,i.m=function(){if(H(this))return-F(this).m();for(var P=0,S=1,x=0;x<this.g.length;x++){var M=this.i(x);P+=(0<=M?M:4294967296+M)*S,S*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(L(this))return"0";if(H(this))return"-"+F(this).toString(P);for(var S=g(Math.pow(P,6)),x=this,M="";;){var B=Ee(x,S).g;x=Z(x,B.j(S));var z=((0<x.g.length?x.g[0]:x.h)>>>0).toString(P);if(x=B,L(x))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function L(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function H(P){return P.h==-1}i.l=function(P){return P=Z(this,P),H(P)?-1:L(P)?0:1};function F(P){for(var S=P.g.length,x=[],M=0;M<S;M++)x[M]=~P.g[M];return new c(x,~P.h).add(T)}i.abs=function(){return H(this)?F(this):this},i.add=function(P){for(var S=Math.max(this.g.length,P.g.length),x=[],M=0,B=0;B<=S;B++){var z=M+(this.i(B)&65535)+(P.i(B)&65535),j=(z>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);M=j>>>16,z&=65535,j&=65535,x[B]=j<<16|z}return new c(x,x[x.length-1]&-2147483648?-1:0)};function Z(P,S){return P.add(F(S))}i.j=function(P){if(L(this)||L(P))return E;if(H(this))return H(P)?F(this).j(F(P)):F(F(this).j(P));if(H(P))return F(this.j(F(P)));if(0>this.l(V)&&0>P.l(V))return g(this.m()*P.m());for(var S=this.g.length+P.g.length,x=[],M=0;M<2*S;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<P.g.length;B++){var z=this.i(M)>>>16,j=this.i(M)&65535,wn=P.i(B)>>>16,Bt=P.i(B)&65535;x[2*M+2*B]+=j*Bt,ne(x,2*M+2*B),x[2*M+2*B+1]+=z*Bt,ne(x,2*M+2*B+1),x[2*M+2*B+1]+=j*wn,ne(x,2*M+2*B+1),x[2*M+2*B+2]+=z*wn,ne(x,2*M+2*B+2)}for(M=0;M<S;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=S;M<2*S;M++)x[M]=0;return new c(x,0)};function ne(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function le(P,S){this.g=P,this.h=S}function Ee(P,S){if(L(S))throw Error("division by zero");if(L(P))return new le(E,E);if(H(P))return S=Ee(F(P),S),new le(F(S.g),F(S.h));if(H(S))return S=Ee(P,F(S)),new le(F(S.g),S.h);if(30<P.g.length){if(H(P)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var x=T,M=S;0>=M.l(P);)x=ye(x),M=ye(M);var B=k(x,1),z=k(M,1);for(M=k(M,2),x=k(x,2);!L(M);){var j=z.add(M);0>=j.l(P)&&(B=B.add(x),z=j),M=k(M,1),x=k(x,1)}return S=Z(P,B.j(S)),new le(B,S)}for(B=E;0<=P.l(S);){for(x=Math.max(1,Math.floor(P.m()/S.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=g(x),j=z.j(S);H(j)||0<j.l(P);)x-=M,z=g(x),j=z.j(S);L(z)&&(z=T),B=B.add(z),P=Z(P,j)}return new le(B,P)}i.A=function(P){return Ee(this,P).h},i.and=function(P){for(var S=Math.max(this.g.length,P.g.length),x=[],M=0;M<S;M++)x[M]=this.i(M)&P.i(M);return new c(x,this.h&P.h)},i.or=function(P){for(var S=Math.max(this.g.length,P.g.length),x=[],M=0;M<S;M++)x[M]=this.i(M)|P.i(M);return new c(x,this.h|P.h)},i.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),x=[],M=0;M<S;M++)x[M]=this.i(M)^P.i(M);return new c(x,this.h^P.h)};function ye(P){for(var S=P.g.length+1,x=[],M=0;M<S;M++)x[M]=P.i(M)<<1|P.i(M-1)>>>31;return new c(x,P.h)}function k(P,S){var x=S>>5;S%=32;for(var M=P.g.length-x,B=[],z=0;z<M;z++)B[z]=0<S?P.i(z+x)>>>S|P.i(z+x+1)<<32-S:P.i(z+x);return new c(B,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,SR=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,vl=c}).apply(typeof fA<"u"?fA:typeof self<"u"?self:typeof window<"u"?window:{});var Gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RR,wf,CR,sg,xv,xR,NR,DR;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gp=="object"&&Gp];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var n=t(this);function a(h,v){if(v)e:{var w=n;h=h.split(".");for(var D=0;D<h.length-1;D++){var Y=h[D];if(!(Y in w))break e;w=w[Y]}h=h[h.length-1],D=w[h],v=v(D),v!=D&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var w=0,D=!1,Y={next:function(){if(!D&&w<h.length){var ie=w++;return{value:v(ie,h[ie]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,w){return h.call.apply(h.bind,arguments)}function E(h,v,w){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,D),h.apply(v,Y)}}return function(){return h.apply(v,arguments)}}function T(h,v,w){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,T.apply(null,arguments)}function V(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var D=w.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function L(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(D,Y,ie){for(var ve=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ve[ct-2]=arguments[ct];return v.prototype[Y].apply(D,ve)}}function H(h){const v=h.length;if(0<v){const w=Array(v);for(let D=0;D<v;D++)w[D]=h[D];return w}return[]}function F(h,v){for(let w=1;w<arguments.length;w++){const D=arguments[w];if(m(D)){const Y=h.length||0,ie=D.length||0;h.length=Y+ie;for(let ve=0;ve<ie;ve++)h[Y+ve]=D[ve]}else h.push(D)}}class Z{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function ne(h){return/^[\s\xa0]*$/.test(h)}function le(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Ee(h){return Ee[" "](h),h}Ee[" "]=function(){};var ye=le().indexOf("Gecko")!=-1&&!(le().toLowerCase().indexOf("webkit")!=-1&&le().indexOf("Edge")==-1)&&!(le().indexOf("Trident")!=-1||le().indexOf("MSIE")!=-1)&&le().indexOf("Edge")==-1;function k(h,v,w){for(const D in h)v.call(w,h[D],D,h)}function P(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function S(h){const v={};for(const w in h)v[w]=h[w];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let w,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(w in D)h[w]=D[w];for(let ie=0;ie<x.length;ie++)w=x[ie],Object.prototype.hasOwnProperty.call(D,w)&&(h[w]=D[w])}}function B(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function z(h){d.setTimeout(()=>{throw h},0)}function j(){var h=pt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class wn{constructor(){this.h=this.g=null}add(v,w){const D=Bt.get();D.set(v,w),this.h?this.h.next=D:this.g=D,this.h=D}}var Bt=new Z(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Me=!1,pt=new wn,O=()=>{const h=d.Promise.resolve(void 0);be=()=>{h.then(de)}};var de=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(w){z(w)}var v=Bt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}Me=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};d.addEventListener("test",w,v),d.removeEventListener("test",w,v)}catch{}return h}();function Xe(h,v){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ye){e:{try{Ee(v.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ve[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Xe.aa.h.call(this)}}L(Xe,ge);var Ve={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var sn="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ai(h,v,w,D,Y){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!D,this.ha=Y,this.key=++we,this.da=this.fa=!1}function Yr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Wr(h){this.src=h,this.g={},this.h=0}Wr.prototype.add=function(h,v,w,D,Y){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var ve=tr(h,v,D,Y);return-1<ve?(v=h[ve],w||(v.fa=!1)):(v=new Ai(v,this.src,ie,!!D,Y),v.fa=w,h.push(v)),v};function ya(h,v){var w=v.type;if(w in h.g){var D=h.g[w],Y=Array.prototype.indexOf.call(D,v,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(D,Y,1),ie&&(Yr(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function tr(h,v,w,D){for(var Y=0;Y<h.length;++Y){var ie=h[Y];if(!ie.da&&ie.listener==v&&ie.capture==!!w&&ie.ha==D)return Y}return-1}var ws="closure_lm_"+(1e6*Math.random()|0),Xr={};function Jr(h,v,w,D,Y){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)Jr(h,v[ie],w,D,Y);return null}return w=nr(w),h&&h[sn]?h.K(v,w,g(D)?!!D.capture:!1,Y):Ui(h,v,w,!1,D,Y)}function Ui(h,v,w,D,Y,ie){if(!v)throw Error("Invalid event type");var ve=g(Y)?!!Y.capture:!!Y,ct=Eo(h);if(ct||(h[ws]=ct=new Wr(h)),w=ct.add(v,w,D,ve,ie),w.proxy)return w;if(D=Zh(),w.proxy=D,D.src=h,D.listener=w,h.addEventListener)Pe||(Y=ve),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),D,Y);else if(h.attachEvent)h.attachEvent(va(v.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Zh(){function h(w){return v.call(h.src,h.listener,w)}const v=ed;return h}function ql(h,v,w,D,Y){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)ql(h,v[ie],w,D,Y);else D=g(D)?!!D.capture:!!D,w=nr(w),h&&h[sn]?(h=h.i,v=String(v).toString(),v in h.g&&(ie=h.g[v],w=tr(ie,w,D,Y),-1<w&&(Yr(ie[w]),Array.prototype.splice.call(ie,w,1),ie.length==0&&(delete h.g[v],h.h--)))):h&&(h=Eo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=tr(v,w,D,Y)),(w=-1<h?v[h]:null)&&vo(w))}function vo(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[sn])ya(v.i,h);else{var w=h.type,D=h.proxy;v.removeEventListener?v.removeEventListener(w,D,h.capture):v.detachEvent?v.detachEvent(va(w),D):v.addListener&&v.removeListener&&v.removeListener(D),(w=Eo(v))?(ya(w,h),w.h==0&&(w.src=null,v[ws]=null)):Yr(h)}}}function va(h){return h in Xr?Xr[h]:Xr[h]="on"+h}function ed(h,v){if(h.da)h=!0;else{v=new Xe(v,this);var w=h.listener,D=h.ha||h.src;h.fa&&vo(h),h=w.call(D,v)}return h}function Eo(h){return h=h[ws],h instanceof Wr?h:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function nr(h){return typeof h=="function"?h:(h[As]||(h[As]=function(v){return h.handleEvent(v)}),h[As])}function zt(){Ae.call(this),this.i=new Wr(this),this.M=this,this.F=null}L(zt,Ae),zt.prototype[sn]=!0,zt.prototype.removeEventListener=function(h,v,w,D){ql(this,h,v,w,D)};function wt(h,v){var w,D=h.F;if(D)for(w=[];D;D=D.F)w.push(D);if(h=h.M,D=v.type||v,typeof v=="string")v=new ge(v,h);else if(v instanceof ge)v.target=v.target||h;else{var Y=v;v=new ge(D,h),M(v,Y)}if(Y=!0,w)for(var ie=w.length-1;0<=ie;ie--){var ve=v.g=w[ie];Y=Ii(ve,D,!0,v)&&Y}if(ve=v.g=h,Y=Ii(ve,D,!0,v)&&Y,Y=Ii(ve,D,!1,v)&&Y,w)for(ie=0;ie<w.length;ie++)ve=v.g=w[ie],Y=Ii(ve,D,!1,v)&&Y}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],D=0;D<w.length;D++)Yr(w[D]);delete h.g[v],h.h--}}this.F=null},zt.prototype.K=function(h,v,w,D){return this.i.add(String(h),v,!1,w,D)},zt.prototype.L=function(h,v,w,D){return this.i.add(String(h),v,!0,w,D)};function Ii(h,v,w,D){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,ie=0;ie<v.length;++ie){var ve=v[ie];if(ve&&!ve.da&&ve.capture==w){var ct=ve.listener,pn=ve.ha||ve.src;ve.fa&&ya(h.i,ve),Y=ct.call(pn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function an(h,v,w){if(typeof h=="function")w&&(h=T(h,w));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Zr(h){h.g=an(()=>{h.g=null,h.i&&(h.i=!1,Zr(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Is extends Ae{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(h){Ae.call(this),this.h=h,this.g={}}L(Tr,Ae);var Ea=[];function es(h){k(h.g,function(v,w){this.g.hasOwnProperty(w)&&vo(v)},h),h.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),es(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,bo=d.JSON.parse,ba=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Hl(){}Hl.prototype.h=null;function $l(h){return h.h||(h.h=h.i())}function Gl(){}var wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){ge.call(this,"d")}L(ji,ge);function To(){ge.call(this,"c")}L(To,ge);var rr={},Kl=null;function Ss(){return Kl=Kl||new zt}rr.La="serverreachability";function wo(h){ge.call(this,rr.La,h)}L(wo,ge);function Rs(h){const v=Ss();wt(v,new wo(v))}rr.STAT_EVENT="statevent";function ts(h,v){ge.call(this,rr.STAT_EVENT,h),this.stat=v}L(ts,ge);function It(h){const v=Ss();wt(v,new ts(v,h))}rr.Ma="timingevent";function fn(h,v){ge.call(this,rr.Ma,h),this.size=v}L(fn,ge);function on(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function Ql(h,v,w,D,Y,ie){h.info(function(){if(h.g)if(ie)for(var ve="",ct=ie.split("&"),pn=0;pn<ct.length;pn++){var ut=ct[pn].split("=");if(1<ut.length){var Rn=ut[0];ut=ut[1];var gn=Rn.split("_");ve=2<=gn.length&&gn[1]=="type"?ve+(Rn+"="+ut+"&"):ve+(Rn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+v+`
`+w+`
`+ve})}function td(h,v,w,D,Y,ie,ve){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+v+`
`+w+`
`+ie+" "+ve})}function Ar(h,v,w,D){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ir(h,w)+(D?" "+D:"")})}function ns(h,v){h.info(function(){return"TIMEOUT: "+v})}Bi.prototype.info=function(){};function Ir(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var D=w[h];if(!(2>D.length)){var Y=D[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return ir(w)}catch{return v}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Rr(){}L(Rr,Hl),Rr.prototype.g=function(){return new XMLHttpRequest},Rr.prototype.i=function(){return{}},Sr=new Rr;function ln(h,v,w,D){this.j=h,this.i=v,this.l=w,this.R=D||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var kn={},An={};function kt(h,v,w){h.L=1,h.v=Pr(Mt(v)),h.m=w,h.P=!0,zi(h,null)}function zi(h,v){h.F=Date.now(),Fi(h),h.A=Mt(h.v);var w=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),Ra(w.i,"t",D),h.C=0,w=h.j.J,h.h=new rt,h.g=du(h.j,w?v:null,!h.m),0<h.O&&(h.M=new Is(T(h.Y,h,h.g),h.O)),v=h.U,w=h.g,D=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ea[0]=Y.toString()),Y=Ea);for(var ie=0;ie<Y.length;ie++){var ve=Jr(w,Y[ie],D||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Rs(),Ql(h.i,h.u,h.A,h.l,h.R,h.m)}ln.prototype.ca=function(h){h=h.target;const v=this.M;v&&Ln(h)==3?v.j():this.Y(h)},ln.prototype.Y=function(h){try{if(h==this.g)e:{const gn=Ln(this.g);var v=this.g.Ba();const _n=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||gn!=4||v==7||(v==8||0>=_n?Rs(3):Rs(2)),xr(this);var w=this.g.Z();this.X=w;t:if(is(this)){var D=cu(this.g);h="";var Y=D.length,ie=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ti(this);var ve="";break t}this.h.i=new d.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,h+=this.h.i.decode(D[v],{stream:!(ie&&v==Y-1)});D.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,td(this.i,this.u,this.A,this.l,this.R,gn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,pn=this.g;if((ct=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(ct)){var ut=ct;break t}}ut=null}if(w=ut)Ar(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,w);else{this.o=!1,this.s=3,It(12),In(this),ti(this);break e}}if(this.P){w=!0;let Cn;for(;!this.J&&this.C<ve.length;)if(Cn=Cr(this,ve),Cn==An){gn==4&&(this.s=4,It(14),w=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==kn){this.s=4,It(15),Ar(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else Ar(this.i,this.l,Cn,null),rs(this,Cn);if(is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||ve.length!=0||this.h.h||(this.s=1,It(16),w=!1),this.o=this.o&&w,!w)Ar(this.i,this.l,ve,"[Invalid Chunked Response]"),In(this),ti(this);else if(0<ve.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),ka(Rn),Rn.M=!0,It(11))}}else Ar(this.i,this.l,ve,null),rs(this,ve);gn==4&&In(this),this.o&&!this.J&&(gn==4?ic(this.j,this):(this.o=!1,Fi(this)))}else uu(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),In(this),ti(this)}}}catch{}finally{}};function is(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Cr(h,v){var w=h.C,D=v.indexOf(`
`,w);return D==-1?An:(w=Number(v.substring(w,D)),isNaN(w)?kn:(D+=1,D+w>v.length?An:(v=v.slice(D,D+w),h.C=D+w,v)))}ln.prototype.cancel=function(){this.J=!0,In(this)};function Fi(h){h.S=Date.now()+h.I,Yl(h,h.I)}function Yl(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=on(T(h.ba,h),v)}function xr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ln.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ns(this.i,this.A),this.L!=2&&(Rs(),It(17)),In(this),this.s=2,ti(this)):Yl(this,this.S-h)};function ti(h){h.j.G==0||h.J||ic(h.j,h)}function In(h){xr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,es(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function rs(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||Io(w.h,h))){if(!h.K&&Io(w.h,h)&&w.G==3){try{var D=w.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Va(w),Da(w);else break e;nc(w),It(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=on(T(w.Za,w),6e3));if(1>=wa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ur(w,11)}else if((h.K||w.g==h)&&Va(w),!ne(v))for(Y=w.Da.g.parse(v),v=0;v<Y.length;v++){let ut=Y[v];if(w.T=ut[0],ut=ut[1],w.G==2)if(ut[0]=="c"){w.K=ut[1],w.ia=ut[2];const Rn=ut[3];Rn!=null&&(w.la=Rn,w.j.info("VER="+w.la));const gn=ut[4];gn!=null&&(w.Aa=gn,w.j.info("SVER="+w.Aa));const _n=ut[5];_n!=null&&typeof _n=="number"&&0<_n&&(D=1.5*_n,w.L=D,w.j.info("backChannelRequestTimeoutMs_="+D)),D=w;const Cn=h.g;if(Cn){const hr=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var ie=D.h;ie.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Aa(ie,ie.h),ie.h=null))}if(D.D){const Oo=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(D.ya=Oo,lt(D.I,D.D,Oo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),D=w;var ve=h;if(D.qa=rc(D,D.J?D.ia:null,D.W),ve.K){Hn(D.h,ve);var ct=ve,pn=D.L;pn&&(ct.I=pn),ct.B&&(xr(ct),Fi(ct)),D.g=ve}else Oa(D);0<w.i.length&&Pa(w)}else ut[0]!="stop"&&ut[0]!="close"||ur(w,7);else w.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?ur(w,7):xo(w):ut[0]!="noop"&&w.l&&w.l.ta(ut),w.v=0)}}Rs(4)}catch{}}var Ao=class{constructor(h,v){this.g=h,this.map=v}};function Nr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wa(h){return h.h?1:h.g?h.g.size:0}function Io(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Aa(h,v){h.g?h.g.add(v):h.h=v}function Hn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Nr.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function So(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return H(h.i)}function ou(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],w=h.length,D=0;D<w;D++)v.push(h[D]);return v}v=[],w=0;for(D in h)v[w++]=h[D];return v}function Ia(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const D in h)v[w++]=D;return v}}}function Ro(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=Ia(h),D=ou(h),Y=D.length,ie=0;ie<Y;ie++)v.call(void 0,D[ie],w&&w[ie],h)}var $n=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ni(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var D=h[w].indexOf("="),Y=null;if(0<=D){var ie=h[w].substring(0,D);Y=h[w].substring(D+1)}else ie=h[w];v(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Dt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Dt){this.h=h.h,ss(this,h.j),this.o=h.o,this.g=h.g,Dr(this,h.s),this.l=h.l;var v=h.i,w=new Gn;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),Sn(this,w),this.m=h.m}else h&&(v=String(h).match($n))?(this.h=!1,ss(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),Dr(this,v[4]),this.l=Vn(v[5]||"",!0),Sn(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}Dt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(as(v,Or,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(as(v,Or,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(as(w,w.charAt(0)=="/"?lu:Sa,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",as(w,Co)),h.join("")};function Mt(h){return new Dt(h)}function ss(h,v,w){h.j=w?Vn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Dr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Sn(h,v,w){v instanceof Gn?(h.i=v,Xl(h.i,h.h)):(w||(v=as(v,ar)),h.i=new Gn(v,h.h))}function lt(h,v,w){h.i.set(v,w)}function Pr(h){return lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function as(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,Wl),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Wl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Or=/[#\/\?@]/g,Sa=/[#\?:]/g,lu=/[#\?]/g,ar=/[#\?@]/g,Co=/#/g;function Gn(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ii(h){h.g||(h.g=new Map,h.h=0,h.i&&ni(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}i=Gn.prototype,i.add=function(h,v){ii(this),this.i=null,h=pi(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function kr(h,v){ii(h),v=pi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Si(h,v){return ii(h),v=pi(h,v),h.g.has(v)}i.forEach=function(h,v){ii(this),this.g.forEach(function(w,D){w.forEach(function(Y){h.call(v,Y,D,this)},this)},this)},i.na=function(){ii(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let D=0;D<v.length;D++){const Y=h[D];for(let ie=0;ie<Y.length;ie++)w.push(v[D])}return w},i.V=function(h){ii(this);let v=[];if(typeof h=="string")Si(this,h)&&(v=v.concat(this.g.get(pi(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},i.set=function(h,v){return ii(this),this.i=null,h=pi(this,h),Si(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ra(h,v,w){kr(h,v),0<w.length&&(h.i=null,h.g.set(pi(h,v),H(w)),h.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var D=v[w];const ie=encodeURIComponent(String(D)),ve=this.V(D);for(D=0;D<ve.length;D++){var Y=ie;ve[D]!==""&&(Y+="="+encodeURIComponent(String(ve[D]))),h.push(Y)}}return this.i=h.join("&")};function pi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Xl(h,v){v&&!h.j&&(ii(h),h.i=null,h.g.forEach(function(w,D){var Y=D.toLowerCase();D!=Y&&(kr(this,D),Ra(this,Y,w))},h)),h.j=v}function xs(h,v){const w=new Bi;if(d.Image){const D=new Image;D.onload=V(Mn,w,"TestLoadImage: loaded",!0,v,D),D.onerror=V(Mn,w,"TestLoadImage: error",!1,v,D),D.onabort=V(Mn,w,"TestLoadImage: abort",!1,v,D),D.ontimeout=V(Mn,w,"TestLoadImage: timeout",!1,v,D),d.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else v(!1)}function qi(h,v){const w=new Bi,D=new AbortController,Y=setTimeout(()=>{D.abort(),Mn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:D.signal}).then(ie=>{clearTimeout(Y),ie.ok?Mn(w,"TestPingServer: ok",!0,v):Mn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Mn(w,"TestPingServer: error",!1,v)})}function Mn(h,v,w,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(w)}catch{}}function Ca(){this.g=new ba}function or(h,v,w){const D=w||"";try{Ro(h,function(Y,ie){let ve=Y;g(Y)&&(ve=ir(Y)),v.push(D+ie+"="+encodeURIComponent(ve))})}catch(Y){throw v.push(D+"type="+encodeURIComponent("_badmap")),Y}}function Vr(h){this.l=h.Ub||null,this.j=h.eb||!1}L(Vr,Hl),Vr.prototype.g=function(){return new Hi(this.l,this.j)},Vr.prototype.i=function(h){return function(){return h}}({});function Hi(h,v){zt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Hi,zt),i=Hi.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ri(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xa(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xa(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Mr(this):Ri(this),this.readyState==3&&xa(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},i.Qa=function(h){this.g&&(this.response=h,Mr(this))},i.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ri(h)}i.setRequestHeader=function(h,v){this.u.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jl(h){let v="";return k(h,function(w,D){v+=D,v+=":",v+=w,v+=`\r
`}),v}function mn(h,v,w){e:{for(D in w){var D=!1;break e}D=!0}D||(w=Jl(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):lt(h,v,w))}function gt(h){zt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(gt,zt);var Ns=/^https?$/i,os=["POST","PUT"];i=gt.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,v,w,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?$l(this.o):$l(Sr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ie){Zl(this,ie);return}if(h=w||"",w=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)w.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ie of D.keys())w.set(ie,D.get(ie));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(w.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(os,v,void 0))||D||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of w)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ps(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){Zl(this,ie)}};function Zl(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Lr(h),lr(h)}function Lr(h){h.A||(h.A=!0,wt(h,"complete"),wt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,wt(this,"complete"),wt(this,"abort"),lr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ds(this):this.bb())},i.bb=function(){Ds(this)};function Ds(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Ln(h)!=4||h.Z()!=2)){if(h.u&&Ln(h)==4)an(h.Ea,0,h);else if(wt(h,"readystatechange"),Ln(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var D;if(D=ve===0){var Y=String(h.D).match($n)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),D=!Ns.test(Y?Y.toLowerCase():"")}w=D}if(w)wt(h,"complete"),wt(h,"success");else{h.m=6;try{var ie=2<Ln(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",Lr(h)}}finally{lr(h)}}}}function lr(h,v){if(h.g){Ps(h);const w=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||wt(h,"ready");try{w.onreadystatechange=D}catch{}}}function Ps(h){h.I&&(d.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function Ln(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),bo(v)}};function cu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function uu(h){const v={};h=(h.g&&2<=Ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(ne(h[D]))continue;var w=B(h[D]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ie=v[Y]||[];v[Y]=ie,ie.push(w)}P(v,function(D){return D.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function Na(h){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,h),this.cb=Os("retryDelaySeedMs",1e4,h),this.Wa=Os("forwardChannelMaxRetries",2,h),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(h&&h.concurrentRequestLimit),this.Da=new Ca,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Na.prototype,i.la=8,i.G=1,i.connect=function(h,v,w,D){It(0),this.W=h,this.H=v||{},w&&D!==void 0&&(this.H.OSID=w,this.H.OAID=D),this.F=this.X,this.I=rc(this,null,this.W),Pa(this)};function xo(h){if(No(h),h.G==3){var v=h.U++,w=Mt(h.I);if(lt(w,"SID",h.K),lt(w,"RID",v),lt(w,"TYPE","terminate"),ks(h,w),v=new ln(h,h.j,v),v.L=2,v.v=Pr(Mt(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=v.v,w=!0),w||(v.g=du(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Fi(v)}hu(h)}function Da(h){h.g&&(ka(h),h.g.cancel(),h.g=null)}function No(h){Da(h),h.u&&(d.clearTimeout(h.u),h.u=null),Va(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Pa(h){if(!Ta(h.h)&&!h.s){h.s=!0;var v=h.Ga;be||O(),Me||(be(),Me=!0),pt.add(v,h),h.B=0}}function nd(h,v){return wa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=on(T(h.Ga,h,v),cr(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new ln(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=S(ie),M(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var D=this.i[w];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=tc(this,Y,v),w=Mt(this.I),lt(w,"RID",h),lt(w,"CVER",22),this.D&&lt(w,"X-HTTP-Session-Id",this.D),ks(this,w),ie&&(this.O?v="headers="+encodeURIComponent(String(Jl(ie)))+"&"+v:this.m&&mn(w,this.m,ie)),Aa(this.h,Y),this.Ua&&lt(w,"TYPE","init"),this.P?(lt(w,"$req",v),lt(w,"SID","null"),Y.T=!0,kt(Y,w,null)):kt(Y,w,v),this.G=2}}else this.G==3&&(h?ec(this,h):this.i.length==0||Ta(this.h)||ec(this))};function ec(h,v){var w;v?w=v.l:w=h.U++;const D=Mt(h.I);lt(D,"SID",h.K),lt(D,"RID",w),lt(D,"AID",h.T),ks(h,D),h.m&&h.o&&mn(D,h.m,h.o),w=new ln(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=tc(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Aa(h.h,w),kt(w,D,v)}function ks(h,v){h.H&&k(h.H,function(w,D){lt(v,D,w)}),h.l&&Ro({},function(w,D){lt(v,D,w)})}function tc(h,v,w){w=Math.min(h.i.length,w);var D=h.l?T(h.l.Na,h.l,h):null;e:{var Y=h.i;let ie=-1;for(;;){const ve=["count="+w];ie==-1?0<w?(ie=Y[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let ct=!0;for(let pn=0;pn<w;pn++){let ut=Y[pn].g;const Rn=Y[pn].map;if(ut-=ie,0>ut)ie=Math.max(0,Y[pn].g-100),ct=!1;else try{or(Rn,ve,"req"+ut+"_")}catch{D&&D(Rn)}}if(ct){D=ve.join("&");break e}}}return h=h.i.splice(0,w),v.D=h,D}function Oa(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;be||O(),Me||(be(),Me=!0),pt.add(v,h),h.v=0}}function nc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=on(T(h.Fa,h),cr(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Do(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=on(T(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Da(this),Do(this))};function ka(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Do(h){h.g=new ln(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Mt(h.qa);lt(v,"RID","rpc"),lt(v,"SID",h.K),lt(v,"AID",h.T),lt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&lt(v,"TO",h.ja),lt(v,"TYPE","xmlhttp"),ks(h,v),h.m&&h.o&&mn(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Pr(Mt(v)),w.m=null,w.P=!0,zi(w,h)}i.Za=function(){this.C!=null&&(this.C=null,Da(this),nc(this),It(19))};function Va(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function ic(h,v){var w=null;if(h.g==v){Va(h),ka(h),h.g=null;var D=2}else if(Io(h.h,v))w=v.D,Hn(h.h,v),D=1;else return;if(h.G!=0){if(v.o)if(D==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var Y=h.B;D=Ss(),wt(D,new fn(D,w)),Pa(h)}else Oa(h);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(D==1&&nd(h,v)||D==2&&nc(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),Y){case 1:ur(h,5);break;case 4:ur(h,10);break;case 3:ur(h,6);break;default:ur(h,2)}}}function cr(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function ur(h,v){if(h.j.info("Error code "+v),v==2){var w=T(h.fb,h),D=h.Xa;const Y=!D;D=new Dt(D||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ss(D,"https"),Pr(D),Y?xs(D.toString(),w):qi(D.toString(),w)}else It(2);h.G=0,h.l&&h.l.sa(v),hu(h),No(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function hu(h){if(h.G=0,h.ka=[],h.l){const v=So(h.h);(v.length!=0||h.i.length!=0)&&(F(h.ka,v),F(h.ka,h.i),h.h.i.length=0,H(h.i),h.i.length=0),h.l.ra()}}function rc(h,v,w){var D=w instanceof Dt?Mt(w):new Dt(w);if(D.g!="")v&&(D.g=v+"."+D.g),Dr(D,D.s);else{var Y=d.location;D=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new Dt(null);D&&ss(ie,D),v&&(ie.g=v),Y&&Dr(ie,Y),w&&(ie.l=w),D=ie}return w=h.D,v=h.ya,w&&v&&lt(D,w,v),lt(D,"VER",h.la),ks(h,D),D}function du(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new gt(new Vr({eb:w})):new gt(h.pa),v.Ha(h.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}i=fu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Po(){}Po.prototype.g=function(h,v){return new ri(h,v)};function ri(h,v){zt.call(this),this.g=new Na(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!ne(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!ne(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ur(this)}L(ri,zt),ri.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ri.prototype.close=function(){xo(this.g)},ri.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=ir(h),h=w);v.i.push(new Ao(v.Ya++,h)),v.G==3&&Pa(v)},ri.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,ri.aa.N.call(this)};function sc(h){ji.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}L(sc,ji);function ac(){To.call(this),this.status=1}L(ac,To);function Ur(h){this.g=h}L(Ur,fu),Ur.prototype.ua=function(){wt(this.g,"a")},Ur.prototype.ta=function(h){wt(this.g,new sc(h))},Ur.prototype.sa=function(h){wt(this.g,new ac)},Ur.prototype.ra=function(){wt(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,ri.prototype.send=ri.prototype.o,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,DR=function(){return new Po},NR=function(){return Ss()},xR=rr,xv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,sg=Cs,sr.COMPLETE="complete",CR=sr,Gl.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",zt.prototype.listen=zt.prototype.K,wf=Gl,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,RR=gt}).apply(typeof Gp<"u"?Gp:typeof self<"u"?self:typeof window<"u"?window:{});const mA="@firebase/firestore",pA="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new Yg("@firebase/firestore");function th(){return Sl.logLevel}function yM(i){Sl.setLogLevel(i)}function me(i,...e){if(Sl.logLevel<=ot.DEBUG){const t=e.map(HE);Sl.debug(`Firestore (${$h}): ${i}`,...t)}}function En(i,...e){if(Sl.logLevel<=ot.ERROR){const t=e.map(HE);Sl.error(`Firestore (${$h}): ${i}`,...t)}}function ma(i,...e){if(Sl.logLevel<=ot.WARN){const t=e.map(HE);Sl.warn(`Firestore (${$h}): ${i}`,...t)}}function HE(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,PR(i,n,t)}function PR(i,e,t){let n=`FIRESTORE (${$h}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw En(n),new Error(n)}function Oe(i,e,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,i||PR(e,a,n)}function vM(i,e){i||xe(57014,e)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jn.UNAUTHENTICATED))}shutdown(){}}class bM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TM{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Oe(this.o===void 0,42304);let n=this.i;const a=m=>this.i!==n?(n=this.i,t(m)):Promise.resolve();let l=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new mi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new mi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Oe(typeof n.accessToken=="string",31837,{l:n}),new OR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class wM{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AM{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new wM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Oe(this.o===void 0,3512);const n=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>n(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=SM(40);for(let l=0;l<a.length;++l)n.length<20&&a[l]<t&&(n+=e.charAt(a[l]%62))}return n}}function Ge(i,e){return i<e?-1:i>e?1:0}function Nv(i,e){let t=0;for(;t<i.length&&t<e.length;){const n=i.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return Ge(n,a);{const l=$E(),c=RM(l.encode(_A(i,t)),l.encode(_A(e,t)));return c!==0?c:Ge(n,a)}}t+=n>65535?2:1}return Ge(i.length,e.length)}function _A(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function RM(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ge(i[t],e[t]);return Ge(i.length,e.length)}function yh(i,e,t){return i.length===e.length&&i.every((n,a)=>t(n,e[a]))}function VR(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=-62135596800,vA=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*vA);return new Xt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yA)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vA}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Xt(0,0))}static max(){return new ke(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="__name__";class ta{constructor(e,t,n){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&xe(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ta.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ta?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const l=ta.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ge(e.length,t.length)}static compareSegments(e,t){const n=ta.isNumericId(e),a=ta.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?ta.extractNumericId(e).compare(ta.extractNumericId(t)):Nv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vl.fromString(e.substring(4,e.length-2))}}class ht extends ta{construct(e,t,n){return new ht(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const CM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends ta{construct(e,t,n){return new Qt(e,t,n)}static isValidIdentifier(e){return CM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EA}static keyField(){return new Qt([EA])}static fromServerFormat(e){const t=[];let n="",a=0;const l=()=>{if(n.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(n+=d,a++):(l(),a++)}if(l(),c)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ht.fromString(e))}static fromName(e){return new Te(ht.fromString(e).popFirst(5))}static empty(){return new Te(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=-1;class Rg{constructor(e,t,n,a){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=a}}function Dv(i){return i.fields.find(e=>e.kind===2)}function Nc(i){return i.fields.filter(e=>e.kind!==2)}Rg.UNKNOWN_ID=-1;class ag{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yf(0,br.min())}}function MR(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(n===1e9?new Xt(t+1,0):new Xt(t,n));return new br(a,Te.empty(),e)}function LR(i){return new br(i.readTime,i.key,vh)}class br{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new br(ke.min(),Te.empty(),vh)}static max(){return new br(ke.max(),Te.empty(),vh)}}function GE(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==UR)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((n,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,n)=>{t(e)})}static reject(e){return new W((t,n)=>{n(e)})}static waitFor(e){return new W((t,n)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>n(m))}),c=!0,l===a&&t()})}static or(e){let t=W.resolve(!1);for(const n of e)t=t.next(a=>a?W.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,l)=>{n.push(t.call(this,a,l))}),this.waitFor(n)}static mapArray(e,t){return new W((n,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(y=>{c[g]=y,++d,d===l&&n(c)},y=>a(y))}})}static doWhile(e,t){return new W((n,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):n()};l()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="SimpleDb";class c_{static open(e,t,n,a){try{return new c_(t,e.transaction(a,n))}catch(l){throw new Pf(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new mi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Pf(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const a=KE(n.target.error);this.S.reject(new Pf(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(me(yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new NM(t)}}class ua{static delete(e){return me(yr,"Removing database:",e),Pc(vE().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!qf())return!1;if(ua.F())return!0;const e=nn(),t=ua.M(e),n=0<t&&t<10,a=BR(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,ua.M(nn())===12.2&&En("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(me(yr,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{n(new Pf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?n(new fe(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?n(new fe(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):n(new Pf(e,c))},a.onupgradeneeded=l=>{me(yr,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;if(this.L!==null&&this.L!==l.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${l.oldVersion}, event.newVersion=${l.newVersion}, db.version=${c.version}`);this.B.q(c,a.transaction,l.oldVersion,this.version).next(()=>{me(yr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const n=t.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.k(e);const d=c_.open(this.db,e,l?"readonly":"readwrite",n),m=a(d).next(g=>(d.v(),g)).catch(g=>(d.abort(g),W.reject(g))).toPromise();return m.catch(()=>{}),await d.D,m}catch(d){const m=d,g=m.name!=="FirebaseError"&&c<3;if(me(yr,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function BR(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class xM{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Pc(this.K.delete())}}class Pf extends fe{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jl(i){return i.name==="IndexedDbTransactionError"}class NM{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(me(yr,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(me(yr,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Pc(n)}add(e){return me(yr,"ADD",this.store.name,e,e),Pc(this.store.add(e))}get(e){return Pc(this.store.get(e)).next(t=>(t===void 0&&(t=null),me(yr,"GET",this.store.name,e,t),t))}delete(e){return me(yr,"DELETE",this.store.name,e),Pc(this.store.delete(e))}count(){return me(yr,"COUNT",this.store.name),Pc(this.store.count())}J(e,t){const n=this.options(e,t),a=n.index?this.store.index(n.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(n.range);return new W((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}})}{const l=this.cursor(n),c=[];return this.Y(l,(d,m)=>{c.push(m)}).next(()=>c)}}Z(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new W((a,l)=>{n.onerror=c=>{l(c.target.error)},n.onsuccess=c=>{a(c.target.result)}})}X(e,t){me(yr,"DELETE ALL",this.store.name);const n=this.options(e,t);n.ee=!1;const a=this.cursor(n);return this.Y(a,(l,c,d)=>d.delete())}te(e,t){let n;t?n=e:(n={},t=e);const a=this.cursor(n);return this.Y(a,t)}ne(e){const t=this.cursor({});return new W((n,a)=>{t.onerror=l=>{const c=KE(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():n()}):n()}})}Y(e,t){const n=[];return new W((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new xM(d),g=t(d.primaryKey,d.value,m);if(g instanceof W){const y=g.catch(E=>(m.done(),W.reject(E)));n.push(y)}m.isDone?a():m.j===null?d.continue():d.continue(m.j)}}).next(()=>W.waitFor(n))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pc(i){return new W((e,t)=>{i.onsuccess=n=>{const a=n.target.result;e(a)},i.onerror=n=>{const a=KE(n.target.error);t(a)}})}let bA=!1;function KE(i){const e=ua.M(nn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const n=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bA||(bA=!0,setTimeout(()=>{throw n},0)),n}}return i}const Of="IndexBackfiller";class DM{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){me(Of,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();me(Of,`Documents written: ${t}`)}catch(t){jl(t)?me(Of,"Ignoring IndexedDB error during index backfill: ",t):await Ul(t)}await this.ie(6e4)})}}class PM{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const n=new Set;let a=t,l=!0;return W.doWhile(()=>l===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(c!==null&&!n.has(c))return me(Of,`Processing collection: ${c}`),this._e(e,c,a).next(d=>{a-=d,n.add(c)});l=!1})).next(()=>t-a)}_e(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,n).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ae(a,l)).next(d=>(me(Of,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ae(e,t){let n=e;return t.changes.forEach((a,l)=>{const c=LR(l);GE(c,n)>0&&(n=c)}),new br(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ji.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function Tm(i){return i==null}function Wf(i){return i===0&&1/i==-1/0}function zR(i){return typeof i=="number"&&Number.isInteger(i)&&!Wf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="";function Ti(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=TA(e)),e=OM(i.get(t),e);return TA(e)}function OM(i,e){let t=e;const n=i.length;for(let a=0;a<n;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case Cg:t+="";break;default:t+=l}}return t}function TA(i){return i+Cg+""}function la(i){const e=i.length;if(Oe(e>=2,64408,{path:i}),e===2)return Oe(i.charAt(0)===Cg&&i.charAt(1)==="",56145,{path:i}),ht.emptyPath();const t=e-2,n=[];let a="";for(let l=0;l<e;){const c=i.indexOf(Cg,l);switch((c<0||c>t)&&xe(50515,{path:i}),i.charAt(c+1)){case"":const d=i.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),n.push(m);break;case"":a+=i.substring(l,c),a+="\0";break;case"":a+=i.substring(l,c+1);break;default:xe(61167,{path:i})}l=c+2}return new ht(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="remoteDocuments",wm="owner",Ku="owner",Xf="mutationQueues",kM="userId",ys="mutations",wA="batchId",Uc="userMutationsIndex",AA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){return[i,Ti(e)]}function FR(i,e,t){return[i,Ti(e),t]}const VM={},Eh="documentMutations",xg="remoteDocumentsV14",MM=["prefixPath","collectionGroup","readTime","documentId"],lg="documentKeyIndex",LM=["prefixPath","collectionGroup","documentId"],qR="collectionGroupIndex",UM=["collectionGroup","readTime","prefixPath","documentId"],Jf="remoteDocumentGlobal",Pv="remoteDocumentGlobalKey",bh="targets",HR="queryTargetsIndex",jM=["canonicalId","targetId"],Th="targetDocuments",BM=["targetId","path"],QE="documentTargetsIndex",zM=["path","targetId"],Ng="targetGlobalKey",qc="targetGlobal",Zf="collectionParents",FM=["collectionId","parent"],wh="clientMetadata",qM="clientId",u_="bundles",HM="bundleId",h_="namedQueries",$M="name",YE="indexConfiguration",GM="indexId",Ov="collectionGroupIndex",KM="collectionGroup",kf="indexState",QM=["indexId","uid"],$R="sequenceNumberIndex",YM=["uid","sequenceNumber"],Vf="indexEntries",WM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],GR="documentKeyIndex",XM=["indexId","uid","orderedDocumentKey"],d_="documentOverlays",JM=["userId","collectionPath","documentId"],kv="collectionPathOverlayIndex",ZM=["userId","collectionPath","largestBatchId"],KR="collectionGroupOverlayIndex",eL=["userId","collectionGroup","largestBatchId"],WE="globals",tL="name",QR=[Xf,ys,Eh,Dc,bh,wm,qc,Th,wh,Jf,Zf,u_,h_],nL=[...QR,d_],YR=[Xf,ys,Eh,xg,bh,wm,qc,Th,wh,Jf,Zf,u_,h_,d_],WR=YR,XE=[...WR,YE,kf,Vf],iL=XE,XR=[...XE,WE],rL=XR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends jR{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function qn(i,e){const t=Ie(i);return ua.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Bl(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function JR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kp(this.root,e,this.comparator,!0)}}class Kp{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,n,a,l){this.key=e,this.value=t,this.color=n??di.RED,this.left=a??di.EMPTY,this.right=l??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,l){return new di(e??this.key,t??this.value,n??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const l=n(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,n),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return di.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1;di.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,n,a,l){return this}insert(e,t,n){return new di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SA(this.data.getIterator())}getIteratorFrom(e){return new SA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class SA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qu(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Zi([])}unionWith(e){let t=new Nt(Qt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yh(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ZR("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const aL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(i){if(Oe(!!i,39018),typeof i=="string"){let e=0;const t=aL.exec(i);if(Oe(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Gt(i.seconds),nanos:Gt(i.nanos)}}function Gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function uo(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="server_timestamp",tC="__type__",nC="__previous_value__",iC="__local_write_time__";function f_(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[tC])===null||t===void 0?void 0:t.stringValue)===eC}function m_(i){const e=i.mapValue.fields[nC];return f_(e)?m_(e):e}function em(i){const e=co(i.mapValue.fields[iC].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,t,n,a,l,c,d,m,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Mv="(default)";class Rl{constructor(e,t){this.projectId=e,this.database=t||Mv}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Mv}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__type__",rC="__max__",ml={mapValue:{fields:{__type__:{stringValue:rC}}}},ZE="__vector__",Ah="value",cg={nullValue:"NULL_VALUE"};function Cl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?f_(i)?4:sC(i)?9007199254740991:p_(i)?10:11:xe(28295,{value:i})}function pa(i,e){if(i===e)return!0;const t=Cl(i);if(t!==Cl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return em(i).isEqual(em(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=co(a.timestampValue),d=co(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,l){return uo(a.bytesValue).isEqual(uo(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,l){return Gt(a.geoPointValue.latitude)===Gt(l.geoPointValue.latitude)&&Gt(a.geoPointValue.longitude)===Gt(l.geoPointValue.longitude)}(i,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Gt(a.integerValue)===Gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Gt(a.doubleValue),d=Gt(l.doubleValue);return c===d?Wf(c)===Wf(d):isNaN(c)&&isNaN(d)}return!1}(i,e);case 9:return yh(i.arrayValue.values||[],e.arrayValue.values||[],pa);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(IA(c)!==IA(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!pa(c[m],d[m])))return!1;return!0}(i,e);default:return xe(52216,{left:i})}}function tm(i,e){return(i.values||[]).find(t=>pa(t,e))!==void 0}function xl(i,e){if(i===e)return 0;const t=Cl(i),n=Cl(e);if(t!==n)return Ge(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Gt(l.integerValue||l.doubleValue),m=Gt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return RA(i.timestampValue,e.timestampValue);case 4:return RA(em(i),em(e));case 5:return Nv(i.stringValue,e.stringValue);case 6:return function(l,c){const d=uo(l),m=uo(c);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Ge(d[g],m[g]);if(y!==0)return y}return Ge(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ge(Gt(l.latitude),Gt(c.latitude));return d!==0?d:Ge(Gt(l.longitude),Gt(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return CA(i.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,y;const E=l.fields||{},T=c.fields||{},V=(d=E[Ah])===null||d===void 0?void 0:d.arrayValue,L=(m=T[Ah])===null||m===void 0?void 0:m.arrayValue,H=Ge(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0);return H!==0?H:CA(V,L)}(i.mapValue,e.mapValue);case 11:return function(l,c){if(l===ml.mapValue&&c===ml.mapValue)return 0;if(l===ml.mapValue)return 1;if(c===ml.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const T=Nv(m[E],y[E]);if(T!==0)return T;const V=xl(d[m[E]],g[y[E]]);if(V!==0)return V}return Ge(m.length,y.length)}(i.mapValue,e.mapValue);default:throw xe(23264,{Pe:t})}}function RA(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const t=co(i),n=co(e),a=Ge(t.seconds,n.seconds);return a!==0?a:Ge(t.nanos,n.nanos)}function CA(i,e){const t=i.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const l=xl(t[a],n[a]);if(l)return l}return Ge(t.length,n.length)}function Ih(i){return Lv(i)}function Lv(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const n=co(t);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return uo(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Te.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let n="[",a=!0;for(const l of t.values||[])a?a=!1:n+=",",n+=Lv(l);return n+"]"}(i.arrayValue):"mapValue"in i?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of n)l?l=!1:a+=",",a+=`${c}:${Lv(t.fields[c])}`;return a+"}"}(i.mapValue):xe(61005,{value:i})}function ug(i){switch(Cl(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m_(i);return e?16+ug(e):16;case 5:return 2*i.stringValue.length;case 6:return uo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,l)=>a+ug(l),0)}(i.arrayValue);case 10:case 11:return function(n){let a=0;return Bl(n.fields,(l,c)=>{a+=l.length+ug(c)}),a}(i.mapValue);default:throw xe(13486,{value:i})}}function $c(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Uv(i){return!!i&&"integerValue"in i}function nm(i){return!!i&&"arrayValue"in i}function xA(i){return!!i&&"nullValue"in i}function NA(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hg(i){return!!i&&"mapValue"in i}function p_(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[JE])===null||t===void 0?void 0:t.stringValue)===ZE}function Mf(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Bl(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Mf(n)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mf(i.arrayValue.values[t]);return e}return Object.assign({},i)}function sC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===rC}const aC={mapValue:{fields:{[JE]:{stringValue:ZE},[Ah]:{arrayValue:{}}}}};function lL(i){return"nullValue"in i?cg:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?$c(Rl.empty(),Te.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?p_(i)?aC:{mapValue:{}}:xe(35942,{value:i})}function cL(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?$c(Rl.empty(),Te.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?aC:"mapValue"in i?p_(i)?{mapValue:{}}:ml:xe(61959,{value:i})}function DA(i,e){const t=xl(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function PA(i,e){const t=xl(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!hg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(t)}setAll(e){let t=Qt.emptyPath(),n={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,n,a),n={},a=[],t=d.popLast()}c?n[d.lastSegment()]=Mf(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,n,a)}delete(e){const t=this.field(e.popLast());hg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];hg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){Bl(t,(a,l)=>e[a]=l);for(const a of n)delete e[a]}clone(){return new fi(Mf(this.value))}}function oC(i){const e=[];return Bl(i.fields,(t,n)=>{const a=new Qt([t]);if(hg(n)){const l=oC(n.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,n,a,l,c,d){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Ft(e,0,ke.min(),ke.min(),ke.min(),fi.empty(),0)}static newFoundDocument(e,t,n,a){return new Ft(e,1,t,ke.min(),n,a,0)}static newNoDocument(e,t){return new Ft(e,2,t,ke.min(),ke.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,ke.min(),ke.min(),fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.position=e,this.inclusive=t}}function OA(i,e,t){let n=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?n=Te.comparator(Te.fromName(c.referenceValue),t.key):n=xl(c,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function kA(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!pa(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t="asc"){this.field=e,this.dir=t}}function uL(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{}class dt extends lC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new hL(e,t,n):t==="array-contains"?new mL(e,n):t==="in"?new mC(e,n):t==="not-in"?new pL(e,n):t==="array-contains-any"?new gL(e,n):new dt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new dL(e,n):new fL(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xl(t,this.value)):t!==null&&Cl(this.value)===Cl(t)&&this.matchesComparison(xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xt extends lC{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xt(e,t)}matches(e){return Sh(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Sh(i){return i.op==="and"}function jv(i){return i.op==="or"}function eb(i){return cC(i)&&Sh(i)}function cC(i){for(const e of i.filters)if(e instanceof xt)return!1;return!0}function Bv(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+Ih(i.value);if(eb(i))return i.filters.map(e=>Bv(e)).join(",");{const e=i.filters.map(t=>Bv(t)).join(",");return`${i.op}(${e})`}}function uC(i,e){return i instanceof dt?function(n,a){return a instanceof dt&&n.op===a.op&&n.field.isEqual(a.field)&&pa(n.value,a.value)}(i,e):i instanceof xt?function(n,a){return a instanceof xt&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((l,c,d)=>l&&uC(c,a.filters[d]),!0):!1}(i,e):void xe(19439)}function hC(i,e){const t=i.filters.concat(e);return xt.create(t,i.op)}function dC(i){return i instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ih(t.value)}`}(i):i instanceof xt?function(t){return t.op.toString()+" {"+t.getFilters().map(dC).join(" ,")+"}"}(i):"Filter"}class hL extends dt{constructor(e,t,n){super(e,t,n),this.key=Te.fromName(n.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class dL extends dt{constructor(e,t){super(e,"in",t),this.keys=fC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fL extends dt{constructor(e,t){super(e,"not-in",t),this.keys=fC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fC(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Te.fromName(n.referenceValue))}class mL extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nm(t)&&tm(t.arrayValue,this.value)}}class mC extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tm(this.value.arrayValue,t)}}class pL extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(tm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tm(this.value.arrayValue,t)}}class gL extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>tm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t=null,n=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function zv(i,e=null,t=[],n=[],a=null,l=null,c=null){return new _L(i,e,t,n,a,l,c)}function Gc(i){const e=Ie(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Bv(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(l){return l.field.canonicalString()+l.dir}(n)).join(","),Tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Ih(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Ih(n)).join(",")),e.Ie=t}return e.Ie}function Am(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!uL(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!uC(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!kA(i.startAt,e.startAt)&&kA(i.endAt,e.endAt)}function Dg(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function Pg(i,e){return i.filters.filter(t=>t instanceof dt&&t.field.isEqual(e))}function VA(i,e,t){let n=cg,a=!0;for(const l of Pg(i,e)){let c=cg,d=!0;switch(l.op){case"<":case"<=":c=lL(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=cg}DA({value:n,inclusive:a},{value:c,inclusive:d})<0&&(n=c,a=d)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];DA({value:n,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(n=c,a=t.inclusive);break}}return{value:n,inclusive:a}}function MA(i,e,t){let n=ml,a=!0;for(const l of Pg(i,e)){let c=ml,d=!0;switch(l.op){case">=":case">":c=cL(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=ml}PA({value:n,inclusive:a},{value:c,inclusive:d})>0&&(n=c,a=d)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];PA({value:n,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(n=c,a=t.inclusive);break}}return{value:n,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t=null,n=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pC(i,e,t,n,a,l,c,d){return new po(i,e,t,n,a,l,c,d)}function Gh(i){return new po(i)}function LA(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function tb(i){return i.collectionGroup!==null}function hh(i){const e=Ie(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Nt(Qt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new im(l,n))}),t.has(Qt.keyField().canonicalString())||e.Ee.push(new im(Qt.keyField(),n))}return e.Ee}function Mi(i){const e=Ie(i);return e.de||(e.de=yL(e,hh(i))),e.de}function yL(i,e){if(i.limitType==="F")return zv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new im(a.field,l)});const t=i.endAt?new Nl(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Nl(i.startAt.position,i.startAt.inclusive):null;return zv(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function Fv(i,e){const t=i.filters.concat([e]);return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Og(i,e,t){return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Im(i,e){return Am(Mi(i),Mi(e))&&i.limitType===e.limitType}function gC(i){return`${Gc(Mi(i))}|lt:${i.limitType}`}function nh(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>dC(a)).join(", ")}]`),Tm(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>Ih(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>Ih(a)).join(",")),`Target(${n})`}(Mi(i))}; limitType=${i.limitType})`}function Sm(i,e){return e.isFoundDocument()&&function(n,a){const l=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Te.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,a){for(const l of hh(n))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(i,e)&&function(n,a){for(const l of n.filters)if(!l.matches(a))return!1;return!0}(i,e)&&function(n,a){return!(n.startAt&&!function(c,d,m){const g=OA(c,d,m);return c.inclusive?g<=0:g<0}(n.startAt,hh(n),a)||n.endAt&&!function(c,d,m){const g=OA(c,d,m);return c.inclusive?g>=0:g>0}(n.endAt,hh(n),a))}(i,e)}function _C(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yC(i){return(e,t)=>{let n=!1;for(const a of hh(i)){const l=vL(a,e,t);if(l!==0)return l;n=n||a.field.isKeyField()}return 0}}function vL(i,e,t){const n=i.field.isKeyField()?Te.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?xl(m,g):xe(42886)}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,l]of n)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,(t,n)=>{for(const[a,l]of n)e(a,l)})}isEmpty(){return JR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new jt(Te.comparator);function er(){return EL}const vC=new jt(Te.comparator);function Af(...i){let e=vC;for(const t of i)e=e.insert(t.key,t);return e}function EC(i){let e=vC;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function ca(){return Lf()}function bC(){return Lf()}function Lf(){return new go(i=>i.toString(),(i,e)=>i.isEqual(e))}const bL=new jt(Te.comparator),TL=new Nt(Te.comparator);function et(...i){let e=TL;for(const t of i)e=e.add(t);return e}const wL=new Nt(Ge);function nb(){return wL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function TC(i){return{integerValue:""+i}}function wC(i,e){return zR(e)?TC(e):ib(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this._=void 0}}function AL(i,e,t){return i instanceof Rh?function(a,l){const c={fields:{[tC]:{stringValue:eC},[iC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&f_(l)&&(l=m_(l)),l&&(c.fields[nC]=l),{mapValue:c}}(t,e):i instanceof Kc?IC(i,e):i instanceof Qc?SC(i,e):function(a,l){const c=AC(a,l),d=UA(c)+UA(a.Re);return Uv(c)&&Uv(a.Re)?TC(d):ib(a.serializer,d)}(i,e)}function IL(i,e,t){return i instanceof Kc?IC(i,e):i instanceof Qc?SC(i,e):t}function AC(i,e){return i instanceof Ch?function(n){return Uv(n)||function(l){return!!l&&"doubleValue"in l}(n)}(e)?e:{integerValue:0}:null}class Rh extends g_{}class Kc extends g_{constructor(e){super(),this.elements=e}}function IC(i,e){const t=RC(e);for(const n of i.elements)t.some(a=>pa(a,n))||t.push(n);return{arrayValue:{values:t}}}class Qc extends g_{constructor(e){super(),this.elements=e}}function SC(i,e){let t=RC(e);for(const n of i.elements)t=t.filter(a=>!pa(a,n));return{arrayValue:{values:t}}}class Ch extends g_{constructor(e,t){super(),this.serializer=e,this.Re=t}}function UA(i){return Gt(i.integerValue||i.doubleValue)}function RC(i){return nm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t){this.field=e,this.transform=t}}function SL(i,e){return i.field.isEqual(e.field)&&function(n,a){return n instanceof Kc&&a instanceof Kc||n instanceof Qc&&a instanceof Qc?yh(n.elements,a.elements,pa):n instanceof Ch&&a instanceof Ch?pa(n.Re,a.Re):n instanceof Rh&&a instanceof Rh}(i.transform,e.transform)}class RL{constructor(e,t){this.version=e,this.transformResults=t}}class Yt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class __{}function CC(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Qh(i.key,Yt.none()):new Kh(i.key,i.data,Yt.none());{const t=i.data,n=fi.empty();let a=new Nt(Qt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?n.delete(l):n.set(l,c),a=a.add(l)}return new _o(i.key,n,new Zi(a.toArray()),Yt.none())}}function CL(i,e,t){i instanceof Kh?function(a,l,c){const d=a.value.clone(),m=BA(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(i,e,t):i instanceof _o?function(a,l,c){if(!dg(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=BA(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(xC(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(i,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Uf(i,e,t,n){return i instanceof Kh?function(l,c,d,m){if(!dg(l.precondition,c))return d;const g=l.value.clone(),y=zA(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(i,e,t,n):i instanceof _o?function(l,c,d,m){if(!dg(l.precondition,c))return d;const g=zA(l.fieldTransforms,m,c),y=c.data;return y.setAll(xC(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(i,e,t,n):function(l,c,d){return dg(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(i,e,t)}function xL(i,e){let t=null;for(const n of i.fieldTransforms){const a=e.data.field(n.field),l=AC(n.transform,a||null);l!=null&&(t===null&&(t=fi.empty()),t.set(n.field,l))}return t||null}function jA(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&yh(n,a,(l,c)=>SL(l,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Kh extends __{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _o extends __{constructor(e,t,n,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xC(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}}),e}function BA(i,e,t){const n=new Map;Oe(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);n.set(l.field,IL(c,d,t[a]))}return n}function zA(i,e,t){const n=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);n.set(a.field,AL(l,c,e))}return n}class Qh extends __{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rb extends __{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&CL(l,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Uf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Uf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bC();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=CC(c,d);m!==null&&n.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(ke.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,(t,n)=>jA(t,n))&&yh(this.baseMutations,e.baseMutations,(t,n)=>jA(t,n))}}class ab{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){Oe(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return bL}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,n[c].version);return new ab(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,vt;function NC(i){switch(i){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function DC(i){if(i===void 0)return En("GRPC error has no .code"),re.UNKNOWN;switch(i){case Pn.OK:return re.OK;case Pn.CANCELLED:return re.CANCELLED;case Pn.UNKNOWN:return re.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return re.INTERNAL;case Pn.UNAVAILABLE:return re.UNAVAILABLE;case Pn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pn.NOT_FOUND:return re.NOT_FOUND;case Pn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pn.ABORTED:return re.ABORTED;case Pn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pn.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:i})}}(vt=Pn||(Pn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new vl([4294967295,4294967295],0);function FA(i){const e=$E().encode(i),t=new SR;return t.update(e),new Uint8Array(t.digest())}function qA(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vl([t,n],0),new vl([a,l],0)]}class lb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new If(`Invalid padding: ${t}`);if(n<0)throw new If(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new If(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=vl.fromNumber(this.pe)}we(e,t,n){let a=e.add(t.multiply(vl.fromNumber(n)));return a.compare(DL)===1&&(a=new vl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=FA(e),[n,a]=qA(t);for(let l=0;l<this.hashCount;l++){const c=this.we(n,a,l);if(!this.Se(c))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new lb(l,a,t);return n.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=FA(e),[n,a]=qA(t);for(let l=0;l<this.hashCount;l++){const c=this.we(n,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,n,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,xm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Cm(ke.min(),a,new jt(Ge),er(),et())}}class xm{constructor(e,t,n,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new xm(n,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,n,a){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=a}}class PC{constructor(e,t){this.targetId=e,this.Ce=t}}class OC{constructor(e,t,n=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class HA{constructor(){this.Fe=0,this.Me=$A(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),t=et(),n=et();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:xe(38017,{changeType:l})}}),new xm(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=$A()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Oe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PL{constructor(e){this.ze=e,this.je=new Map,this.He=er(),this.Je=Qp(),this.Ye=Qp(),this.Ze=new jt(Ge)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,n=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Dg(l))if(n===0){const c=new Te(l.path);this.tt(t,c,Ft.newNoDocument(c,ke.min()))}else Oe(n===1,20013,{expectedCount:n});else{const c=this.ut(t);if(c!==n){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=uo(n).toUint8Array()}catch(m){if(m instanceof ZR)return ma("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new lb(c,a,l)}catch(m){return ma(m instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let a=0;return n.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Dg(d.target)){const m=new Te(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,Ft.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let n=et();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(n=n.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Cm(e,t,this.Ze,this.He,n);return this.He=er(),this.Je=Qp(),this.Ye=Qp(),this.Ze=new jt(Ge),a}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new HA,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Nt(Ge),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Nt(Ge),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new HA),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Qp(){return new jt(Te.comparator)}function $A(){return new jt(Te.comparator)}const OL={asc:"ASCENDING",desc:"DESCENDING"},kL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VL={and:"AND",or:"OR"};class ML{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qv(i,e){return i.useProto3Json||Tm(e)?e:{value:e}}function xh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kC(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function LL(i,e){return xh(i,e.toTimestamp())}function bn(i){return Oe(!!i,49232),ke.fromTimestamp(function(t){const n=co(t);return new Xt(n.seconds,n.nanos)}(i))}function cb(i,e){return Hv(i,e).canonicalString()}function Hv(i,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function VC(i){const e=ht.fromString(i);return Oe($C(e),10190,{key:e.toString()}),e}function rm(i,e){return cb(i.databaseId,e.path)}function ha(i,e){const t=VC(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(UC(t))}function MC(i,e){return cb(i.databaseId,e)}function LC(i){const e=VC(i);return e.length===4?ht.emptyPath():UC(e)}function $v(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function UC(i){return Oe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function GA(i,e,t){return{name:rm(i,e),fields:t.value.mapValue.fields}}function jC(i,e,t){const n=ha(i,e.name),a=bn(e.updateTime),l=e.createTime?bn(e.createTime):ke.min(),c=new fi({mapValue:{fields:e.fields}}),d=Ft.newFoundDocument(n,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function UL(i,e){return"found"in e?function(n,a){Oe(!!a.found,43571),a.found.name,a.found.updateTime;const l=ha(n,a.found.name),c=bn(a.found.updateTime),d=a.found.createTime?bn(a.found.createTime):ke.min(),m=new fi({mapValue:{fields:a.found.fields}});return Ft.newFoundDocument(l,c,d,m)}(i,e):"missing"in e?function(n,a){Oe(!!a.missing,3894),Oe(!!a.readTime,22933);const l=ha(n,a.missing),c=bn(a.readTime);return Ft.newNoDocument(l,c)}(i,e):xe(7234,{result:e})}function jL(i,e){let t;if("targetChange"in e){e.targetChange;const n=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(Oe(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(Oe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const y=g.code===void 0?re.UNKNOWN:DC(g.code);return new fe(y,g.message||"")}(c);t=new OC(n,a,l,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=ha(i,n.document.name),l=bn(n.document.updateTime),c=n.document.createTime?bn(n.document.createTime):ke.min(),d=new fi({mapValue:{fields:n.document.fields}}),m=Ft.newFoundDocument(a,l,c,d),g=n.targetIds||[],y=n.removedTargetIds||[];t=new fg(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=ha(i,n.document),l=n.readTime?bn(n.readTime):ke.min(),c=Ft.newNoDocument(a,l),d=n.removedTargetIds||[];t=new fg([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=ha(i,n.document),l=n.removedTargetIds||[];t=new fg([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:l}=n,c=new NL(a,l),d=n.targetId;t=new PC(d,c)}}return t}function sm(i,e){let t;if(e instanceof Kh)t={update:GA(i,e.key,e.value)};else if(e instanceof Qh)t={delete:rm(i,e.key)};else if(e instanceof _o)t={update:GA(i,e.key,e.data),updateMask:$L(e.fieldMask)};else{if(!(e instanceof rb))return xe(16599,{ft:e.type});t={verify:rm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(l,c){const d=c.transform;if(d instanceof Rh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ch)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw xe(20930,{transform:c.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:LL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)}(i,e.precondition)),t}function Gv(i,e){const t=e.currentDocument?function(l){return l.updateTime!==void 0?Yt.updateTime(bn(l.updateTime)):l.exists!==void 0?Yt.exists(l.exists):Yt.none()}(e.currentDocument):Yt.none(),n=e.updateTransforms?e.updateTransforms.map(a=>function(c,d){let m=null;if("setToServerValue"in d)Oe(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new Rh;else if("appendMissingElements"in d){const y=d.appendMissingElements.values||[];m=new Kc(y)}else if("removeAllFromArray"in d){const y=d.removeAllFromArray.values||[];m=new Qc(y)}else"increment"in d?m=new Ch(c,d.increment):xe(16584,{proto:d});const g=Qt.fromServerFormat(d.fieldPath);return new Rm(g,m)}(i,a)):[];if(e.update){e.update.name;const a=ha(i,e.update.name),l=new fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=function(m){const g=m.fieldPaths||[];return new Zi(g.map(y=>Qt.fromServerFormat(y)))}(e.updateMask);return new _o(a,l,c,t,n)}return new Kh(a,l,t,n)}if(e.delete){const a=ha(i,e.delete);return new Qh(a,t)}if(e.verify){const a=ha(i,e.verify);return new rb(a,t)}return xe(1463,{proto:e})}function BL(i,e){return i&&i.length>0?(Oe(e!==void 0,14353),i.map(t=>function(a,l){let c=a.updateTime?bn(a.updateTime):bn(l);return c.isEqual(ke.min())&&(c=bn(l)),new RL(c,a.transformResults||[])}(t,e))):[]}function BC(i,e){return{documents:[MC(i,e.path)]}}function zC(i,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=MC(i,a);const l=function(g){if(g.length!==0)return HC(xt.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(y=>function(T){return{field:ih(T.field),direction:FL(T.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=qv(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function FC(i){let e=LC(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){Oe(n===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(E){const T=qC(E);return T instanceof xt&&eb(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(L){return new im(rh(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Tm(T)?null:T}(t.limit));let m=null;t.startAt&&(m=function(E){const T=!!E.before,V=E.values||[];return new Nl(V,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,V=E.values||[];return new Nl(V,T)}(t.endAt)),pC(e,a,c,l,d,"F",m,g)}function zL(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qC(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=rh(t.unaryFilter.field);return dt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=rh(t.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rh(t.unaryFilter.field);return dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rh(t.unaryFilter.field);return dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(i):i.fieldFilter!==void 0?function(t){return dt.create(rh(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return xt.create(t.compositeFilter.filters.map(n=>qC(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(t.compositeFilter.op))}(i):xe(30097,{filter:i})}function FL(i){return OL[i]}function qL(i){return kL[i]}function HL(i){return VL[i]}function ih(i){return{fieldPath:i.canonicalString()}}function rh(i){return Qt.fromServerFormat(i.fieldPath)}function HC(i){return i instanceof dt?function(t){if(t.op==="=="){if(NA(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NAN"}};if(xA(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NA(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NAN"}};if(xA(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ih(t.field),op:qL(t.op),value:t.value}}}(i):i instanceof xt?function(t){const n=t.getFilters().map(a=>HC(a));return n.length===1?n[0]:{compositeFilter:{op:HL(t.op),filters:n}}}(i):xe(54877,{filter:i})}function $L(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $C(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t,n,a,l=ke.min(),c=ke.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.wt=e}}function GL(i,e){let t;if(e.document)t=jC(i.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Te.fromSegments(e.noDocument.path),a=Wc(e.noDocument.readTime);t=Ft.newNoDocument(n,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const n=Te.fromSegments(e.unknownDocument.path),a=Wc(e.unknownDocument.version);t=Ft.newUnknownDocument(n,a)}}return e.readTime&&t.setReadTime(function(a){const l=new Xt(a[0],a[1]);return ke.fromTimestamp(l)}(e.readTime)),t}function KA(i,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(l,c){return{name:rm(l,c.key),fields:c.data.value.mapValue.fields,updateTime:xh(l,c.version.toTimestamp()),createTime:xh(l,c.createTime.toTimestamp())}}(i.wt,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:Yc(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:Yc(e.version)}}return n}function kg(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Yc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wc(i){const e=new Xt(i.seconds,i.nanoseconds);return ke.fromTimestamp(e)}function Oc(i,e){const t=(e.baseMutations||[]).map(l=>Gv(i.wt,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const n=e.mutations.map(l=>Gv(i.wt,l)),a=Xt.fromMillis(e.localWriteTimeMs);return new sb(e.batchId,a,t,n)}function Sf(i){const e=Wc(i.readTime),t=i.lastLimboFreeSnapshotVersion!==void 0?Wc(i.lastLimboFreeSnapshotVersion):ke.min();let n;return n=function(l){return l.documents!==void 0}(i.query)?function(l){const c=l.documents.length;return Oe(c===1,1966,{count:c}),Mi(Gh(LC(l.documents[0])))}(i.query):function(l){return Mi(FC(l))}(i.query),new to(n,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,un.fromBase64String(i.resumeToken))}function KC(i,e){const t=Yc(e.snapshotVersion),n=Yc(e.lastLimboFreeSnapshotVersion);let a;a=Dg(e.target)?BC(i.wt,e.target):zC(i.wt,e.target).gt;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:a}}function ub(i){const e=FC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Og(e,e.limit,"L"):e}function hv(i,e){return new ob(e.largestBatchId,Gv(i.wt,e.overlayMutation))}function QA(i,e){const t=e.path.lastSegment();return[i,Ti(e.path.popLast()),t]}function YA(i,e,t,n){return{indexId:i,uid:e,sequenceNumber:t,readTime:Yc(n.readTime),documentKey:Ti(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{getBundleMetadata(e,t){return WA(e).get(t).next(n=>{if(n)return function(l){return{id:l.bundleId,createTime:Wc(l.createTime),version:l.version}}(n)})}saveBundleMetadata(e,t){return WA(e).put(function(a){return{bundleId:a.id,createTime:Yc(bn(a.createTime)),version:a.version}}(t))}getNamedQuery(e,t){return XA(e).get(t).next(n=>{if(n)return function(l){return{name:l.name,query:ub(l.bundledQuery),readTime:Wc(l.readTime)}}(n)})}saveNamedQuery(e,t){return XA(e).put(function(a){return{name:a.name,readTime:Yc(bn(a.readTime)),bundledQuery:a.bundledQuery}}(t))}}function WA(i){return qn(i,u_)}function XA(i){return qn(i,h_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const n=t.uid||"";return new y_(e,n)}getOverlay(e,t){return mf(e).get(QA(this.userId,t)).next(n=>n?hv(this.serializer,n):null)}getOverlays(e,t){const n=ca();return W.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&n.set(a,l)})).next(()=>n)}saveOverlays(e,t,n){const a=[];return n.forEach((l,c)=>{const d=new ob(t,c);a.push(this.bt(e,d))}),W.waitFor(a)}removeOverlaysForBatchId(e,t,n){const a=new Set;t.forEach(c=>a.add(Ti(c.getCollectionPath())));const l=[];return a.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,n],[this.userId,c,n+1],!1,!0);l.push(mf(e).X(kv,d))}),W.waitFor(l)}getOverlaysForCollection(e,t,n){const a=ca(),l=Ti(t),c=IDBKeyRange.bound([this.userId,l,n],[this.userId,l,Number.POSITIVE_INFINITY],!0);return mf(e).J(kv,c).next(d=>{for(const m of d){const g=hv(this.serializer,m);a.set(g.getKey(),g)}return a})}getOverlaysForCollectionGroup(e,t,n,a){const l=ca();let c;const d=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mf(e).te({index:KR,range:d},(m,g,y)=>{const E=hv(this.serializer,g);l.size()<a||E.largestBatchId===c?(l.set(E.getKey(),E),c=E.largestBatchId):y.done()}).next(()=>l)}bt(e,t){return mf(e).put(function(a,l,c){const[d,m,g]=QA(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:sm(a.wt,c.mutation)}}(this.serializer,this.userId,t))}}function mf(i){return qn(i,d_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{Dt(e){return qn(e,WE)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const n=t==null?void 0:t.value;return n?un.fromUint8Array(n):un.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Gt(e.integerValue));else if("doubleValue"in e){const n=Gt(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Wf(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),typeof n=="string"&&(n=co(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(uo(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?sC(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):p_(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):xe(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const a of Object.keys(n))this.Nt(a,t),this.Ct(n[a],t)}qt(e,t){var n,a;const l=e.fields||{};this.Mt(t,53);const c=Ah,d=((a=(n=l[c].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.length)||0;this.Mt(t,15),t.xt(Gt(d)),this.Nt(c,t),this.Ct(l[c],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const a of n)this.Ct(a,t)}kt(e,t){this.Mt(t,37),Te.fromName(e).path.forEach(n=>{this.Mt(t,60),this.Kt(n,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}kc.Wt=new kc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=255;function YL(i){if(i===0)return 8;let e=0;return i>>4||(e+=4,i<<=4),i>>6||(e+=2,i<<=2),i>>7||(e+=1),e}function JA(i){const e=64-function(n){let a=0;for(let l=0;l<8;++l){const c=YL(255&n[l]);if(a+=c,c!==8)break}return a}(i);return Math.ceil(e/8)}class WL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.zt(n.value),n=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Yt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const a=t.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(e){const t=this.tn(e),n=JA(t);this.nn(1+n),this.buffer[this.position++]=255&n;for(let a=t.length-n;a<t.length;++a)this.buffer[this.position++]=255&t[a]}rn(e){const t=this.tn(e),n=JA(t);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let a=t.length-n;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}sn(){this._n(Yu),this._n(255)}an(){this.un(Yu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let a=1;a<t.length;++a)t[a]^=n?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Yu?(this._n(Yu),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Yu?(this.un(Yu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const a=new Uint8Array(n);a.set(this.buffer),this.buffer=a}}class XL{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class JL{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class pf{constructor(){this.ln=new WL,this.hn=new XL(this.ln),this.Pn=new JL(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,n,a){this.In=e,this.En=t,this.dn=n,this.An=a}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.An,0),t!==e?n.set([0],this.An.length):++n[n.length-1],new Vc(this.In,this.En,this.dn,n)}Vn(e,t,n){return{indexId:this.In,uid:e,arrayValue:mg(this.dn),directionalValue:mg(this.An),orderedDocumentKey:mg(t),documentKey:n.path.toArray()}}mn(e,t,n){const a=this.Vn(e,t,n);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function cl(i,e){let t=i.In-e.In;return t!==0?t:(t=ZA(i.dn,e.dn),t!==0?t:(t=ZA(i.An,e.An),t!==0?t:Te.comparator(i.En,e.En)))}function ZA(i,e){for(let t=0;t<i.length&&t<e.length;++t){const n=i[t]-e[t];if(n!==0)return n}return i.length-e.length}function mg(i){return gS()?function(t){let n="";for(let a=0;a<t.length;a++)n+=String.fromCharCode(t[a]);return n}(i):i}function eI(i){return typeof i!="string"?i:function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(i)}class tI{constructor(e){this.fn=new Nt((t,n)=>Qt.comparator(t.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const n=t;n.isInequality()?this.fn=this.fn.add(n):this.pn.push(n)}}get yn(){return this.fn.size>1}wn(e){if(Oe(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=Dv(e);if(t!==void 0&&!this.Sn(t))return!1;const n=Nc(e);let a=new Set,l=0,c=0;for(;l<n.length&&this.Sn(n[l]);++l)a=a.add(n[l].fieldPath.canonicalString());if(l===n.length)return!0;if(this.fn.size>0){const d=this.fn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=n[l];if(!this.bn(d,m)||!this.Dn(this.gn[c++],m))return!1}++l}for(;l<n.length;++l){const d=n[l];if(c>=this.gn.length||!this.Dn(this.gn[c++],d))return!1}return!0}vn(){if(this.yn)return null;let e=new Nt(Qt.comparator);const t=[];for(const n of this.pn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new ag(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ag(n.field,0))}for(const n of this.gn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ag(n.field,n.dir==="asc"?0:1)));return new Rg(Rg.UNKNOWN_ID,this.collectionId,t,Yf.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(i){var e,t;if(Oe(i instanceof dt||i instanceof xt,20012),i instanceof dt){if(i instanceof mC){const a=((t=(e=i.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(l=>dt.create(i.field,"==",l)))||[];return xt.create(a,"or")}return i}const n=i.filters.map(a=>QC(a));return xt.create(n,i.op)}function ZL(i){if(i.getFilters().length===0)return[];const e=Yv(QC(i));return Oe(YC(e),7391),Kv(e)||Qv(e)?[e]:e.getFilters()}function Kv(i){return i instanceof dt}function Qv(i){return i instanceof xt&&eb(i)}function YC(i){return Kv(i)||Qv(i)||function(t){if(t instanceof xt&&jv(t)){for(const n of t.getFilters())if(!Kv(n)&&!Qv(n))return!1;return!0}return!1}(i)}function Yv(i){if(Oe(i instanceof dt||i instanceof xt,34018),i instanceof dt)return i;if(i.filters.length===1)return Yv(i.filters[0]);const e=i.filters.map(n=>Yv(n));let t=xt.create(e,i.op);return t=Vg(t),YC(t)?t:(Oe(t instanceof xt,64498),Oe(Sh(t),40251),Oe(t.filters.length>1,57927),t.filters.reduce((n,a)=>hb(n,a)))}function hb(i,e){let t;return Oe(i instanceof dt||i instanceof xt,38388),Oe(e instanceof dt||e instanceof xt,25473),t=i instanceof dt?e instanceof dt?function(a,l){return xt.create([a,l],"and")}(i,e):nI(i,e):e instanceof dt?nI(e,i):function(a,l){if(Oe(a.filters.length>0&&l.filters.length>0,48005),Sh(a)&&Sh(l))return hC(a,l.getFilters());const c=jv(a)?a:l,d=jv(a)?l:a,m=c.filters.map(g=>hb(g,d));return xt.create(m,"or")}(i,e),Vg(t)}function nI(i,e){if(Sh(e))return hC(e,i.getFilters());{const t=e.filters.map(n=>hb(i,n));return xt.create(t,"or")}}function Vg(i){if(Oe(i instanceof dt||i instanceof xt,11850),i instanceof dt)return i;const e=i.getFilters();if(e.length===1)return Vg(e[0]);if(cC(i))return i;const t=e.map(a=>Vg(a)),n=[];return t.forEach(a=>{a instanceof dt?n.push(a):a instanceof xt&&(a.op===i.op?n.push(...a.filters):n.push(a))}),n.length===1?n[0]:xt.create(n,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Cn=new db}addToCollectionParentIndex(e,t){return this.Cn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(br.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(br.min())}updateCollectionGroup(e,t,n){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class db{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new Nt(ht.comparator),l=!a.has(n);return this.index[t]=a.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Nt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="IndexedDbIndexManager",Yp=new Uint8Array(0);class t4{constructor(e,t){this.databaseId=t,this.Fn=new db,this.Mn=new go(n=>Gc(n),(n,a)=>Am(n,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const n=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const l={collectionId:n,parent:Ti(a)};return rI(e).put(l)}return W.resolve()}getCollectionParents(e,t){const n=[],a=IDBKeyRange.bound([t,""],[VR(t),""],!1,!0);return rI(e).J(a).next(l=>{for(const c of l){if(c.collectionId!==t)break;n.push(la(c.parent))}return n})}addFieldIndex(e,t){const n=gf(e),a=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(t);delete a.indexId;const l=n.add(a);if(t.indexState){const c=Xu(e);return l.next(d=>{c.put(YA(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const n=gf(e),a=Xu(e),l=Wu(e);return n.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=gf(e),n=Wu(e),a=Xu(e);return t.X().next(()=>n.X()).next(()=>a.X())}createTargetIndexes(e,t){return W.forEach(this.xn(t),n=>this.getIndexType(e,n).next(a=>{if(a===0||a===1){const l=new tI(n).vn();if(l!=null)return this.addFieldIndex(e,l)}}))}getDocumentsMatchingTarget(e,t){const n=Wu(e);let a=!0;const l=new Map;return W.forEach(this.xn(t),c=>this.On(e,c).next(d=>{a&&(a=!!d),l.set(c,d)})).next(()=>{if(a){let c=et();const d=[];return W.forEach(l,(m,g)=>{me(iI,`Using index ${function(le){return`id=${le.indexId}|cg=${le.collectionGroup}|f=${le.fields.map(Ee=>`${Ee.fieldPath}:${Ee.kind}`).join(",")}`}(m)} to execute ${Gc(t)}`);const y=function(le,Ee){const ye=Dv(Ee);if(ye===void 0)return null;for(const k of Pg(le,ye.fieldPath))switch(k.op){case"array-contains-any":return k.value.arrayValue.values||[];case"array-contains":return[k.value]}return null}(g,m),E=function(le,Ee){const ye=new Map;for(const k of Nc(Ee))for(const P of Pg(le,k.fieldPath))switch(P.op){case"==":case"in":ye.set(k.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return ye.set(k.fieldPath.canonicalString(),P.value),Array.from(ye.values())}return null}(g,m),T=function(le,Ee){const ye=[];let k=!0;for(const P of Nc(Ee)){const S=P.kind===0?VA(le,P.fieldPath,le.startAt):MA(le,P.fieldPath,le.startAt);ye.push(S.value),k&&(k=S.inclusive)}return new Nl(ye,k)}(g,m),V=function(le,Ee){const ye=[];let k=!0;for(const P of Nc(Ee)){const S=P.kind===0?MA(le,P.fieldPath,le.endAt):VA(le,P.fieldPath,le.endAt);ye.push(S.value),k&&(k=S.inclusive)}return new Nl(ye,k)}(g,m),L=this.Nn(m,g,T),H=this.Nn(m,g,V),F=this.Bn(m,g,E),Z=this.Ln(m.indexId,y,L,T.inclusive,H,V.inclusive,F);return W.forEach(Z,ne=>n.Z(ne,t.limit).next(le=>{le.forEach(Ee=>{const ye=Te.fromSegments(Ee.documentKey);c.has(ye)||(c=c.add(ye),d.push(ye))})}))}).next(()=>d)}return W.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=ZL(xt.create(e.filters,"and")).map(n=>zv(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,n,a,l,c,d){const m=(t!=null?t.length:1)*Math.max(n.length,l.length),g=m/(t!=null?t.length:1),y=[];for(let E=0;E<m;++E){const T=t?this.kn(t[E/g]):Yp,V=this.qn(e,T,n[E%g],a),L=this.Qn(e,T,l[E%g],c),H=d.map(F=>this.qn(e,T,F,!0));y.push(...this.createRange(V,L,H))}return y}qn(e,t,n,a){const l=new Vc(e,Te.empty(),t,n);return a?l:l.Rn()}Qn(e,t,n,a){const l=new Vc(e,Te.empty(),t,n);return a?l.Rn():l}On(e,t){const n=new tI(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let c=null;for(const d of l)n.wn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let n=2;const a=this.xn(t);return W.forEach(a,l=>this.On(e,l).next(c=>{c?n!==0&&c.fields.length<function(m){let g=new Nt(Qt.comparator),y=!1;for(const E of m.filters)for(const T of E.getFlattenedFilters())T.field.isKeyField()||(T.op==="array-contains"||T.op==="array-contains-any"?y=!0:g=g.add(T.field));for(const E of m.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(y?1:0)}(l)&&(n=1):n=0})).next(()=>function(c){return c.limit!==null}(t)&&a.length>1&&n===2?1:n)}$n(e,t){const n=new pf;for(const a of Nc(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=n.Tn(a.kind);kc.Wt.vt(l,c)}return n.cn()}kn(e){const t=new pf;return kc.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const n=new pf;return kc.Wt.vt($c(this.databaseId,t),n.Tn(function(l){const c=Nc(l);return c.length===0?0:c[c.length-1].kind}(e))),n.cn()}Bn(e,t,n){if(n===null)return[];let a=[];a.push(new pf);let l=0;for(const c of Nc(e)){const d=n[l++];for(const m of a)if(this.Kn(t,c.fieldPath)&&nm(d))a=this.Wn(a,c,d);else{const g=m.Tn(c.kind);kc.Wt.vt(d,g)}}return this.Gn(a)}Nn(e,t,n){return this.Bn(e,t,n.position)}Gn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].cn();return t}Wn(e,t,n){const a=[...e],l=[];for(const c of n.arrayValue.values||[])for(const d of a){const m=new pf;m.seed(d.cn()),kc.Wt.vt(c,m.Tn(t.kind)),l.push(m)}return l}Kn(e,t){return!!e.filters.find(n=>n instanceof dt&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,t){const n=gf(e),a=Xu(e);return(t?n.J(Ov,IDBKeyRange.bound(t,t)):n.J()).next(l=>{const c=[];return W.forEach(l,d=>a.get([d.indexId,this.uid]).next(m=>{c.push(function(y,E){const T=E?new Yf(E.sequenceNumber,new br(Wc(E.readTime),new Te(la(E.documentKey)),E.largestBatchId)):Yf.empty(),V=y.fields.map(([L,H])=>new ag(Qt.fromServerFormat(L),H));return new Rg(y.indexId,y.collectionGroup,V,T)}(d,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((n,a)=>{const l=n.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Ge(n.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,n){const a=gf(e),l=Xu(e);return this.zn(e).next(c=>a.J(Ov,IDBKeyRange.bound(t,t)).next(d=>W.forEach(d,m=>l.put(YA(m.indexId,this.uid,c,n)))))}updateIndexEntries(e,t){const n=new Map;return W.forEach(t,(a,l)=>{const c=n.get(a.collectionGroup);return(c?W.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next(d=>(n.set(a.collectionGroup,d),W.forEach(d,m=>this.jn(e,a,m).next(g=>{const y=this.Hn(l,m);return g.isEqual(y)?W.resolve():this.Jn(e,l,m,g,y)}))))})}Yn(e,t,n,a){return Wu(e).put(a.Vn(this.uid,this.Un(n,t.key),t.key))}Zn(e,t,n,a){return Wu(e).delete(a.mn(this.uid,this.Un(n,t.key),t.key))}jn(e,t,n){const a=Wu(e);let l=new Nt(cl);return a.te({index:GR,range:IDBKeyRange.only([n.indexId,this.uid,mg(this.Un(n,t))])},(c,d)=>{l=l.add(new Vc(n.indexId,t,eI(d.arrayValue),eI(d.directionalValue)))}).next(()=>l)}Hn(e,t){let n=new Nt(cl);const a=this.$n(t,e);if(a==null)return n;const l=Dv(t);if(l!=null){const c=e.data.field(l.fieldPath);if(nm(c))for(const d of c.arrayValue.values||[])n=n.add(new Vc(t.indexId,e.key,this.kn(d),a))}else n=n.add(new Vc(t.indexId,e.key,Yp,a));return n}Jn(e,t,n,a,l){me(iI,"Updating index entries for document '%s'",t.key);const c=[];return function(m,g,y,E,T){const V=m.getIterator(),L=g.getIterator();let H=Qu(V),F=Qu(L);for(;H||F;){let Z=!1,ne=!1;if(H&&F){const le=y(H,F);le<0?ne=!0:le>0&&(Z=!0)}else H!=null?ne=!0:Z=!0;Z?(E(F),F=Qu(L)):ne?(T(H),H=Qu(V)):(H=Qu(V),F=Qu(L))}}(a,l,cl,d=>{c.push(this.Yn(e,t,n,d))},d=>{c.push(this.Zn(e,t,n,d))}),W.waitFor(c)}zn(e){let t=1;return Xu(e).te({index:$R,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((c,d)=>cl(c,d)).filter((c,d,m)=>!d||cl(c,m[d-1])!==0);const a=[];a.push(e);for(const c of n){const d=cl(c,e),m=cl(c,t);if(d===0)a[0]=e.Rn();else if(d>0&&m<0)a.push(c),a.push(c.Rn());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Xn(a[c],a[c+1]))return[];const d=a[c].mn(this.uid,Yp,Te.empty()),m=a[c+1].mn(this.uid,Yp,Te.empty());l.push(IDBKeyRange.bound(d,m))}return l}Xn(e,t){return cl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sI)}getMinOffset(e,t){return W.mapArray(this.xn(t),n=>this.On(e,n).next(a=>a||xe(44426))).next(sI)}}function rI(i){return qn(i,Zf)}function Wu(i){return qn(i,Vf)}function gf(i){return qn(i,YE)}function Xu(i){return qn(i,kf)}function sI(i){Oe(i.length!==0,28825);let e=i[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<i.length;n++){const a=i[n].indexState.offset;GE(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new br(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WC=41943040;class bi{static withCacheSize(e){return new bi(e,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i,e,t){const n=i.store(ys),a=i.store(Eh),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=n.te({range:c},(y,E,T)=>(d++,T.delete()));l.push(m.next(()=>{Oe(d===1,47070,{batchId:t.batchId})}));const g=[];for(const y of t.mutations){const E=FR(e,y.key.path,t.batchId);l.push(a.delete(E)),g.push(y.key)}return W.waitFor(l).next(()=>g)}function Mg(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw xe(14731);e=i.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(WC,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);class v_{constructor(e,t,n,a){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=a,this.er={}}static St(e,t,n,a){Oe(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new v_(l,t,n,a)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).te({index:Uc,range:n},(a,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,n,a){const l=sh(e),c=ul(e);return c.add({}).next(d=>{Oe(typeof d=="number",49019);const m=new sb(d,t,n,a),g=function(V,L,H){const F=H.baseMutations.map(ne=>sm(V.wt,ne)),Z=H.mutations.map(ne=>sm(V.wt,ne));return{userId:L,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:F,mutations:Z}}(this.serializer,this.userId,m),y=[];let E=new Nt((T,V)=>Ge(T.canonicalString(),V.canonicalString()));for(const T of a){const V=FR(this.userId,T.key.path,d);E=E.add(T.key.path.popLast()),y.push(c.put(g)),y.push(l.put(V,VM))}return E.forEach(T=>{y.push(this.indexManager.addToCollectionParentIndex(e,T))}),e.addOnCommittedListener(()=>{this.er[d]=m.keys()}),W.waitFor(y).next(()=>m)})}lookupMutationBatch(e,t){return ul(e).get(t).next(n=>n?(Oe(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),Oc(this.serializer,n)):null)}tr(e,t){return this.er[t]?W.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(n=>{if(n){const a=n.keys();return this.er[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=IDBKeyRange.lowerBound([this.userId,n]);let l=null;return ul(e).te({index:Uc,range:a},(c,d,m)=>{d.userId===this.userId&&(Oe(d.batchId>=n,47524,{nr:n}),l=Oc(this.serializer,d)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=El;return ul(e).te({index:Uc,range:t,reverse:!0},(a,l,c)=>{n=l.batchId,c.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,El],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).J(Uc,t).next(n=>n.map(a=>Oc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=og(this.userId,t.path),a=IDBKeyRange.lowerBound(n),l=[];return sh(e).te({range:a},(c,d,m)=>{const[g,y,E]=c,T=la(y);if(g===this.userId&&t.path.isEqual(T))return ul(e).get(E).next(V=>{if(!V)throw xe(61480,{rr:c,batchId:E});Oe(V.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:V.userId,batchId:E}),l.push(Oc(this.serializer,V))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nt(Ge);const a=[];return t.forEach(l=>{const c=og(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=sh(e).te({range:d},(g,y,E)=>{const[T,V,L]=g,H=la(V);T===this.userId&&l.path.isEqual(H)?n=n.add(L):E.done()});a.push(m)}),W.waitFor(a).next(()=>this.ir(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1,l=og(this.userId,n),c=IDBKeyRange.lowerBound(l);let d=new Nt(Ge);return sh(e).te({range:c},(m,g,y)=>{const[E,T,V]=m,L=la(T);E===this.userId&&n.isPrefixOf(L)?L.length===a&&(d=d.add(V)):y.done()}).next(()=>this.ir(e,d))}ir(e,t){const n=[],a=[];return t.forEach(l=>{a.push(ul(e).get(l).next(c=>{if(c===null)throw xe(35274,{batchId:l});Oe(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),n.push(Oc(this.serializer,c))}))}),W.waitFor(a).next(()=>n)}removeMutationBatch(e,t){return XC(e.he,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),W.forEach(n,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return W.resolve();const n=IDBKeyRange.lowerBound(function(c){return[c]}(this.userId)),a=[];return sh(e).te({range:n},(l,c,d)=>{if(l[0]===this.userId){const m=la(l[1]);a.push(m)}else d.done()}).next(()=>{Oe(a.length===0,56720,{_r:a.map(l=>l.canonicalString())})})})}containsKey(e,t){return JC(e,this.userId,t)}ar(e){return ZC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:El,lastStreamToken:""})}}function JC(i,e,t){const n=og(e,t.path),a=n[1],l=IDBKeyRange.lowerBound(n);let c=!1;return sh(i).te({range:l,ee:!0},(d,m,g)=>{const[y,E,T]=d;y===e&&E===a&&(c=!0),g.done()}).next(()=>c)}function ul(i){return qn(i,ys)}function sh(i){return qn(i,Eh)}function ZC(i){return qn(i,Xf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xc(0)}static lr(){return new Xc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const n=new Xc(t.highestTargetId);return t.highestTargetId=n.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>ke.fromTimestamp(new Xt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.hr(e).next(a=>(a.highestListenSequenceNumber=t,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Pr(e,a)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(n=>(n.targetCount+=1,this.Ir(t,n),this.Pr(e,n))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ju(e).delete(t.targetId)).next(()=>this.hr(e)).next(n=>(Oe(n.targetCount>0,8065),n.targetCount-=1,this.Pr(e,n)))}removeTargets(e,t,n){let a=0;const l=[];return Ju(e).te((c,d)=>{const m=Sf(d);m.sequenceNumber<=t&&n.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))}).next(()=>W.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Ju(e).te((n,a)=>{const l=Sf(a);t(l)})}hr(e){return oI(e).get(Ng).next(t=>(Oe(t!==null,2888),t))}Pr(e,t){return oI(e).put(Ng,t)}Tr(e,t){return Ju(e).put(KC(this.serializer,t))}Ir(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const n=Gc(t),a=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let l=null;return Ju(e).te({range:a,index:HR},(c,d,m)=>{const g=Sf(d);Am(t,g.target)&&(l=g,m.done())}).next(()=>l)}addMatchingKeys(e,t,n){const a=[],l=fl(e);return t.forEach(c=>{const d=Ti(c.path);a.push(l.put({targetId:n,path:d})),a.push(this.referenceDelegate.addReference(e,n,c))}),W.waitFor(a)}removeMatchingKeys(e,t,n){const a=fl(e);return W.forEach(t,l=>{const c=Ti(l.path);return W.waitFor([a.delete([n,c]),this.referenceDelegate.removeReference(e,n,l)])})}removeMatchingKeysForTargetId(e,t){const n=fl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(a)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),a=fl(e);let l=et();return a.te({range:n,ee:!0},(c,d,m)=>{const g=la(c[1]),y=new Te(g);l=l.add(y)}).next(()=>l)}containsKey(e,t){const n=Ti(t.path),a=IDBKeyRange.bound([n],[VR(n)],!1,!0);let l=0;return fl(e).te({index:QE,ee:!0,range:a},([c,d],m,g)=>{c!==0&&(l++,g.done())}).next(()=>l>0)}Rt(e,t){return Ju(e).get(t).next(n=>n?Sf(n):null)}}function Ju(i){return qn(i,bh)}function oI(i){return qn(i,qc)}function fl(i){return qn(i,Th)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="LruGarbageCollector",i4=1048576;function cI([i,e],[t,n]){const a=Ge(i,t);return a===0?Ge(e,n):a}class r4{constructor(e){this.Er=e,this.buffer=new Nt(cI),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();cI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class e1{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(lI,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jl(t)?me(lI,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.mr(3e5)})}}class s4{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Ji.le);const n=new r4(t);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(aI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aI):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(n=E,d=Date.now(),this.removeTargets(e,n,t))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,n))).next(E=>(g=Date.now(),th()<=ot.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function t1(i,e){return new s4(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t){this.db=e,this.garbageCollector=t1(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}Sr(e){let t=0;return this.yr(e,n=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(n,a)=>t(a))}addReference(e,t,n){return Wp(e,n)}removeReference(e,t,n){return Wp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Wp(e,t)}Dr(e,t){return function(a,l){let c=!1;return ZC(a).ne(d=>JC(a,d,l).next(m=>(m&&(c=!0),W.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.br(e,(c,d)=>{if(d<=t){const m=this.Dr(e,c).next(g=>{if(!g)return l++,n.getEntry(e,c).next(()=>(n.removeEntry(c,ke.min()),fl(e).delete(function(E){return[0,Ti(E.path)]}(c))))});a.push(m)}}).next(()=>W.waitFor(a)).next(()=>n.apply(e)).next(()=>l)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Wp(e,t)}br(e,t){const n=fl(e);let a,l=Ji.le;return n.te({index:QE},([c,d],{path:m,sequenceNumber:g})=>{c===0?(l!==Ji.le&&t(new Te(la(a)),l),l=g,a=m):l=Ji.le}).next(()=>{l!==Ji.le&&t(new Te(la(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wp(i,e){return fl(i).put(function(n,a){return{targetId:0,path:Ti(n.path),sequenceNumber:a}}(e,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?W.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return wc(e).put(n)}removeEntry(e,t,n){return wc(e).delete(function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],kg(c),d[d.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.vr(e,n)))}getEntry(e,t){let n=Ft.newInvalidDocument(t);return wc(e).te({index:lg,range:IDBKeyRange.only(_f(t))},(a,l)=>{n=this.Cr(t,l)}).next(()=>n)}Fr(e,t){let n={size:0,document:Ft.newInvalidDocument(t)};return wc(e).te({index:lg,range:IDBKeyRange.only(_f(t))},(a,l)=>{n={document:this.Cr(t,l),size:Mg(l)}}).next(()=>n)}getEntries(e,t){let n=er();return this.Mr(e,t,(a,l)=>{const c=this.Cr(a,l);n=n.insert(a,c)}).next(()=>n)}Or(e,t){let n=er(),a=new jt(Te.comparator);return this.Mr(e,t,(l,c)=>{const d=this.Cr(l,c);n=n.insert(l,d),a=a.insert(l,Mg(c))}).next(()=>({documents:n,Nr:a}))}Mr(e,t,n){if(t.isEmpty())return W.resolve();let a=new Nt(dI);t.forEach(m=>a=a.add(m));const l=IDBKeyRange.bound(_f(a.first()),_f(a.last())),c=a.getIterator();let d=c.getNext();return wc(e).te({index:lg,range:l},(m,g,y)=>{const E=Te.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&dI(d,E)<0;)n(d,null),d=c.getNext();d&&d.isEqual(E)&&(n(d,g),d=c.hasNext()?c.getNext():null),d?y.H(_f(d)):y.done()}).next(()=>{for(;d;)n(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,n,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),kg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wc(e).J(IDBKeyRange.bound(d,m,!0)).next(g=>{l==null||l.incrementDocumentReadCount(g.length);let y=er();for(const E of g){const T=this.Cr(Te.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);T.isFoundDocument()&&(Sm(t,T)||a.has(T.key))&&(y=y.insert(T.key,T))}return y})}getAllFromCollectionGroup(e,t,n,a){let l=er();const c=hI(t,n),d=hI(t,br.max());return wc(e).te({index:qR,range:IDBKeyRange.bound(c,d,!0)},(m,g,y)=>{const E=this.Cr(Te.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(E.key,E),l.size===a&&y.done()}).next(()=>l)}newChangeBuffer(e){return new l4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uI(e).get(Pv).next(t=>(Oe(!!t,20021),t))}vr(e,t){return uI(e).put(Pv,t)}Cr(e,t){if(t){const n=GL(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(ke.min())))return n}return Ft.newInvalidDocument(e)}}function i1(i){return new o4(i)}class l4 extends n1{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new go(n=>n.toString(),(n,a)=>n.isEqual(a))}applyChanges(e){const t=[];let n=0,a=new Nt((l,c)=>Ge(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const d=this.Lr.get(l);if(t.push(this.Br.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=KA(this.Br.serializer,c);a=a.add(l.path.popLast());const g=Mg(m);n+=g-d.size,t.push(this.Br.addEntry(e,l,m))}else if(n-=d.size,this.trackRemovals){const m=KA(this.Br.serializer,c.convertToNoDocument(ke.min()));t.push(this.Br.addEntry(e,l,m))}}),a.forEach(l=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Br.updateMetadata(e,n)),W.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(n=>(this.Lr.set(t,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:n,Nr:a})=>(a.forEach((l,c)=>{this.Lr.set(l,{size:c,readTime:n.get(l).readTime})}),n))}}function uI(i){return qn(i,Jf)}function wc(i){return qn(i,xg)}function _f(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hI(i,e){const t=e.documentKey.path.toArray();return[i,kg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function dI(i,e){const t=i.path.toArray(),n=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<n.length-2;++l)if(a=Ge(t[l],n[l]),a)return a;return a=Ge(t.length,n.length),a||(a=Ge(t[t.length-2],n[n.length-2]),a||Ge(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&Uf(n.mutation,a,Zi.empty(),Xt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,et()).next(()=>n))}getLocalViewOfDocuments(e,t,n=et()){const a=ca();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(l=>{let c=Af();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const n=ca();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,et()))}populateOverlays(e,t,n){const a=[];return n.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,n,a){let l=er();const c=Lf(),d=function(){return Lf()}();return t.forEach((m,g)=>{const y=n.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof _o)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Uf(y.mutation,g,y.mutation.getFieldMask(),Xt.now())):c.set(g.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,y)=>c.set(g,y)),t.forEach((g,y)=>{var E;return d.set(g,new c4(y,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const n=Lf();let a=new jt((c,d)=>c-d),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let y=n.get(m)||Zi.empty();y=d.applyToLocalView(g,y),n.set(m,y);const E=(a.get(d.batchId)||et()).add(m);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,E=bC();y.forEach(T=>{if(!l.has(T)){const V=CC(t.get(T),n.get(T));V!==null&&E.set(T,V),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return W.waitFor(c)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-l.size):W.resolve(ca());let d=vh,m=l;return c.next(g=>W.forEach(g,(y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(y)?W.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{m=m.insert(y,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,et())).next(y=>({batchId:d,changes:EC(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(n=>{let a=Af();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const l=t.collectionGroup;let c=Af();return this.indexManager.getCollectionParents(e,l).next(d=>W.forEach(d,m=>{const g=function(E,T){return new po(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,n,a).next(y=>{y.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,n,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,a))).next(c=>{l.forEach((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Ft.newInvalidDocument(y)))});let d=Af();return c.forEach((m,g)=>{const y=l.get(m);y!==void 0&&Uf(y.mutation,g,Zi.empty(),Xt.now()),Sm(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return W.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:bn(a.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:ub(a.bundledQuery),readTime:bn(a.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.overlays=new jt(Te.comparator),this.Qr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ca();return W.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&n.set(a,l)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,l)=>{this.bt(e,t,l)}),W.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(n)),W.resolve()}getOverlaysForCollection(e,t,n){const a=ca(),l=t.length+1,c=new Te(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>n&&a.set(m.getKey(),m)}return W.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let l=new jt((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let y=l.get(g.largestBatchId);y===null&&(y=ca(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=ca(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=a)););return W.resolve(d)}bt(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new ob(t,n));let l=this.Qr.get(t);l===void 0&&(l=et(),this.Qr.set(t,l)),this.Qr.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.$r=new Nt(Xn.Ur),this.Kr=new Nt(Xn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Xn(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.zr(new Xn(e,t))}jr(e,t){e.forEach(n=>this.removeReference(n,t))}Hr(e){const t=new Te(new ht([])),n=new Xn(t,e),a=new Xn(t,e+1),l=[];return this.Kr.forEachInRange([n,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Te(new ht([])),n=new Xn(t,e),a=new Xn(t,e+1);let l=et();return this.Kr.forEachInRange([n,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Xn(e,0),n=this.$r.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Xn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Te.comparator(e.key,t.key)||Ge(e.Zr,t.Zr)}static Wr(e,t){return Ge(e.Zr,t.Zr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Nt(Xn.Ur)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sb(l,t,n,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Xn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return W.resolve(c)}lookupMutationBatch(e,t){return W.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.ti(n),l=a<0?0:a;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?El:this.nr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xn(t,0),a=new Xn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([n,a],c=>{const d=this.ei(c.Zr);l.push(d)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nt(Ge);return t.forEach(a=>{const l=new Xn(a,0),c=new Xn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{n=n.add(d.Zr)})}),W.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let l=n;Te.isDocumentKey(l)||(l=l.child(""));const c=new Xn(new Te(l),0);let d=new Nt(Ge);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!n.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Zr)),!0)},c),W.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Oe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return W.forEach(t.mutations,a=>{const l=new Xn(a.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new Xn(t,0),a=this.Xr.firstAfterOrEqual(n);return W.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.ii=e,this.docs=function(){return new jt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return W.resolve(n?n.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let n=er();return t.forEach(a=>{const l=this.docs.get(a);n=n.insert(a,l?l.document.mutableCopy():Ft.newInvalidDocument(a))}),W.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let l=er();const c=t.path,d=new Te(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||GE(LR(y),n)<=0||(a.has(y.key)||Sm(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,n,a){xe(9500)}si(e,t){return W.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new p4(this)}getSize(e){return W.resolve(this.size)}}class p4 extends n1{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),W.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.persistence=e,this.oi=new go(t=>Gc(t),Am),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this._i=0,this.ai=new fb,this.targetCount=0,this.ui=Xc.cr()}forEachTarget(e,t){return this.oi.forEach((n,a)=>t(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),W.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Xc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Tr(t),W.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,n){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&n.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),W.waitFor(l).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return W.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),W.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return W.resolve(n)}containsKey(e,t){return W.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t){this.ci={},this.overlays={},this.li=new Ji(0),this.hi=!1,this.hi=!0,this.Pi=new d4,this.referenceDelegate=e(this),this.Ti=new g4(this),this.indexManager=new e4,this.remoteDocumentCache=function(a){return new m4(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new GC(t),this.Ei=new u4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new f4(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){me("MemoryPersistence","Starting transaction:",e);const a=new _4(this.li.next());return this.referenceDelegate.di(),n(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return W.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class _4 extends jR{constructor(e){super(),this.currentSequenceNumber=e}}class E_{constructor(e){this.persistence=e,this.Vi=new fb,this.mi=null}static fi(e){return new E_(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),W.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,n=>{const a=Te.fromPath(n);return this.pi(e,a).next(l=>{l||t.removeEntry(a,ke.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(n=>{n?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return W.or([()=>W.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Lg{constructor(e,t){this.persistence=e,this.yi=new go(n=>Ti(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=t1(this,t)}static fi(e,t){return new Lg(e,t)}di(){}Ai(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}Sr(e){let t=0;return this.yr(e,n=>{t++}).next(()=>t)}yr(e,t){return W.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(l=>l?W.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(d=>{d||(n++,l.removeEntry(c,ke.min()))})).next(()=>l.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),W.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ug(e.data.value)),t}Dr(e,t,n){return W.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return W.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.serializer=e}q(e,t,n,a){const l=new c_("createOrUpgrade",t);n<1&&a>=1&&(function(m){m.createObjectStore(wm)}(e),function(m){m.createObjectStore(Xf,{keyPath:kM}),m.createObjectStore(ys,{keyPath:wA,autoIncrement:!0}).createIndex(Uc,AA,{unique:!0}),m.createObjectStore(Eh)}(e),fI(e),function(m){m.createObjectStore(Dc)}(e));let c=W.resolve();return n<3&&a>=3&&(n!==0&&(function(m){m.deleteObjectStore(Th),m.deleteObjectStore(bh),m.deleteObjectStore(qc)}(e),fI(e)),c=c.next(()=>function(m){const g=m.store(qc),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return g.put(Ng,y)}(l))),n<4&&a>=4&&(n!==0&&(c=c.next(()=>function(m,g){return g.store(ys).J().next(E=>{m.deleteObjectStore(ys),m.createObjectStore(ys,{keyPath:wA,autoIncrement:!0}).createIndex(Uc,AA,{unique:!0});const T=g.store(ys),V=E.map(L=>T.put(L));return W.waitFor(V)})}(e,l))),c=c.next(()=>{(function(m){m.createObjectStore(wh,{keyPath:qM})})(e)})),n<5&&a>=5&&(c=c.next(()=>this.wi(l))),n<6&&a>=6&&(c=c.next(()=>(function(m){m.createObjectStore(Jf)}(e),this.Si(l)))),n<7&&a>=7&&(c=c.next(()=>this.bi(l))),n<8&&a>=8&&(c=c.next(()=>this.Di(e,l))),n<9&&a>=9&&(c=c.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&a>=10&&(c=c.next(()=>this.Ci(l))),n<11&&a>=11&&(c=c.next(()=>{(function(m){m.createObjectStore(u_,{keyPath:HM})})(e),function(m){m.createObjectStore(h_,{keyPath:$M})}(e)})),n<12&&a>=12&&(c=c.next(()=>{(function(m){const g=m.createObjectStore(d_,{keyPath:JM});g.createIndex(kv,ZM,{unique:!1}),g.createIndex(KR,eL,{unique:!1})})(e)})),n<13&&a>=13&&(c=c.next(()=>function(m){const g=m.createObjectStore(xg,{keyPath:MM});g.createIndex(lg,LM),g.createIndex(qR,UM)}(e)).next(()=>this.Fi(e,l)).next(()=>e.deleteObjectStore(Dc))),n<14&&a>=14&&(c=c.next(()=>this.Mi(e,l))),n<15&&a>=15&&(c=c.next(()=>function(m){m.createObjectStore(YE,{keyPath:GM,autoIncrement:!0}).createIndex(Ov,KM,{unique:!1}),m.createObjectStore(kf,{keyPath:QM}).createIndex($R,YM,{unique:!1}),m.createObjectStore(Vf,{keyPath:WM}).createIndex(GR,XM,{unique:!1})}(e))),n<16&&a>=16&&(c=c.next(()=>{t.objectStore(kf).clear()}).next(()=>{t.objectStore(Vf).clear()})),n<17&&a>=17&&(c=c.next(()=>{(function(m){m.createObjectStore(WE,{keyPath:tL})})(e)})),n<18&&a>=18&&gS()&&(c=c.next(()=>{t.objectStore(kf).clear()}).next(()=>{t.objectStore(Vf).clear()})),c}Si(e){let t=0;return e.store(Dc).te((n,a)=>{t+=Mg(a)}).next(()=>{const n={byteSize:t};return e.store(Jf).put(Pv,n)})}wi(e){const t=e.store(Xf),n=e.store(ys);return t.J().next(a=>W.forEach(a,l=>{const c=IDBKeyRange.bound([l.userId,El],[l.userId,l.lastAcknowledgedBatchId]);return n.J(Uc,c).next(d=>W.forEach(d,m=>{Oe(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=Oc(this.serializer,m);return XC(e,l.userId,g).next(()=>{})}))}))}bi(e){const t=e.store(Th),n=e.store(Dc);return e.store(qc).get(Ng).next(a=>{const l=[];return n.te((c,d)=>{const m=new ht(c),g=function(E){return[0,Ti(E)]}(m);l.push(t.get(g).next(y=>y?W.resolve():(E=>t.put({targetId:0,path:Ti(E),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>W.waitFor(l))})}Di(e,t){e.createObjectStore(Zf,{keyPath:FM});const n=t.store(Zf),a=new db,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return n.put({collectionId:d,parent:Ti(m)})}};return t.store(Dc).te({ee:!0},(c,d)=>{const m=new ht(c);return l(m.popLast())}).next(()=>t.store(Eh).te({ee:!0},([c,d,m],g)=>{const y=la(d);return l(y.popLast())}))}Ci(e){const t=e.store(bh);return t.te((n,a)=>{const l=Sf(a),c=KC(this.serializer,l);return t.put(c)})}Fi(e,t){const n=t.store(Dc),a=[];return n.te((l,c)=>{const d=t.store(xg),m=function(E){return E.document?new Te(ht.fromString(E.document.name).popFirst(5)):E.noDocument?Te.fromSegments(E.noDocument.path):E.unknownDocument?Te.fromSegments(E.unknownDocument.path):xe(36783)}(c).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))}).next(()=>W.waitFor(a))}Mi(e,t){const n=t.store(ys),a=i1(this.serializer),l=new mb(E_.fi,this.serializer.wt);return n.J().next(c=>{const d=new Map;return c.forEach(m=>{var g;let y=(g=d.get(m.userId))!==null&&g!==void 0?g:et();Oc(this.serializer,m).keys().forEach(E=>y=y.add(E)),d.set(m.userId,y)}),W.forEach(d,(m,g)=>{const y=new Jn(g),E=y_.St(this.serializer,y),T=l.getIndexManager(y),V=v_.St(y,this.serializer,T,l.referenceDelegate);return new r1(a,V,E,T).recalculateAndSaveOverlaysForDocumentKeys(new Vv(t,Ji.le),m).next()})})}}function fI(i){i.createObjectStore(Th,{keyPath:BM}).createIndex(QE,zM,{unique:!0}),i.createObjectStore(bh,{keyPath:"targetId"}).createIndex(HR,jM,{unique:!0}),i.createObjectStore(qc)}const hl="IndexedDbPersistence",dv=18e5,fv=5e3,mv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",s1="main";class pb{constructor(e,t,n,a,l,c,d,m,g,y,E=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.xi=l,this.window=c,this.document=d,this.Oi=g,this.Ni=y,this.Bi=E,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=T=>Promise.resolve(),!pb.C())throw new fe(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a4(this,a),this.Ui=t+s1,this.serializer=new GC(m),this.Ki=new ua(this.Ui,this.Bi,new y4(this.serializer)),this.Pi=new QL,this.Ti=new n4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=i1(this.serializer),this.Ei=new KL,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,y===!1&&En(hl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(re.FAILED_PRECONDITION,mv);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Ji(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(jl(e))return me(hl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me(hl,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return yf(e).get(Ku).next(t=>W.resolve(this.ts(t)))}ns(e){return Xp(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,dv)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=qn(t,wh);return n.J().next(a=>{const l=this._s(a,dv),c=a.filter(d=>l.indexOf(d)===-1);return W.forEach(c,d=>n.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?W.resolve(!0):yf(e).get(Ku).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,fv)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new fe(re.FAILED_PRECONDITION,mv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xp(e).J().next(n=>this._s(n,fv).find(a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&me(hl,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[wm,wh],e=>{const t=new Vv(e,Ji.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(n=>this.ss(n.updateTimeMs,t)&&!this.cs(n.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Xp(e).J().next(t=>this._s(t,dv).map(n=>n.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return v_.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new t4(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return y_.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,n){me(hl,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=function(m){return m===18?rL:m===17?XR:m===16?iL:m===15?XE:m===14?WR:m===13?YR:m===12?nL:m===11?QR:void xe(60245)}(this.Bi);let c;return this.Ki.runTransaction(e,a,l,d=>(c=new Vv(d,this.li?this.li.next():Ji.le),t==="readwrite-primary"?this.Yi(c).next(m=>!!m||this.Zi(c)).next(m=>{if(!m)throw En(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new fe(re.FAILED_PRECONDITION,UR);return n(c)}).next(m=>this.es(c).next(()=>m)):this.Es(c).next(()=>n(c)))).then(d=>(c.raiseOnCommittedEvent(),d))}Es(e){return yf(e).get(Ku).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,fv)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(re.FAILED_PRECONDITION,mv)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yf(e).put(Ku,t)}static C(){return ua.C()}Xi(e){const t=yf(e);return t.get(Ku).next(n=>this.ts(n)?(me(hl,"Releasing primary lease."),t.delete(Ku)):W.resolve())}ss(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(En(`Detected an update time that is in the future: ${e} > ${n}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;pS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const n=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return me(hl,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return En(hl,"Failed to get zombied client id.",n),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){En("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yf(i){return qn(i,wm)}function Xp(i){return qn(i,wh)}function gb(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.ds=n,this.As=a}static Rs(e,t){let n=et(),a=et();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new _b(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return pS()?8:BR(nn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(e,t,a,n).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new v4;return this.bs(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,n,a){return n.documentReadCount<this.gs?(th()<=ot.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",nh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(th()<=ot.DEBUG&&me("QueryEngine","Query:",nh(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(th()<=ot.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",nh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):W.resolve())}ws(e,t){if(LA(t))return W.resolve(null);let n=Mi(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Og(t,null,"F"),n=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(l=>{const c=et(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,n).next(m=>{const g=this.vs(t,d);return this.Cs(t,g,c,m.readTime)?this.ws(e,Og(t,null,"F")):this.Fs(e,g,t,m)}))})))}Ss(e,t,n,a){return LA(t)||a.isEqual(ke.min())?W.resolve(null):this.ys.getDocuments(e,n).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,n,a)?W.resolve(null):(th()<=ot.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nh(t)),this.Fs(e,c,t,MR(a,vh)).next(d=>d))})}vs(e,t){let n=new Nt(yC(e));return t.forEach((a,l)=>{Sm(e,l)&&(n=n.add(l))}),n}Cs(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,t,n){return th()<=ot.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",nh(t)),this.ys.getDocumentsMatchingQuery(e,t,br.min(),n)}Fs(e,t,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="LocalStore",E4=3e8;class b4{constructor(e,t,n,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new jt(Ge),this.Os=new go(l=>Gc(l),Am),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r1(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function o1(i,e,t,n){return new b4(i,e,t,n)}async function l1(i,e){const t=Ie(i);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(n))).next(l=>{const c=[],d=[];let m=et();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(n,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function T4(i,e){const t=Ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const E=g.batch,T=E.keys();let V=W.resolve();return T.forEach(L=>{V=V.next(()=>y.getEntry(m,L)).next(H=>{const F=g.docVersions.get(L);Oe(F!==null,48541),H.version.compareTo(F)<0&&(E.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),y.addEntry(H)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(t,n,e,l).next(()=>l.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(d){let m=et();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function c1(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function w4(i,e){const t=Ie(i),n=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((y,E)=>{const T=a.get(E);if(!T)return;d.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,E)));let V=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(un.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(y.resumeToken,n)),a=a.insert(E,V),function(H,F,Z){return H.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=E4?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(T,V,y)&&d.push(t.Ti.updateTargetData(l,V))});let m=er(),g=et();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(u1(l,c,e.documentUpdates).next(y=>{m=y.qs,g=y.Qs})),!n.isEqual(ke.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(E=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,n));d.push(y)}return W.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.xs=a,l))}function u1(i,e,t){let n=et(),a=et();return t.forEach(l=>n=n.add(l)),e.getEntries(i,n).next(l=>{let c=er();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(yb,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function A4(i,e){const t=Ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=El),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Nh(i,e){const t=Ie(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.Ti.getTargetData(n,e).next(l=>l?(a=l,W.resolve(a)):t.Ti.allocateTargetId(n).next(c=>(a=new to(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Ti.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.xs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(n.targetId,n),t.Os.set(e,n.targetId)),n})}async function Dh(i,e,t){const n=Ie(i),a=n.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,c=>n.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!jl(c))throw c;me(yb,`Failed to update sequence numbers for target ${e}: ${c}`)}n.xs=n.xs.remove(e),n.Os.delete(a.target)}function Ug(i,e,t){const n=Ie(i);let a=ke.min(),l=et();return n.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,y){const E=Ie(m),T=E.Os.get(y);return T!==void 0?W.resolve(E.xs.get(T)):E.Ti.getTargetData(g,y)}(n,c,Mi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>n.Ms.getDocumentsMatchingQuery(c,e,t?a:ke.min(),t?l:et())).next(d=>(f1(n,_C(e),d),{documents:d,$s:l})))}function h1(i,e){const t=Ie(i),n=Ie(t.Ti),a=t.xs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>n.Rt(l,e).next(c=>c?c.target:null))}function d1(i,e){const t=Ie(i),n=t.Ns.get(e)||ke.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Bs.getAllFromCollectionGroup(a,e,MR(n,vh),Number.MAX_SAFE_INTEGER)).then(a=>(f1(t,e,a),a))}function f1(i,e,t){let n=i.Ns.get(e)||ke.min();t.forEach((a,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)}),i.Ns.set(e,n)}async function I4(i,e,t,n){const a=Ie(i);let l=et(),c=er();for(const g of t){const y=e.Us(g.metadata.name);g.document&&(l=l.add(y));const E=e.Ks(g);E.setReadTime(e.Ws(g.metadata.readTime)),c=c.insert(y,E)}const d=a.Bs.newChangeBuffer({trackRemovals:!0}),m=await Nh(a,function(y){return Mi(Gh(ht.fromString(`__bundle__/docs/${y}`)))}(n));return a.persistence.runTransaction("Apply bundle documents","readwrite",g=>u1(g,d,c).next(y=>(d.apply(g),y)).next(y=>a.Ti.removeMatchingKeysForTargetId(g,m.targetId).next(()=>a.Ti.addMatchingKeys(g,l,m.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(g,y.qs,y.Qs)).next(()=>y.qs)))}async function S4(i,e,t=et()){const n=await Nh(i,Mi(ub(e.bundledQuery))),a=Ie(i);return a.persistence.runTransaction("Save named query","readwrite",l=>{const c=bn(e.readTime);if(n.snapshotVersion.compareTo(c)>=0)return a.Ei.saveNamedQuery(l,e);const d=n.withResumeToken(un.EMPTY_BYTE_STRING,c);return a.xs=a.xs.insert(d.targetId,d),a.Ti.updateTargetData(l,d).next(()=>a.Ti.removeMatchingKeysForTargetId(l,n.targetId)).next(()=>a.Ti.addMatchingKeys(l,t,n.targetId)).next(()=>a.Ei.saveNamedQuery(l,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firestore_clients";function mI(i,e){return`${m1}_${i}_${e}`}const p1="firestore_mutations";function pI(i,e,t){let n=`${p1}_${i}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}const g1="firestore_targets";function pv(i,e){return`${g1}_${i}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="SharedClientState";class jg{constructor(e,t,n,a){this.user=e,this.batchId=t,this.state=n,this.error=a}static Gs(e,t,n){const a=JSON.parse(n);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new fe(a.error.code,a.error.message))),c?new jg(e,t,a.state,l):(En(na,`Failed to parse mutation state for ID '${t}': ${n}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jf{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Gs(e,t){const n=JSON.parse(t);let a,l=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return l&&n.error&&(l=typeof n.error.message=="string"&&typeof n.error.code=="string",l&&(a=new fe(n.error.code,n.error.message))),l?new jf(e,n.state,a):(En(na,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const n=JSON.parse(t);let a=typeof n=="object"&&n.activeTargetIds instanceof Array,l=nb();for(let c=0;a&&c<n.activeTargetIds.length;++c)a=zR(n.activeTargetIds[c]),l=l.add(n.activeTargetIds[c]);return a?new Bg(e,l):(En(na,`Failed to parse client data for instance '${e}': ${t}`),null)}}class vb{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new vb(t.clientId,t.onlineState):(En(na,`Failed to parse online state: ${e}`),null)}}class Wv{constructor(){this.activeTargetIds=nb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gv{constructor(e,t,n,a,l){this.window=e,this.xi=t,this.persistenceKey=n,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new jt(Ge),this.started=!1,this.eo=[];const c=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.no=mI(this.persistenceKey,this.Js),this.ro=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new Wv),this.io=new RegExp(`^${m1}_${c}_([^_]*)$`),this.so=new RegExp(`^${p1}_${c}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${g1}_${c}_(\\d+)$`),this._o=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.ao=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const n of e){if(n===this.Js)continue;const a=this.getItem(mI(this.persistenceKey,n));if(a){const l=Bg.Gs(n,a);l&&(this.Xs=this.Xs.insert(l.clientId,l))}}this.uo();const t=this.storage.getItem(this._o);if(t){const n=this.co(t);n&&this.lo(n)}for(const n of this.eo)this.Zs(n);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((n,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,n){this.Po(e,t,n),this.To(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(pv(this.persistenceKey,e));if(a){const l=jf.Gs(e,a);l&&(n=l.state)}}return t&&this.Io.js(e),this.uo(),n}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pv(this.persistenceKey,e))}updateQueryState(e,t,n){this.Eo(e,t,n)}handleUserChange(e,t,n){t.forEach(a=>{this.To(a)}),this.currentUser=e,n.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return me(na,"READ",e,t),t}setItem(e,t){me(na,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){me(na,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(me(na,"EVENT",t.key,t.newValue),t.key===this.no)return void En("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const n=this.Vo(t.key);return this.mo(n,null)}{const n=this.fo(t.key,t.newValue);if(n)return this.mo(n.clientId,n)}}else if(this.so.test(t.key)){if(t.newValue!==null){const n=this.po(t.key,t.newValue);if(n)return this.yo(n)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const n=this.wo(t.key,t.newValue);if(n)return this.So(n)}}else if(t.key===this._o){if(t.newValue!==null){const n=this.co(t.newValue);if(n)return this.lo(n)}}else if(t.key===this.ro){const n=function(l){let c=Ji.le;if(l!=null)try{const d=JSON.parse(l);Oe(typeof d=="number",30636,{bo:l}),c=d}catch(d){En(na,"Failed to read sequence number from WebStorage",d)}return c}(t.newValue);n!==Ji.le&&this.sequenceNumberHandler(n)}else if(t.key===this.ao){const n=this.Do(t.newValue);await Promise.all(n.map(a=>this.syncEngine.vo(a)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,n){const a=new jg(this.currentUser,e,t,n),l=pI(this.persistenceKey,this.currentUser,e);this.setItem(l,a.zs())}To(e){const t=pI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,n){const a=pv(this.persistenceKey,e),l=new jf(e,t,n);this.setItem(a,l.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const n=this.Vo(e);return Bg.Gs(n,t)}po(e,t){const n=this.so.exec(e),a=Number(n[1]),l=n[2]!==void 0?n[2]:null;return jg.Gs(new Jn(l),a,t)}wo(e,t){const n=this.oo.exec(e),a=Number(n[1]);return jf.Gs(a,t)}co(e){return vb.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);me(na,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const n=t?this.Xs.insert(e,t):this.Xs.remove(e),a=this.ho(this.Xs),l=this.ho(n),c=[],d=[];return l.forEach(m=>{a.has(m)||c.push(m)}),a.forEach(m=>{l.has(m)||d.push(m)}),this.syncEngine.Mo(c,d).then(()=>{this.Xs=n})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=nb();return e.forEach((n,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class _1{constructor(){this.xo=new Wv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Wv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="ConnectivityMonitor";class _I{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(gI,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(gI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp=null;function Xv(){return Jp===null?Jp=function(){return 268435456+Math.round(2147483648*Math.random())}():Jp++,"0x"+Jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="RestConnection",C4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===Mv?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,t,n,a,l){const c=Xv(),d=this.jo(e,t.toUriEncodedString());me(_v,`Sending RPC '${e}' ${c}:`,d,n);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:g}=new URL(d),y=mm(g);return this.Jo(e,d,m,n,y).then(E=>(me(_v,`Received RPC '${e}' ${c}: `,E),E),E=>{throw ma(_v,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",n),E})}Yo(e,t,n,a,l,c){return this.zo(e,t,n,a,l)}Ho(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$h}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),n&&n.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const n=C4[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="WebChannelConnection";class D4 extends x4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,a,l){const c=Xv();return new Promise((d,m)=>{const g=new RR;g.setWithCredentials(!0),g.listenOnce(CR.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sg.NO_ERROR:const E=g.getResponseJson();me(Ei,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case sg.TIMEOUT:me(Ei,`RPC '${e}' ${c} timed out`),m(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const T=g.getStatus();if(me(Ei,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const L=V==null?void 0:V.error;if(L&&L.status&&L.message){const H=function(Z){const ne=Z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ne)>=0?ne:re.UNKNOWN}(L.status);m(new fe(H,L.message))}else m(new fe(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(Ei,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);me(Ei,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",y,n,15)})}T_(e,t,n){const a=Xv(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DR(),d=NR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,n),m.encodeInitMessageHeaders=!0;const y=l.join("");me(Ei,`Creating RPC '${e}' stream ${a}: ${y}`,m);const E=c.createWebChannel(y,m);let T=!1,V=!1;const L=new N4({Zo:F=>{V?me(Ei,`Not sending because RPC '${e}' stream ${a} is closed:`,F):(T||(me(Ei,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),me(Ei,`RPC '${e}' stream ${a} sending:`,F),E.send(F))},Xo:()=>E.close()}),H=(F,Z,ne)=>{F.listen(Z,le=>{try{ne(le)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return H(E,wf.EventType.OPEN,()=>{V||(me(Ei,`RPC '${e}' stream ${a} transport opened.`),L.__())}),H(E,wf.EventType.CLOSE,()=>{V||(V=!0,me(Ei,`RPC '${e}' stream ${a} transport closed`),L.u_())}),H(E,wf.EventType.ERROR,F=>{V||(V=!0,ma(Ei,`RPC '${e}' stream ${a} transport errored. Name:`,F.name,"Message:",F.message),L.u_(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),H(E,wf.EventType.MESSAGE,F=>{var Z;if(!V){const ne=F.data[0];Oe(!!ne,16349);const le=ne,Ee=(le==null?void 0:le.error)||((Z=le[0])===null||Z===void 0?void 0:Z.error);if(Ee){me(Ei,`RPC '${e}' stream ${a} received error:`,Ee);const ye=Ee.status;let k=function(x){const M=Pn[x];if(M!==void 0)return DC(M)}(ye),P=Ee.message;k===void 0&&(k=re.INTERNAL,P="Unknown error status: "+ye+" with message "+Ee.message),V=!0,L.u_(new fe(k,P)),E.close()}else me(Ei,`RPC '${e}' stream ${a} received:`,ne),L.c_(ne)}}),H(d,xR.STAT_EVENT,F=>{F.stat===xv.PROXY?me(Ei,`RPC '${e}' stream ${a} detected buffering proxy`):F.stat===xv.NOPROXY&&me(Ei,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.a_()},0),L}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return typeof window<"u"?window:null}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(i){return new ML(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t,n=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.I_=n,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),a=Math.max(0,t-n);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="PersistentStream";class v1{constructor(e,t,n,a,l,c,d,m){this.xi=e,this.y_=n,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Eb(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(En(t.toString()),En("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.S_===t&&this.K_(n,a)},n=>{e(()=>{const a=new fe(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(a)})})}K_(e,t){const n=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.W_(a))}),this.stream.onMessage(a=>{n(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return me(yI,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(me(yI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P4 extends v1{constructor(e,t,n,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,c),this.serializer=l}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=jL(this.serializer,e),n=function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?bn(c.readTime):ke.min()}(e);return this.listener.j_(t,n)}H_(e){const t={};t.database=$v(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Dg(m)?{documents:BC(l,m)}:{query:zC(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=kC(l,c.resumeToken);const g=qv(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=xh(l,c.snapshotVersion.toTimestamp());const g=qv(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const n=zL(this.serializer,e);n&&(t.labels=n),this.L_(t)}J_(e){const t={};t.database=$v(this.serializer),t.removeTarget=e,this.L_(t)}}class O4 extends v1{constructor(e,t,n,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=BL(e.writeResults,e.commitTime),n=bn(e.commitTime);return this.listener.ea(n,t)}ta(){const e={};e.database=$v(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>sm(this.serializer,n))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{}class V4 extends k4{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.na=!1}ra(){if(this.na)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Hv(t,n),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(re.UNKNOWN,l.toString())})}Yo(e,t,n,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Hv(t,n),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(re.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class M4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(En(t),this.oa=!1):me("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="RemoteStore";class L4{constructor(e,t,n,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{n.enqueueAndForget(async()=>{zl(this)&&(me(Jc,"Restarting streams for network reachability change."),await async function(m){const g=Ie(m);g.Ta.add(4),await Yh(g),g.da.set("Unknown"),g.Ta.delete(4),await Dm(g)}(this))})}),this.da=new M4(n,a)}}async function Dm(i){if(zl(i))for(const e of i.Ia)await e(!0)}async function Yh(i){for(const e of i.Ia)await e(!1)}function b_(i,e){const t=Ie(i);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),wb(t)?Tb(t):Xh(t).M_()&&bb(t,e))}function Ph(i,e){const t=Ie(i),n=Xh(t);t.Pa.delete(e),n.M_()&&E1(t,e),t.Pa.size===0&&(n.M_()?n.N_():zl(t)&&t.da.set("Unknown"))}function bb(i,e){if(i.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xh(i).H_(e)}function E1(i,e){i.Aa.Ke(e),Xh(i).J_(e)}function Tb(i){i.Aa=new PL({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Pa.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Xh(i).start(),i.da._a()}function wb(i){return zl(i)&&!Xh(i).F_()&&i.Pa.size>0}function zl(i){return Ie(i).Ta.size===0}function b1(i){i.Aa=void 0}async function U4(i){i.da.set("Online")}async function j4(i){i.Pa.forEach((e,t)=>{bb(i,e)})}async function B4(i,e){b1(i),wb(i)?(i.da.ca(e),Tb(i)):i.da.set("Unknown")}async function z4(i,e,t){if(i.da.set("Online"),e instanceof OC&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(i,e)}catch(n){me(Jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await zg(i,n)}else if(e instanceof fg?i.Aa.Xe(e):e instanceof PC?i.Aa.ot(e):i.Aa.nt(e),!t.isEqual(ke.min()))try{const n=await c1(i.localStore);t.compareTo(n)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Pa.get(g);y&&l.Pa.set(g,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const y=l.Pa.get(m);if(!y)return;l.Pa.set(m,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),E1(l,m);const E=new to(y.target,m,g,y.sequenceNumber);bb(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(n){me(Jc,"Failed to raise snapshot:",n),await zg(i,n)}}async function zg(i,e,t){if(!jl(e))throw e;i.Ta.add(1),await Yh(i),i.da.set("Offline"),t||(t=()=>c1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(Jc,"Retrying IndexedDB access"),await t(),i.Ta.delete(1),await Dm(i)})}function T1(i,e){return e().catch(t=>zg(i,t,e))}async function Wh(i){const e=Ie(i),t=Dl(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:El;for(;F4(e);)try{const a=await A4(e.localStore,n);if(a===null){e.ha.length===0&&t.N_();break}n=a.batchId,q4(e,a)}catch(a){await zg(e,a)}w1(e)&&A1(e)}function F4(i){return zl(i)&&i.ha.length<10}function q4(i,e){i.ha.push(e);const t=Dl(i);t.M_()&&t.Y_&&t.Z_(e.mutations)}function w1(i){return zl(i)&&!Dl(i).F_()&&i.ha.length>0}function A1(i){Dl(i).start()}async function H4(i){Dl(i).ta()}async function $4(i){const e=Dl(i);for(const t of i.ha)e.Z_(t.mutations)}async function G4(i,e,t){const n=i.ha.shift(),a=ab.from(n,e,t);await T1(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Wh(i)}async function K4(i,e){e&&Dl(i).Y_&&await async function(n,a){if(function(c){return NC(c)&&c!==re.ABORTED}(a.code)){const l=n.ha.shift();Dl(n).O_(),await T1(n,()=>n.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Wh(n)}}(i,e),w1(i)&&A1(i)}async function vI(i,e){const t=Ie(i);t.asyncQueue.verifyOperationInProgress(),me(Jc,"RemoteStore received new credentials");const n=zl(t);t.Ta.add(3),await Yh(t),n&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Dm(t)}async function Jv(i,e){const t=Ie(i);e?(t.Ta.delete(2),await Dm(t)):e||(t.Ta.add(2),await Yh(t),t.da.set("Unknown"))}function Xh(i){return i.Ra||(i.Ra=function(t,n,a){const l=Ie(t);return l.ra(),new P4(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{e_:U4.bind(null,i),n_:j4.bind(null,i),i_:B4.bind(null,i),j_:z4.bind(null,i)}),i.Ia.push(async e=>{e?(i.Ra.O_(),wb(i)?Tb(i):i.da.set("Unknown")):(await i.Ra.stop(),b1(i))})),i.Ra}function Dl(i){return i.Va||(i.Va=function(t,n,a){const l=Ie(t);return l.ra(),new O4(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:H4.bind(null,i),i_:K4.bind(null,i),X_:$4.bind(null,i),ea:G4.bind(null,i)}),i.Ia.push(async e=>{e?(i.Va.O_(),await Wh(i)):(await i.Va.stop(),i.ha.length>0&&(me(Jc,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,n,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=l,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,l){const c=Date.now()+n,d=new Ab(e,t,c,a,l);return d.start(n),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jh(i,e){if(En("AsyncQueue",`${e}: ${i}`),jl(i))return new fe(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{static emptySet(e){return new dh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Te.comparator(t.key,n.key):(t,n)=>Te.comparator(t.key,n.key),this.keyedMap=Af(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new dh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.ma=new jt(Te.comparator)}track(e){const t=e.doc.key,n=this.ma.get(t);n?e.type!==0&&n.type===3?this.ma=this.ma.insert(t,e):e.type===3&&n.type!==1?this.ma=this.ma.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ma=this.ma.remove(t):e.type===1&&n.type===2?this.ma=this.ma.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,n)=>{e.push(n)}),e}}class Oh{constructor(e,t,n,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Oh(e,t,dh.emptySet(t),c,n,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Y4{constructor(){this.queries=bI(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,n){const a=Ie(t),l=a.queries;a.queries=bI(),l.forEach((c,d)=>{for(const m of d.ya)m.onError(n)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function bI(){return new go(i=>gC(i),Im)}async function Ib(i,e){const t=Ie(i);let n=3;const a=e.query;let l=t.queries.get(a);l?!l.wa()&&e.Sa()&&(n=2):(l=new Q4,n=e.Sa()?0:1);try{switch(n){case 0:l.pa=await t.onListen(a,!0);break;case 1:l.pa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Jh(c,`Initialization of query '${nh(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ya.push(e),e.Da(t.onlineState),l.pa&&e.va(l.pa)&&Rb(t)}async function Sb(i,e){const t=Ie(i),n=e.query;let a=3;const l=t.queries.get(n);if(l){const c=l.ya.indexOf(e);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function W4(i,e){const t=Ie(i);let n=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ya)d.va(a)&&(n=!0);c.pa=a}}n&&Rb(t)}function X4(i,e,t){const n=Ie(i),a=n.queries.get(e);if(a)for(const l of a.ya)l.onError(t);n.queries.delete(e)}function Rb(i){i.ba.forEach(e=>{e.next()})}var Zv,TI;(TI=Zv||(Zv={})).Ca="default",TI.Cache="cache";class Cb{constructor(e,t,n){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Oh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const n=t!=="Offline";return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.serializer=e}Us(e){return ha(this.serializer,e)}Ks(e){return e.metadata.exists?jC(this.serializer,e.document,!1):Ft.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return bn(e)}}class Z4{constructor(e,t,n){this.Qa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=I1(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const n=ht.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,n=new wI(this.serializer);for(const a of e)if(a.metadata.queries){const l=n.Us(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||et()).add(l);t.set(c,d)}}return t}async complete(){const e=await I4(this.localStore,new wI(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const n of this.queries)await S4(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function I1(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.key=e}}class R1{constructor(e){this.key=e}}class C1{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=et(),this.mutatedKeys=et(),this.Ha=yC(e),this.Ja=new dh(this.Ha)}get Ya(){return this.Ga}Za(e,t){const n=t?t.Xa:new EI,a=t?t.Ja:this.Ja;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,E)=>{const T=a.get(y),V=Sm(this.query,E)?E:null,L=!!T&&this.mutatedKeys.has(T.key),H=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;T&&V?T.data.isEqual(V.data)?L!==H&&(n.track({type:3,doc:V}),F=!0):this.eu(T,V)||(n.track({type:2,doc:V}),F=!0,(m&&this.Ha(V,m)>0||g&&this.Ha(V,g)<0)&&(d=!0)):!T&&V?(n.track({type:0,doc:V}),F=!0):T&&!V&&(n.track({type:1,doc:T}),F=!0,(m||g)&&(d=!0)),F&&(V?(c=c.add(V),l=H?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),n.track({type:1,doc:y})}return{Ja:c,Xa:n,Cs:d,mutatedKeys:l}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((y,E)=>function(V,L){const H=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:F})}};return H(V)-H(L)}(y.type,E.type)||this.Ha(y.doc,E.doc)),this.tu(n),a=a!=null&&a;const d=t&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,g=m!==this.za;return this.za=m,c.length!==0||g?{snapshot:new Oh(this.query,e.Ja,l,c,e.mutatedKeys,m===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new EI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=et(),this.Ja.forEach(n=>{this.iu(n.key)&&(this.ja=this.ja.add(n.key))});const t=[];return e.forEach(n=>{this.ja.has(n)||t.push(new R1(n))}),this.ja.forEach(n=>{e.has(n)||t.push(new S1(n))}),t}su(e){this.Ga=e.$s,this.ja=et();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Oh.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Fl="SyncEngine";class eU{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tU{constructor(e){this.key=e,this._u=!1}}class nU{constructor(e,t,n,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new go(d=>gC(d),Im),this.cu=new Map,this.lu=new Set,this.hu=new jt(Te.comparator),this.Pu=new Map,this.Tu=new fb,this.Iu={},this.Eu=new Map,this.du=Xc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function iU(i,e,t=!0){const n=T_(i);let a;const l=n.uu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await x1(n,e,t,!0),a}async function rU(i,e){const t=T_(i);await x1(t,e,!0,!1)}async function x1(i,e,t,n){const a=await Nh(i.localStore,Mi(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return n&&(d=await xb(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&b_(i.remoteStore,a),d}async function xb(i,e,t,n,a){i.Ru=(E,T,V)=>async function(H,F,Z,ne){let le=F.view.Za(Z);le.Cs&&(le=await Ug(H.localStore,F.query,!1).then(({documents:P})=>F.view.Za(P,le)));const Ee=ne&&ne.targetChanges.get(F.targetId),ye=ne&&ne.targetMismatches.get(F.targetId)!=null,k=F.view.applyChanges(le,H.isPrimaryClient,Ee,ye);return eE(H,F.targetId,k.ru),k.snapshot}(i,E,T,V);const l=await Ug(i.localStore,e,!0),c=new C1(e,l.$s),d=c.Za(l.documents),m=xm.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",a),g=c.applyChanges(d,i.isPrimaryClient,m);eE(i,t,g.ru);const y=new eU(e,t,c);return i.uu.set(e,y),i.cu.has(t)?i.cu.get(t).push(e):i.cu.set(t,[e]),g.snapshot}async function sU(i,e,t){const n=Ie(i),a=n.uu.get(e),l=n.cu.get(a.targetId);if(l.length>1)return n.cu.set(a.targetId,l.filter(c=>!Im(c,e))),void n.uu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Dh(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&Ph(n.remoteStore,a.targetId),kh(n,a.targetId)}).catch(Ul)):(kh(n,a.targetId),await Dh(n.localStore,a.targetId,!0))}async function aU(i,e){const t=Ie(i),n=t.uu.get(e),a=t.cu.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Ph(t.remoteStore,n.targetId))}async function oU(i,e,t){const n=Ob(i);try{const a=await function(c,d){const m=Ie(c),g=Xt.now(),y=d.reduce((V,L)=>V.add(L.key),et());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",V=>{let L=er(),H=et();return m.Bs.getEntries(V,y).next(F=>{L=F,L.forEach((Z,ne)=>{ne.isValidDocument()||(H=H.add(Z))})}).next(()=>m.localDocuments.getOverlayedDocuments(V,L)).next(F=>{E=F;const Z=[];for(const ne of d){const le=xL(ne,E.get(ne.key).overlayedDocument);le!=null&&Z.push(new _o(ne.key,le,oC(le.value.mapValue),Yt.exists(!0)))}return m.mutationQueue.addMutationBatch(V,g,Z,d)}).next(F=>{T=F;const Z=F.applyToLocalDocumentSet(E,H);return m.documentOverlayCache.saveOverlays(V,F.batchId,Z)})}).then(()=>({batchId:T.batchId,changes:EC(E)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Iu[c.currentUser.toKey()];g||(g=new jt(Ge)),g=g.insert(d,m),c.Iu[c.currentUser.toKey()]=g}(n,a.batchId,t),await yo(n,a.changes),await Wh(n.remoteStore)}catch(a){const l=Jh(a,"Failed to persist write");t.reject(l)}}async function N1(i,e){const t=Ie(i);try{const n=await w4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Pu.get(l);c&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?Oe(c._u,14607):a.removedDocuments.size>0&&(Oe(c._u,42227),c._u=!1))}),await yo(t,n,e)}catch(n){await Ul(n)}}function AI(i,e,t){const n=Ie(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.uu.forEach((l,c)=>{const d=c.view.Da(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ie(c);m.onlineState=d;let g=!1;m.queries.forEach((y,E)=>{for(const T of E.ya)T.Da(d)&&(g=!0)}),g&&Rb(m)}(n.eventManager,e),a.length&&n.au.j_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function lU(i,e,t){const n=Ie(i);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Pu.get(e),l=a&&a.key;if(l){let c=new jt(Te.comparator);c=c.insert(l,Ft.newNoDocument(l,ke.min()));const d=et().add(l),m=new Cm(ke.min(),new Map,new jt(Ge),c,d);await N1(n,m),n.hu=n.hu.remove(l),n.Pu.delete(e),Pb(n)}else await Dh(n.localStore,e,!1).then(()=>kh(n,e,t)).catch(Ul)}async function cU(i,e){const t=Ie(i),n=e.batch.batchId;try{const a=await T4(t.localStore,e);Db(t,n,null),Nb(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await yo(t,a)}catch(a){await Ul(a)}}async function uU(i,e,t){const n=Ie(i);try{const a=await function(c,d){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(Oe(E!==null,37113),y=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(n.localStore,e);Db(n,e,t),Nb(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await yo(n,a)}catch(a){await Ul(a)}}async function hU(i,e){const t=Ie(i);zl(t.remoteStore)||me(Fl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=await function(c){const d=Ie(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(n===El)return void e.resolve();const a=t.Eu.get(n)||[];a.push(e),t.Eu.set(n,a)}catch(n){const a=Jh(n,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function Nb(i,e){(i.Eu.get(e)||[]).forEach(t=>{t.resolve()}),i.Eu.delete(e)}function Db(i,e,t){const n=Ie(i);let a=n.Iu[n.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),n.Iu[n.currentUser.toKey()]=a}}function kh(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.cu.get(e))i.uu.delete(n),t&&i.au.Vu(n,t);i.cu.delete(e),i.isPrimaryClient&&i.Tu.Hr(e).forEach(n=>{i.Tu.containsKey(n)||D1(i,n)})}function D1(i,e){i.lu.delete(e.path.canonicalString());const t=i.hu.get(e);t!==null&&(Ph(i.remoteStore,t),i.hu=i.hu.remove(e),i.Pu.delete(t),Pb(i))}function eE(i,e,t){for(const n of t)n instanceof S1?(i.Tu.addReference(n.key,e),dU(i,n)):n instanceof R1?(me(Fl,"Document no longer in limbo: "+n.key),i.Tu.removeReference(n.key,e),i.Tu.containsKey(n.key)||D1(i,n.key)):xe(19791,{mu:n})}function dU(i,e){const t=e.key,n=t.path.canonicalString();i.hu.get(t)||i.lu.has(n)||(me(Fl,"New document in limbo: "+t),i.lu.add(n),Pb(i))}function Pb(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const e=i.lu.values().next().value;i.lu.delete(e);const t=new Te(ht.fromString(e)),n=i.du.next();i.Pu.set(n,new tU(t)),i.hu=i.hu.insert(t,n),b_(i.remoteStore,new to(Mi(Gh(t.path)),n,"TargetPurposeLimboResolution",Ji.le))}}async function yo(i,e,t){const n=Ie(i),a=[],l=[],c=[];n.uu.isEmpty()||(n.uu.forEach((d,m)=>{c.push(n.Ru(m,e,t).then(g=>{var y;if((g||t)&&n.isPrimaryClient){const E=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){a.push(g);const E=_b.Rs(m.targetId,g);l.push(E)}}))}),await Promise.all(c),n.au.j_(a),await async function(m,g){const y=Ie(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>W.forEach(g,T=>W.forEach(T.ds,V=>y.persistence.referenceDelegate.addReference(E,T.targetId,V)).next(()=>W.forEach(T.As,V=>y.persistence.referenceDelegate.removeReference(E,T.targetId,V)))))}catch(E){if(!jl(E))throw E;me(yb,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const V=y.xs.get(T),L=V.snapshotVersion,H=V.withLastLimboFreeSnapshotVersion(L);y.xs=y.xs.insert(T,H)}}}(n.localStore,l))}async function fU(i,e){const t=Ie(i);if(!t.currentUser.isEqual(e)){me(Fl,"User change. New user:",e.toKey());const n=await l1(t.localStore,e);t.currentUser=e,function(l,c){l.Eu.forEach(d=>{d.forEach(m=>{m.reject(new fe(re.CANCELLED,c))})}),l.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await yo(t,n.ks)}}function mU(i,e){const t=Ie(i),n=t.Pu.get(e);if(n&&n._u)return et().add(n.key);{let a=et();const l=t.cu.get(e);if(!l)return a;for(const c of l){const d=t.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}async function pU(i,e){const t=Ie(i),n=await Ug(t.localStore,e.query,!0),a=e.view.su(n);return t.isPrimaryClient&&eE(t,e.targetId,a.ru),a}async function gU(i,e){const t=Ie(i);return d1(t.localStore,e).then(n=>yo(t,n))}async function _U(i,e,t,n){const a=Ie(i),l=await function(d,m){const g=Ie(d),y=Ie(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.tr(E,m).next(T=>T?g.localDocuments.getDocuments(E,T):W.resolve(null)))}(a.localStore,e);l!==null?(t==="pending"?await Wh(a.remoteStore):t==="acknowledged"||t==="rejected"?(Db(a,e,n||null),Nb(a,e),function(d,m){Ie(Ie(d).mutationQueue).sr(m)}(a.localStore,e)):xe(6720,"Unknown batchState",{fu:t}),await yo(a,l)):me(Fl,"Cannot apply mutation batch with id: "+e)}async function yU(i,e){const t=Ie(i);if(T_(t),Ob(t),e===!0&&t.Au!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),a=await II(t,n.toArray());t.Au=!0,await Jv(t.remoteStore,!0);for(const l of a)b_(t.remoteStore,l)}else if(e===!1&&t.Au!==!1){const n=[];let a=Promise.resolve();t.cu.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?n.push(c):a=a.then(()=>(kh(t,c),Dh(t.localStore,c,!0))),Ph(t.remoteStore,c)}),await a,await II(t,n),function(c){const d=Ie(c);d.Pu.forEach((m,g)=>{Ph(d.remoteStore,g)}),d.Tu.Jr(),d.Pu=new Map,d.hu=new jt(Te.comparator)}(t),t.Au=!1,await Jv(t.remoteStore,!1)}}async function II(i,e,t){const n=Ie(i),a=[],l=[];for(const c of e){let d;const m=n.cu.get(c);if(m&&m.length!==0){d=await Nh(n.localStore,Mi(m[0]));for(const g of m){const y=n.uu.get(g),E=await pU(n,y);E.snapshot&&l.push(E.snapshot)}}else{const g=await h1(n.localStore,c);d=await Nh(n.localStore,g),await xb(n,P1(g),c,!1,d.resumeToken)}a.push(d)}return n.au.j_(l),a}function P1(i){return pC(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function vU(i){return function(t){return Ie(Ie(t).persistence).Is()}(Ie(i).localStore)}async function EU(i,e,t,n){const a=Ie(i);if(a.Au)return void me(Fl,"Ignoring unexpected query state notification.");const l=a.cu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await d1(a.localStore,_C(l[0])),d=Cm.createSynthesizedRemoteEventForCurrentChange(e,t==="current",un.EMPTY_BYTE_STRING);await yo(a,c,d);break}case"rejected":await Dh(a.localStore,e,!0),kh(a,e,n);break;default:xe(64155,t)}}async function bU(i,e,t){const n=T_(i);if(n.Au){for(const a of e){if(n.cu.has(a)&&n.sharedClientState.isActiveQueryTarget(a)){me(Fl,"Adding an already active target "+a);continue}const l=await h1(n.localStore,a),c=await Nh(n.localStore,l);await xb(n,P1(l),c.targetId,!1,c.resumeToken),b_(n.remoteStore,c)}for(const a of t)n.cu.has(a)&&await Dh(n.localStore,a,!1).then(()=>{Ph(n.remoteStore,a),kh(n,a)}).catch(Ul)}}function T_(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lU.bind(null,e),e.au.j_=W4.bind(null,e.eventManager),e.au.Vu=X4.bind(null,e.eventManager),e}function Ob(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uU.bind(null,e),e}function TU(i,e,t){const n=Ie(i);(async function(l,c,d){try{const m=await c.getMetadata();if(await function(V,L){const H=Ie(V),F=bn(L.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",Z=>H.Ei.getBundleMetadata(Z,L.id)).then(Z=>!!Z&&Z.createTime.compareTo(F)>=0)}(l.localStore,m))return await c.close(),d._completeWith(function(V){return{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}}(m)),Promise.resolve(new Set);d._updateProgress(I1(m));const g=new Z4(m,l.localStore,c.serializer);let y=await c.gu();for(;y;){const T=await g.$a(y);T&&d._updateProgress(T),y=await c.gu()}const E=await g.complete();return await yo(l,E.Wa,void 0),await function(V,L){const H=Ie(V);return H.persistence.runTransaction("Save bundle","readwrite",F=>H.Ei.saveBundleMetadata(F,L))}(l.localStore,m),d._completeWith(E.progress),Promise.resolve(E.Ka)}catch(m){return ma(Fl,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(n,e,t).then(a=>{n.sharedClientState.notifyBundleLoaded(a)})}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return o1(this.persistence,new a1,e.initialUser,this.serializer)}yu(e){return new mb(E_.fi,this.serializer)}pu(e){return new _1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class wU extends am{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Oe(this.persistence.referenceDelegate instanceof Lg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new e1(n,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new mb(n=>Lg.fi(n,t),this.serializer)}}class O1 extends am{constructor(e,t,n){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await Ob(this.Du.syncEngine),await Wh(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return o1(this.persistence,new a1,e.initialUser,this.serializer)}Su(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new e1(n,e.asyncQueue,t)}bu(e,t){const n=new PM(t,this.persistence);return new DM(e.asyncQueue,n)}yu(e){const t=gb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new pb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,y1(),pg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new _1}}class AU extends O1{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof gv&&(this.sharedClientState.syncEngine={Co:_U.bind(null,t),Fo:EU.bind(null,t),Mo:bU.bind(null,t),Is:vU.bind(null,t),vo:gU.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async n=>{await yU(this.Du.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())})}pu(e){const t=y1();if(!gv.C(t))throw new fe(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=gb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class om{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>AI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=fU.bind(null,this.syncEngine),await Jv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y4}()}createDatastore(e){const t=Nm(e.databaseInfo.databaseId),n=function(l){return new D4(l)}(e.databaseInfo);return function(l,c,d,m){return new V4(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,l,c,d){return new L4(n,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>AI(this.syncEngine,t,0),function(){return _I.C()?new _I:new R4}())}createSyncEngine(e,t){return function(a,l,c,d,m,g,y){const E=new nU(a,l,c,d,m,g);return y&&(E.Au=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ie(a);me(Jc,"RemoteStore shutting down."),l.Ta.add(5),await Yh(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}om.provider={build:()=>new om};function SI(i,e=10240){let t=0;return{async read(){if(t<i.byteLength){const n={value:i.slice(t,t+e),done:!1};return t+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):En("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new mi,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(n=>{n&&n.qa()?this.metadata.resolve(n.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n==null?void 0:n.ka)}`))},n=>this.metadata.reject(n))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),n=Number(t);isNaN(n)&&this.Nu(`length string (${t}) is not valid number`);const a=await this.Bu(n);return new J4(JSON.parse(a),e.length+n)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,l){const c=Ie(a),d={documents:l.map(E=>rm(c.serializer,E))},m=await c.Yo("BatchGetDocuments",c.serializer.databaseId,ht.emptyPath(),d,l.length),g=new Map;m.forEach(E=>{const T=UL(c.serializer,E);g.set(T.key.toString(),T)});const y=[];return l.forEach(E=>{const T=g.get(E.toString());Oe(!!T,55234,{key:E}),y.push(T)}),y}(this.datastore,e);return t.forEach(n=>this.recordVersion(n)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,n)=>{const a=Te.fromPath(n);this.mutations.push(new rb(a,this.precondition(a)))}),await async function(n,a){const l=Ie(n),c={writes:a.map(d=>sm(l.serializer,d))};await l.zo("Commit",l.serializer.databaseId,ht.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xe(50498,{qu:e.constructor.name});t=ke.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new fe(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ke.min())?Yt.exists(!1):Yt.updateTime(t):Yt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ke.min()))throw new fe(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yt.updateTime(t)}return Yt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,t,n,a,l){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=a,this.deferred=l,this.Qu=n.maxAttempts,this.C_=new Eb(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new SU(this.datastore),t=this.Ku(e);t&&t.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(a=>{this.Wu(a)}))}).catch(n=>{this.Wu(n)})})}Ku(e){try{const t=this.updateFunction(e);return!Tm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!NC(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="FirestoreClient";class CU{constructor(e,t,n,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=Jn.UNAUTHENTICATED,this.clientId=kR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,async c=>{me(Pl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(n,c=>(me(Pl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Jh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function yv(i,e){i.asyncQueue.verifyOperationInProgress(),me(Pl,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(async a=>{n.isEqual(a)||(await l1(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function RI(i,e){i.asyncQueue.verifyOperationInProgress();const t=await kb(i);me(Pl,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(n=>vI(e.remoteStore,n)),i.setAppCheckTokenChangeListener((n,a)=>vI(e.remoteStore,a)),i._onlineComponents=e}async function kb(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(Pl,"Using user provided OfflineComponentProvider");try{await yv(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ma("Error using user provided cache. Falling back to memory cache: "+t),await yv(i,new am)}}else me(Pl,"Using default OfflineComponentProvider"),await yv(i,new wU(void 0));return i._offlineComponents}async function A_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(Pl,"Using user provided OnlineComponentProvider"),await RI(i,i._uninitializedComponentsProvider._online)):(me(Pl,"Using default OnlineComponentProvider"),await RI(i,new om))),i._onlineComponents}function k1(i){return kb(i).then(e=>e.persistence)}function Vb(i){return kb(i).then(e=>e.localStore)}function V1(i){return A_(i).then(e=>e.remoteStore)}function Mb(i){return A_(i).then(e=>e.syncEngine)}function xU(i){return A_(i).then(e=>e.datastore)}async function Vh(i){const e=await A_(i),t=e.eventManager;return t.onListen=iU.bind(null,e.syncEngine),t.onUnlisten=sU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aU.bind(null,e.syncEngine),t}function NU(i){return i.asyncQueue.enqueue(async()=>{const e=await k1(i),t=await V1(i);return e.setNetworkEnabled(!0),function(a){const l=Ie(a);return l.Ta.delete(0),Dm(l)}(t)})}function DU(i){return i.asyncQueue.enqueue(async()=>{const e=await k1(i),t=await V1(i);return e.setNetworkEnabled(!1),async function(a){const l=Ie(a);l.Ta.add(0),await Yh(l),l.da.set("Offline")}(t)})}function PU(i,e){const t=new mi;return i.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await function(g,y){const E=Ie(g);return E.persistence.runTransaction("read document","readonly",T=>E.localDocuments.getDocument(T,y))}(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new fe(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=Jh(d,`Failed to get document '${l} from cache`);c.reject(m)}}(await Vb(i),e,t)),t.promise}function M1(i,e,t={}){const n=new mi;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const y=new w_({next:T=>{y.Cu(),c.enqueueAndForget(()=>Sb(l,E));const V=T.docs.has(d);!V&&T.fromCache?g.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&T.fromCache&&m&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Cb(Gh(d.path),y,{includeMetadataChanges:!0,La:!0});return Ib(l,E)}(await Vh(i),i.asyncQueue,e,t,n)),n.promise}function OU(i,e){const t=new mi;return i.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await Ug(a,l,!0),m=new C1(l,d.$s),g=m.Za(d.documents),y=m.applyChanges(g,!1);c.resolve(y.snapshot)}catch(d){const m=Jh(d,`Failed to execute query '${l} against cache`);c.reject(m)}}(await Vb(i),e,t)),t.promise}function L1(i,e,t={}){const n=new mi;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const y=new w_({next:T=>{y.Cu(),c.enqueueAndForget(()=>Sb(l,E)),T.fromCache&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Cb(d,y,{includeMetadataChanges:!0,La:!0});return Ib(l,E)}(await Vh(i),i.asyncQueue,e,t,n)),n.promise}function kU(i,e){const t=new w_(e);return i.asyncQueue.enqueueAndForget(async()=>function(a,l){Ie(a).ba.add(l),l.next()}(await Vh(i),t)),()=>{t.Cu(),i.asyncQueue.enqueueAndForget(async()=>function(a,l){Ie(a).ba.delete(l)}(await Vh(i),t))}}function VU(i,e,t,n){const a=function(c,d){let m;return m=typeof c=="string"?$E().encode(c):c,function(y,E){return new IU(y,E)}(function(y,E){if(y instanceof Uint8Array)return SI(y,E);if(y instanceof ArrayBuffer)return SI(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),d)}(t,Nm(e));i.asyncQueue.enqueueAndForget(async()=>{TU(await Mb(i),a,n)})}function MU(i,e){return i.asyncQueue.enqueue(async()=>function(n,a){const l=Ie(n);return l.persistence.runTransaction("Get named query","readonly",c=>l.Ei.getNamedQuery(c,a))}(await Vb(i),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(i,e,t){if(!t)throw new fe(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function j1(i,e,t,n){if(e===!0&&n===!0)throw new fe(re.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function xI(i){if(!Te.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function NI(i){if(Te.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function I_(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Tt(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=I_(i);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function B1(i,e){if(e<=0)throw new fe(re.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firestore.googleapis.com",DI=!0;class PI{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=DI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i4)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pm{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new EM;switch(n.type){case"firstParty":return new AM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=CI.get(t);n&&(me("ComponentProvider","Removing Datastore"),CI.delete(t),n.terminate())}(this),Promise.resolve()}}function LU(i,e,t,n={}){var a;i=Tt(i,Pm);const l=mm(e),c=i._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;l&&(uS(`https://${m}`),hS("Firestore",!0)),c.host!==z1&&c.host!==m&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:n});if(!ao(g,d)&&(i._setSettings(g),n.mockUserToken)){let y,E;if(typeof n.mockUserToken=="string")y=n.mockUserToken,E=Jn.MOCK_USER;else{y=gP(n.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const T=n.mockUserToken.sub||n.mockUserToken.user_id;if(!T)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jn(T)}i._authCredentials=new bM(new OR(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Li=class F1{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new F1(this.firestore,e,this._query)}},tn=class q1{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new q1(this.firestore,e,this._key)}},bl=class H1 extends Li{constructor(e,t,n){super(e,t,Gh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Te(e))}withConverter(e){return new H1(this.firestore,e,this._path)}};function $1(i,e,...t){if(i=je(i),Lb("collection","path",e),i instanceof Pm){const n=ht.fromString(e,...t);return NI(n),new bl(i,null,n)}{if(!(i instanceof tn||i instanceof bl))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ht.fromString(e,...t));return NI(n),new bl(i.firestore,null,n)}}function UU(i,e){if(i=Tt(i,Pm),Lb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Li(i,null,function(n){return new po(ht.emptyPath(),n)}(e))}function Fg(i,e,...t){if(i=je(i),arguments.length===1&&(e=kR.newId()),Lb("doc","path",e),i instanceof Pm){const n=ht.fromString(e,...t);return xI(n),new tn(i,null,new Te(n))}{if(!(i instanceof tn||i instanceof bl))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ht.fromString(e,...t));return xI(n),new tn(i.firestore,i instanceof bl?i.converter:null,new Te(n))}}function G1(i,e){return i=je(i),e=je(e),(i instanceof tn||i instanceof bl)&&(e instanceof tn||e instanceof bl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function K1(i,e){return i=je(i),e=je(e),i instanceof Li&&e instanceof Li&&i.firestore===e.firestore&&Im(i._query,e._query)&&i.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="AsyncQueue";class kI{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Eb(this,"async_queue_retry"),this.ec=()=>{const n=pg();n&&me(OI,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new mi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!jl(e))throw e;me(OI,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,En("INTERNAL UNHANDLED ERROR: ",VI(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=t,t}enqueueAfterDelay(e,t,n){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const a=Ab.createAndSchedule(this,e,t,n,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&xe(47125,{_c:VI(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function VI(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(i){return function(t,n){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of n)if(l in a&&typeof a[l]=="function")return!0;return!1}(i,["next","error","complete"])}class jU{constructor(){this._progressObserver={},this._taskCompletionResolver=new mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=-1;let Tn=class extends Pm{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new kI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kI(e),this._firestoreClient=void 0,await e}}};function wi(i){if(i._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Q1(i),i._firestoreClient}function Q1(i){var e,t,n;const a=i._freezeSettings(),l=function(d,m,g,y){return new oL(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,U1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new CU(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}function zU(i,e){ma("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings();return Y1(i,om.provider,{build:n=>new O1(n,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function FU(i){ma("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings();Y1(i,om.provider,{build:t=>new AU(t,e.cacheSizeBytes)})}function Y1(i,e,t){if((i=Tt(i,Tn))._firestoreClient||i._terminated)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(i._componentsProvider||i._getSettings().localCache)throw new fe(re.FAILED_PRECONDITION,"SDK cache is already specified.");i._componentsProvider={_online:e,_offline:t},Q1(i)}function qU(i){if(i._initialized&&!i._terminated)throw new fe(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mi;return i._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!ua.C())return Promise.resolve();const a=n+s1;await ua.delete(a)}(gb(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function HU(i){return function(t){const n=new mi;return t.asyncQueue.enqueueAndForget(async()=>hU(await Mb(t),n)),n.promise}(wi(i=Tt(i,Tn)))}function $U(i){return NU(wi(i=Tt(i,Tn)))}function GU(i){return DU(wi(i=Tt(i,Tn)))}function KU(i,e){const t=wi(i=Tt(i,Tn)),n=new jU;return VU(t,i._databaseId,e,n),n}function QU(i,e){return MU(wi(i=Tt(i,Tn)),e).then(t=>t?new Li(i,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(un.fromBase64String(e))}catch(t){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ga(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=/^__.*__$/;class WU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kh(e,this.data,t,this.fieldTransforms)}}class W1{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new _o(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function X1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{hc:i})}}class R_{constructor(e,t,n,a,l,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new R_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:n,Ec:!1});return a.dc(e),a}Ac(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:n,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return qg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(X1(this.hc)&&YU.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class XU{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Nm(e)}gc(e,t,n,a=!1){return new R_({hc:e,methodName:t,fc:n,path:Qt.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(i){const e=i._freezeSettings(),t=Nm(i._databaseId);return new XU(i._databaseId,!!e.ignoreUndefinedProperties,t)}function C_(i,e,t,n,a,l={}){const c=i.gc(l.merge||l.mergeFields?2:0,e,t,a);$b("Data must be an object, but it was:",c,n);const d=ex(n,c);let m,g;if(l.merge)m=new Zi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const T=nE(e,E,t);if(!c.contains(T))throw new fe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);nx(y,T)||y.push(T)}m=new Zi(y),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new WU(new fi(d),m,g)}class Om extends iu{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Om}}function J1(i,e,t){return new R_({hc:3,fc:e.settings.fc,methodName:i._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jb extends iu{_toFieldTransform(e){return new Rm(e.path,new Rh)}isEqual(e){return e instanceof jb}}class Bb extends iu{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=J1(this,e,!0),n=this.yc.map(l=>su(l,t)),a=new Kc(n);return new Rm(e.path,a)}isEqual(e){return e instanceof Bb&&ao(this.yc,e.yc)}}class zb extends iu{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=J1(this,e,!0),n=this.yc.map(l=>su(l,t)),a=new Qc(n);return new Rm(e.path,a)}isEqual(e){return e instanceof zb&&ao(this.yc,e.yc)}}class Fb extends iu{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new Ch(e.serializer,wC(e.serializer,this.wc));return new Rm(e.path,t)}isEqual(e){return e instanceof Fb&&this.wc===e.wc}}function qb(i,e,t,n){const a=i.gc(1,e,t);$b("Data must be an object, but it was:",a,n);const l=[],c=fi.empty();Bl(n,(m,g)=>{const y=Gb(e,m,t);g=je(g);const E=a.Ac(y);if(g instanceof Om)l.push(y);else{const T=su(g,E);T!=null&&(l.push(y),c.set(y,T))}});const d=new Zi(l);return new W1(c,d,a.fieldTransforms)}function Hb(i,e,t,n,a,l){const c=i.gc(1,e,t),d=[nE(e,n,t)],m=[a];if(l.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(nE(e,l[T])),m.push(l[T+1]);const g=[],y=fi.empty();for(let T=d.length-1;T>=0;--T)if(!nx(g,d[T])){const V=d[T];let L=m[T];L=je(L);const H=c.Ac(V);if(L instanceof Om)g.push(V);else{const F=su(L,H);F!=null&&(g.push(V),y.set(V,F))}}const E=new Zi(g);return new W1(y,E,c.fieldTransforms)}function Z1(i,e,t,n=!1){return su(t,i.gc(n?4:3,e))}function su(i,e){if(tx(i=je(i)))return $b("Unsupported field value:",e,i),ex(i,e);if(i instanceof iu)return function(n,a){if(!X1(a.hc))throw a.Vc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,a){const l=[];let c=0;for(const d of n){let m=su(d,a.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(i,e)}return function(n,a){if((n=je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wC(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=Xt.fromDate(n);return{timestampValue:xh(a.serializer,l)}}if(n instanceof Xt){const l=new Xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xh(a.serializer,l)}}if(n instanceof S_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ga)return{bytesValue:kC(a.serializer,n._byteString)};if(n instanceof tn){const l=a.databaseId,c=n.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cb(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Ub)return function(c,d){return{mapValue:{fields:{[JE]:{stringValue:ZE},[Ah]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Vc("VectorValues must only contain numeric values.");return ib(d.serializer,g)})}}}}}}(n,a);throw a.Vc(`Unsupported field value: ${I_(n)}`)}(i,e)}function ex(i,e){const t={};return JR(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(i,(n,a)=>{const l=su(a,e.Ic(n));l!=null&&(t[n]=l)}),{mapValue:{fields:t}}}function tx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Xt||i instanceof S_||i instanceof ga||i instanceof tn||i instanceof iu||i instanceof Ub)}function $b(i,e,t){if(!tx(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const n=I_(t);throw n==="an object"?e.Vc(i+" a custom object"):e.Vc(i+" "+n)}}function nE(i,e,t){if((e=je(e))instanceof Ol)return e._internalPath;if(typeof e=="string")return Gb(i,e);throw qg("Field path arguments must be of type string or ",i,!1,void 0,t)}const JU=new RegExp("[~\\*/\\[\\]]");function Gb(i,e,t){if(e.search(JU)>=0)throw qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ol(...e.split("."))._internalPath}catch{throw qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function qg(i,e,t,n,a){const l=n&&!n.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${n}`),c&&(m+=` in document ${a}`),m+=")"),new fe(re.INVALID_ARGUMENT,d+i+m)}function nx(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t,n,a,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(x_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZU extends lm{data(){return super.data()}}function x_(i,e){return typeof e=="string"?Gb(i,e):e instanceof Ol?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kb{}class km extends Kb{}function dl(i,e,...t){let n=[];e instanceof Kb&&n.push(e),n=n.concat(t),function(l){const c=l.filter(m=>m instanceof Qb).length,d=l.filter(m=>m instanceof N_).length;if(c>1||c>0&&d>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)i=a._apply(i);return i}class N_ extends km{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new N_(e,t,n)}_apply(e){const t=this._parse(e);return sx(e._query,t),new Li(e.firestore,e.converter,Fv(e._query,t))}_parse(e){const t=ru(e.firestore);return function(l,c,d,m,g,y,E){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){LI(E,y);const L=[];for(const H of E)L.push(MI(m,l,H));T={arrayValue:{values:L}}}else T=MI(m,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||LI(E,y),T=Z1(d,c,E,y==="in"||y==="not-in");return dt.create(g,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function e3(i,e,t){const n=e,a=x_("where",i);return N_._create(a,n,t)}class Qb extends Kb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qb(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:xt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)sx(c,m),c=Fv(c,m)}(e._query,t),new Li(e.firestore,e.converter,Fv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yb extends km{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yb(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new im(l,c)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new po(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function t3(i,e="asc"){const t=e,n=x_("orderBy",i);return Yb._create(n,t)}class D_ extends km{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new D_(e,t,n)}_apply(e){return new Li(e.firestore,e.converter,Og(e._query,this._limit,this._limitType))}}function n3(i){return B1("limit",i),D_._create("limit",i,"F")}function i3(i){return B1("limitToLast",i),D_._create("limitToLast",i,"L")}class P_ extends km{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new P_(e,t,n)}_apply(e){const t=rx(e,this.type,this._docOrFields,this._inclusive);return new Li(e.firestore,e.converter,function(a,l){return new po(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)}(e._query,t))}}function r3(...i){return P_._create("startAt",i,!0)}function s3(...i){return P_._create("startAfter",i,!1)}class O_ extends km{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new O_(e,t,n)}_apply(e){const t=rx(e,this.type,this._docOrFields,this._inclusive);return new Li(e.firestore,e.converter,function(a,l){return new po(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)}(e._query,t))}}function a3(...i){return O_._create("endBefore",i,!1)}function o3(...i){return O_._create("endAt",i,!0)}function rx(i,e,t,n){if(t[0]=je(t[0]),t[0]instanceof lm)return function(l,c,d,m,g){if(!m)throw new fe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const y=[];for(const E of hh(l))if(E.field.isKeyField())y.push($c(c,m.key));else{const T=m.data.field(E.field);if(f_(T))throw new fe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const V=E.field.canonicalString();throw new fe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}y.push(T)}return new Nl(y,g)}(i._query,i.firestore._databaseId,e,t[0]._document,n);{const a=ru(i.firestore);return function(c,d,m,g,y,E){const T=c.explicitOrderBy;if(y.length>T.length)throw new fe(re.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let L=0;L<y.length;L++){const H=y[L];if(T[L].field.isKeyField()){if(typeof H!="string")throw new fe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!tb(c)&&H.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const F=c.path.child(ht.fromString(H));if(!Te.isDocumentKey(F))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const Z=new Te(F);V.push($c(d,Z))}else{const F=Z1(m,g,H);V.push(F)}}return new Nl(V,E)}(i._query,i.firestore._databaseId,a,e,t,n)}}function MI(i,e,t){if(typeof(t=je(t))=="string"){if(t==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tb(e)&&t.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ht.fromString(t));if(!Te.isDocumentKey(n))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return $c(i,new Te(n))}if(t instanceof tn)return $c(i,t._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${I_(t)}.`)}function LI(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sx(i,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Wb{convertValue(e,t="none"){switch(Cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Bl(e,(a,l)=>{n[a]=this.convertValue(l,t)}),n}convertVectorValue(e){var t,n,a;const l=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[Ah].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(c=>Gt(c.doubleValue));return new Ub(l)}convertGeoPoint(e){return new S_(Gt(e.latitude),Gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=m_(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(em(e));default:return null}}convertTimestamp(e){const t=co(e);return new Xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ht.fromString(e);Oe($C(n),9688,{name:e});const a=new Rl(n.get(1),n.get(3)),l=new Te(n.popFirst(5));return a.isEqual(t)||En(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(i,e,t){let n;return n=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,n}class l3 extends Wb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ho=class extends lm{constructor(e,t,n,a,l,c){super(e,t,n,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(x_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}},Bf=class extends ho{data(e={}){return super.data(e)}},kl=class{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new jc(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bf(this._firestore,this._userDataWriter,n.key,n,new jc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Bf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new jc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Bf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new jc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:c3(d.type),doc:m,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function c3(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}function ax(i,e){return i instanceof ho&&e instanceof ho?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(i._document===null?e._document===null:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof kl&&e instanceof kl&&i._firestore===e._firestore&&K1(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(i){i=Tt(i,tn);const e=Tt(i.firestore,Tn);return M1(wi(e),i._key).then(t=>Xb(e,i,t))}class au extends Wb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}function h3(i){i=Tt(i,tn);const e=Tt(i.firestore,Tn),t=wi(e),n=new au(e);return PU(t,i._key).then(a=>new ho(e,n,i._key,a,new jc(a!==null&&a.hasLocalMutations,!0),i.converter))}function d3(i){i=Tt(i,tn);const e=Tt(i.firestore,Tn);return M1(wi(e),i._key,{source:"server"}).then(t=>Xb(e,i,t))}function f3(i){i=Tt(i,Li);const e=Tt(i.firestore,Tn),t=wi(e),n=new au(e);return ix(i._query),L1(t,i._query).then(a=>new kl(e,n,i,a))}function m3(i){i=Tt(i,Li);const e=Tt(i.firestore,Tn),t=wi(e),n=new au(e);return OU(t,i._query).then(a=>new kl(e,n,i,a))}function p3(i){i=Tt(i,Li);const e=Tt(i.firestore,Tn),t=wi(e),n=new au(e);return L1(t,i._query,{source:"server"}).then(a=>new kl(e,n,i,a))}function UI(i,e,t){i=Tt(i,tn);const n=Tt(i.firestore,Tn),a=k_(i.converter,e,t);return Vm(n,[C_(ru(n),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Yt.none())])}function jI(i,e,t,...n){i=Tt(i,tn);const a=Tt(i.firestore,Tn),l=ru(a);let c;return c=typeof(e=je(e))=="string"||e instanceof Ol?Hb(l,"updateDoc",i._key,e,t,n):qb(l,"updateDoc",i._key,e),Vm(a,[c.toMutation(i._key,Yt.exists(!0))])}function g3(i){return Vm(Tt(i.firestore,Tn),[new Qh(i._key,Yt.none())])}function _3(i,e){const t=Tt(i.firestore,Tn),n=Fg(i),a=k_(i.converter,e);return Vm(t,[C_(ru(i.firestore),"addDoc",n._key,a,i.converter!==null,{}).toMutation(n._key,Yt.exists(!1))]).then(()=>n)}function ox(i,...e){var t,n,a;i=je(i);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||tE(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(tE(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(n=E.error)===null||n===void 0?void 0:n.bind(E),e[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let m,g,y;if(i instanceof tn)g=Tt(i.firestore,Tn),y=Gh(i._key.path),m={next:E=>{e[c]&&e[c](Xb(g,i,E))},error:e[c+1],complete:e[c+2]};else{const E=Tt(i,Li);g=Tt(E.firestore,Tn),y=E._query;const T=new au(g);m={next:V=>{e[c]&&e[c](new kl(g,T,E,V))},error:e[c+1],complete:e[c+2]},ix(i._query)}return function(T,V,L,H){const F=new w_(H),Z=new Cb(V,F,L);return T.asyncQueue.enqueueAndForget(async()=>Ib(await Vh(T),Z)),()=>{F.Cu(),T.asyncQueue.enqueueAndForget(async()=>Sb(await Vh(T),Z))}}(wi(g),y,d,m)}function y3(i,e){return kU(wi(i=Tt(i,Tn)),tE(e)?e:{next:e})}function Vm(i,e){return function(n,a){const l=new mi;return n.asyncQueue.enqueueAndForget(async()=>oU(await Mb(n),a,l)),l.promise}(wi(i),e)}function Xb(i,e,t){const n=t.docs.get(e._key),a=new au(i);return new ho(i,a,e._key,n,new jc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E3=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ru(e)}set(e,t,n){this._verifyNotCommitted();const a=pl(e,this._firestore),l=k_(a.converter,t,n),c=C_(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,n);return this._mutations.push(c.toMutation(a._key,Yt.none())),this}update(e,t,n,...a){this._verifyNotCommitted();const l=pl(e,this._firestore);let c;return c=typeof(t=je(t))=="string"||t instanceof Ol?Hb(this._dataReader,"WriteBatch.update",l._key,t,n,a):qb(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Yt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pl(e,this._firestore);return this._mutations=this._mutations.concat(new Qh(t._key,Yt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function pl(i,e){if((i=je(i)).firestore!==e)throw new fe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ru(e)}get(e){const t=pl(e,this._firestore),n=new l3(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return xe(24041);const l=a[0];if(l.isFoundDocument())return new lm(this._firestore,n,l.key,l,t.converter);if(l.isNoDocument())return new lm(this._firestore,n,t._key,null,t.converter);throw xe(18433,{doc:l})})}set(e,t,n){const a=pl(e,this._firestore),l=k_(a.converter,t,n),c=C_(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,n);return this._transaction.set(a._key,c),this}update(e,t,n,...a){const l=pl(e,this._firestore);let c;return c=typeof(t=je(t))=="string"||t instanceof Ol?Hb(this._dataReader,"Transaction.update",l._key,t,n,a):qb(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=pl(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T3=class extends b3{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pl(e,this._firestore),n=new au(this._firestore);return super.get(e).then(a=>new ho(this._firestore,n,t._key,a._document,new jc(!1,!1),t.converter))}};function w3(i,e,t){i=Tt(i,Tn);const n=Object.assign(Object.assign({},v3),t);return function(l){if(l.maxAttempts<1)throw new fe(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(l,c,d){const m=new mi;return l.asyncQueue.enqueueAndForget(async()=>{const g=await xU(l);new RU(l.asyncQueue,g,d,c,m).$u()}),m.promise}(wi(i),a=>e(new T3(i,a)),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return new Om("deleteField")}function I3(){return new jb("serverTimestamp")}function S3(...i){return new Bb("arrayUnion",i)}function R3(...i){return new zb("arrayRemove",i)}function C3(i){return new Fb("increment",i)}(function(e,t=!0){(function(a){$h=a})(Ml),Al(new da("firestore",(n,{instanceIdentifier:a,options:l})=>{const c=n.getProvider("app").getImmediate(),d=new Tn(new TM(n.getProvider("auth-internal")),new IM(c,n.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(g.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Kr(mA,pA,e),Kr(mA,pA,"esm2017")})();const x3="@firebase/firestore-compat",N3="0.3.51";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(i,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function zI(){if(!sL())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class cm{constructor(e){this._delegate=e}static fromBase64String(e){return zI(),new cm(ga.fromBase64String(e))}static fromUint8Array(e){return BI(),new cm(ga.fromUint8Array(e))}toBase64(){return zI(),this._delegate.toBase64()}toUint8Array(){return BI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i){return D3(i,["next","error","complete"])}function D3(i,e){if(typeof i!="object"||i===null)return!1;const t=i;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{enableIndexedDbPersistence(e,t){return zU(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return FU(e._delegate)}clearIndexedDbPersistence(e){return qU(e._delegate)}}class lx{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ma("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,n={}){LU(this._delegate,e,t,n)}enableNetwork(){return $U(this._delegate)}disableNetwork(){return GU(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,j1("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return HU(this._delegate)}onSnapshotsInSync(e){return y3(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Mh(this,$1(this._delegate,e))}catch(t){throw ki(t,"collection()","Firestore.collection()")}}doc(e){try{return new $r(this,Fg(this._delegate,e))}catch(t){throw ki(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Oi(this,UU(this._delegate,e))}catch(t){throw ki(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return w3(this._delegate,t=>e(new cx(this,t)))}batch(){return wi(this._delegate),new ux(new E3(this._delegate,e=>Vm(this._delegate,e)))}loadBundle(e){return KU(this._delegate,e)}namedQuery(e){return QU(this._delegate,e).then(t=>t?new Oi(this,t):null)}}class V_ extends Wb{constructor(e){super(),this.firestore=e}convertBytes(e){return new cm(new ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $r.forKey(t,this.firestore,null)}}function O3(i){yM(i)}class cx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new V_(e)}get(e){const t=Bc(e);return this._delegate.get(t).then(n=>new um(this._firestore,new ho(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,t.converter)))}set(e,t,n){const a=Bc(e);return n?(Jb("Transaction.set",n),this._delegate.set(a,t,n)):this._delegate.set(a,t),this}update(e,t,n,...a){const l=Bc(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,n,...a),this}delete(e){const t=Bc(e);return this._delegate.delete(t),this}}class ux{constructor(e){this._delegate=e}set(e,t,n){const a=Bc(e);return n?(Jb("WriteBatch.set",n),this._delegate.set(a,t,n)):this._delegate.set(a,t),this}update(e,t,n,...a){const l=Bc(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,n,...a),this}delete(e){const t=Bc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zc{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Bf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hm(this._firestore,n),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Zc.INSTANCES;let a=n.get(e);a||(a=new WeakMap,n.set(e,a));let l=a.get(t);return l||(l=new Zc(e,new V_(e),t),a.set(t,l)),l}}Zc.INSTANCES=new WeakMap;class $r{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new V_(e)}static forPath(e,t,n){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $r(t,new tn(t._delegate,n,new Te(e)))}static forKey(e,t,n){return new $r(t,new tn(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Mh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Mh(this.firestore,$1(this._delegate,e))}catch(t){throw ki(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=je(e),e instanceof tn?G1(this._delegate,e):!1}set(e,t){t=Jb("DocumentReference.set",t);try{return t?UI(this._delegate,e,t):UI(this._delegate,e)}catch(n){throw ki(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return arguments.length===1?jI(this._delegate,e):jI(this._delegate,e,t,...n)}catch(a){throw ki(a,"updateDoc()","DocumentReference.update()")}}delete(){return g3(this._delegate)}onSnapshot(...e){const t=hx(e),n=dx(e,a=>new um(this.firestore,new ho(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return ox(this._delegate,t,n)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=h3(this._delegate):(e==null?void 0:e.source)==="server"?t=d3(this._delegate):t=u3(this._delegate),t.then(n=>new um(this.firestore,new ho(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new $r(this.firestore,e?this._delegate.withConverter(Zc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ki(i,e,t){return i.message=i.message.replace(e,t),i}function hx(i){for(const e of i)if(typeof e=="object"&&!iE(e))return e;return{}}function dx(i,e){var t,n;let a;return iE(i[0])?a=i[0]:iE(i[1])?a=i[1]:typeof i[0]=="function"?a={next:i[0],error:i[1],complete:i[2]}:a={next:i[1],error:i[2],complete:i[3]},{next:l=>{a.next&&a.next(e(l))},error:(t=a.error)===null||t===void 0?void 0:t.bind(a),complete:(n=a.complete)===null||n===void 0?void 0:n.bind(a)}}class um{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $r(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ax(this._delegate,e._delegate)}}class hm extends um{data(e){const t=this._delegate.data(e);return this._delegate._converter||vM(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Oi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new V_(e)}where(e,t,n){try{return new Oi(this.firestore,dl(this._delegate,e3(e,t,n)))}catch(a){throw ki(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Oi(this.firestore,dl(this._delegate,t3(e,t)))}catch(n){throw ki(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Oi(this.firestore,dl(this._delegate,n3(e)))}catch(t){throw ki(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Oi(this.firestore,dl(this._delegate,i3(e)))}catch(t){throw ki(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Oi(this.firestore,dl(this._delegate,r3(...e)))}catch(t){throw ki(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Oi(this.firestore,dl(this._delegate,s3(...e)))}catch(t){throw ki(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Oi(this.firestore,dl(this._delegate,a3(...e)))}catch(t){throw ki(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Oi(this.firestore,dl(this._delegate,o3(...e)))}catch(t){throw ki(t,"endAt()","Query.endAt()")}}isEqual(e){return K1(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=m3(this._delegate):(e==null?void 0:e.source)==="server"?t=p3(this._delegate):t=f3(this._delegate),t.then(n=>new rE(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){const t=hx(e),n=dx(e,a=>new rE(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return ox(this._delegate,t,n)}withConverter(e){return new Oi(this.firestore,e?this._delegate.withConverter(Zc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class k3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Oi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new k3(this._firestore,t))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new hm(this._firestore,n))})}isEqual(e){return ax(this._delegate,e._delegate)}}class Mh extends Oi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $r(this.firestore,e):null}doc(e){try{return e===void 0?new $r(this.firestore,Fg(this._delegate)):new $r(this.firestore,Fg(this._delegate,e))}catch(t){throw ki(t,"doc()","CollectionReference.doc()")}}add(e){return _3(this._delegate,e).then(t=>new $r(this.firestore,t))}isEqual(e){return G1(this._delegate,e._delegate)}withConverter(e){return new Mh(this.firestore,e?this._delegate.withConverter(Zc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bc(i){return Tt(i,tn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(...e){this._delegate=new Ol(...e)}static documentId(){return new Zb(Qt.keyField().canonicalString())}isEqual(e){return e=je(e),e instanceof Ol?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{static serverTimestamp(){const e=I3();return e._methodName="FieldValue.serverTimestamp",new Mc(e)}static delete(){const e=A3();return e._methodName="FieldValue.delete",new Mc(e)}static arrayUnion(...e){const t=S3(...e);return t._methodName="FieldValue.arrayUnion",new Mc(t)}static arrayRemove(...e){const t=R3(...e);return t._methodName="FieldValue.arrayRemove",new Mc(t)}static increment(e){const t=C3(e);return t._methodName="FieldValue.increment",new Mc(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={Firestore:lx,GeoPoint:S_,Timestamp:Xt,Blob:cm,Transaction:cx,WriteBatch:ux,DocumentReference:$r,DocumentSnapshot:um,Query:Oi,QueryDocumentSnapshot:hm,QuerySnapshot:rE,CollectionReference:Mh,FieldPath:Zb,FieldValue:Mc,setLogLevel:O3,CACHE_SIZE_UNLIMITED:BU};function M3(i,e){i.INTERNAL.registerComponent(new da("firestore-compat",t=>{const n=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(n,a)},"PUBLIC").setServiceProps(Object.assign({},V3)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(i){M3(i,(e,t)=>new lx(e,t,new P3)),i.registerVersion(x3,N3)}L3(We);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=2e3;async function j3(i,e,t){var n;const{BuildInfo:a}=eu();bs(e.sessionId,"AuthEvent did not contain a session ID");const l=await H3(e.sessionId),c={};return _m()?c.ibi=a.packageName:gm()?c.apn=a.packageName:ei(i,"operation-not-supported-in-this-environment"),a.displayName&&(c.appDisplayName=a.displayName),c.sessionId=l,Cv(i,t,e.type,void 0,(n=e.eventId)!==null&&n!==void 0?n:void 0,c)}async function B3(i){const{BuildInfo:e}=eu(),t={};_m()?t.iosBundleId=e.packageName:gm()?t.androidPackageName=e.packageName:ei(i,"operation-not-supported-in-this-environment"),await TR(i,t)}function z3(i){const{cordova:e}=eu();return new Promise(t=>{e.plugins.browsertab.isAvailable(n=>{let a=null;n?e.plugins.browsertab.openUrl(i):a=e.InAppBrowser.open(i,lk()?"_blank":"_system","location=yes"),t(a)})})}async function F3(i,e,t){const{cordova:n}=eu();let a=()=>{};try{await new Promise((l,c)=>{let d=null;function m(){var E;l();const T=(E=n.plugins.browsertab)===null||E===void 0?void 0:E.close;typeof T=="function"&&T(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function g(){d||(d=window.setTimeout(()=>{c(Fn(i,"redirect-cancelled-by-user"))},U3))}function y(){(document==null?void 0:document.visibilityState)==="visible"&&g()}e.addPassiveListener(m),document.addEventListener("resume",g,!1),gm()&&document.addEventListener("visibilitychange",y,!1),a=()=>{e.removePassiveListener(m),document.removeEventListener("resume",g,!1),document.removeEventListener("visibilitychange",y,!1),d&&window.clearTimeout(d)}})}finally{a()}}function q3(i){var e,t,n,a,l,c,d,m,g,y;const E=eu();pe(typeof((e=E==null?void 0:E.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(typeof((t=E==null?void 0:E.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe(typeof((l=(a=(n=E==null?void 0:E.cordova)===null||n===void 0?void 0:n.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.openUrl)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof((m=(d=(c=E==null?void 0:E.cordova)===null||c===void 0?void 0:c.plugins)===null||d===void 0?void 0:d.browsertab)===null||m===void 0?void 0:m.isAvailable)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof((y=(g=E==null?void 0:E.cordova)===null||g===void 0?void 0:g.InAppBrowser)===null||y===void 0?void 0:y.open)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function H3(i){const e=$3(i),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(a=>a.toString(16).padStart(2,"0")).join("")}function $3(i){if(bs(/[0-9a-zA-Z]+/.test(i),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(i);const e=new ArrayBuffer(i.length),t=new Uint8Array(e);for(let n=0;n<i.length;n++)t[n]=i.charCodeAt(n);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=20;class K3 extends ER{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Q3(i,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:X3(),postBody:null,tenantId:i.tenantId,error:Fn(i,"no-auth-event")}}function Y3(i,e){return sE()._set(aE(i),e)}async function FI(i){const e=await sE()._get(aE(i));return e&&await sE()._remove(aE(i)),e}function W3(i,e){var t,n;const a=Z3(e);if(a.includes("/__/auth/callback")){const l=gg(a),c=l.firebaseError?J3(decodeURIComponent(l.firebaseError)):null,d=(n=(t=c==null?void 0:c.code)===null||t===void 0?void 0:t.split("auth/"))===null||n===void 0?void 0:n[1],m=d?Fn(d):null;return m?{type:i.type,eventId:i.eventId,tenantId:i.tenantId,error:m,urlResponse:null,sessionId:null,postBody:null}:{type:i.type,eventId:i.eventId,tenantId:i.tenantId,sessionId:i.sessionId,urlResponse:a,postBody:null}}return null}function X3(){const i=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<G3;t++){const n=Math.floor(Math.random()*e.length);i.push(e.charAt(n))}return i.join("")}function sE(){return Er(r_)}function aE(i){return zc("authEvent",i.config.apiKey,i.name)}function J3(i){try{return JSON.parse(i)}catch{return null}}function Z3(i){const e=gg(i),t=e.link?decodeURIComponent(e.link):void 0,n=gg(t).link,a=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return gg(a).link||a||n||t||i}function gg(i){if(!(i!=null&&i.includes("?")))return{};const[e,...t]=i.split("?");return ah(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=500;class t6{constructor(){this._redirectPersistence=Il,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=l_,this._overrideRedirectResult=BE}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new K3(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ei(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,a){q3(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),h2(),await this._originValidation(e);const c=Q3(e,n,a);await Y3(e,c);const d=await j3(e,c,t),m=await z3(d);return F3(e,l,m)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=B3(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:a,BuildInfo:l}=eu(),c=setTimeout(async()=>{await FI(e),t.onEvent(qI())},e6),d=async y=>{clearTimeout(c);const E=await FI(e);let T=null;E&&(y!=null&&y.url)&&(T=W3(E,y.url)),t.onEvent(T||qI())};typeof n<"u"&&typeof n.subscribe=="function"&&n.subscribe(null,d);const m=a,g=`${l.packageName.toLowerCase()}://`;eu().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(g)&&d({url:y}),typeof m=="function")try{m(y)}catch(E){console.error(E)}}}}const n6=t6;function qI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(i,e){rn(i)._logFramework(e)}var r6="@firebase/auth-compat",s6="0.5.26";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=1e3;function zf(){var i;return((i=self==null?void 0:self.location)===null||i===void 0?void 0:i.protocol)||null}function o6(){return zf()==="http:"||zf()==="https:"}function fx(i=nn()){return!!((zf()==="file:"||zf()==="ionic:"||zf()==="capacitor:")&&i.toLowerCase().match(/iphone|ipad|ipod|android/))}function l6(){return EE()||Qg()}function c6(){return mS()&&(document==null?void 0:document.documentMode)===11}function u6(i=nn()){return/Edge\/\d+/.test(i)}function h6(i=nn()){return c6()||u6(i)}function mx(){try{const i=self.localStorage,e=Em();if(i)return i.setItem(e,"1"),i.removeItem(e),h6()?qf():!0}catch{return eT()&&qf()}return!1}function eT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vv(){return(o6()||fS()||fx())&&!l6()&&mx()&&!eT()}function px(){return fx()&&typeof document<"u"}async function d6(){return px()?new Promise(i=>{const e=setTimeout(()=>{i(!1)},a6);document.addEventListener("deviceready",()=>{clearTimeout(e),i(!0)})}):!1}function f6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr={LOCAL:"local",NONE:"none",SESSION:"session"},vf=pe,gx="persistence";function m6(i,e){if(vf(Object.values(vr).includes(e),i,"invalid-persistence-type"),EE()){vf(e!==vr.SESSION,i,"unsupported-persistence-type");return}if(Qg()){vf(e===vr.NONE,i,"unsupported-persistence-type");return}if(eT()){vf(e===vr.NONE||e===vr.LOCAL&&qf(),i,"unsupported-persistence-type");return}vf(e===vr.NONE||mx(),i,"unsupported-persistence-type")}async function oE(i){await i._initializationPromise;const e=_x(),t=zc(gx,i.config.apiKey,i.name);e&&e.setItem(t,i._getPersistenceType())}function p6(i,e){const t=_x();if(!t)return[];const n=zc(gx,i,e);switch(t.getItem(n)){case vr.NONE:return[ph];case vr.LOCAL:return[_h,Il];case vr.SESSION:return[Il];default:return[]}}function _x(){var i;try{return((i=f6())===null||i===void 0?void 0:i.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=pe;class gl{constructor(){this.browserResolver=Er(wR),this.cordovaResolver=Er(n6),this.underlyingResolver=null,this._redirectPersistence=Il,this._completeRedirectFn=l_,this._overrideRedirectResult=BE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,a)}async _openRedirect(e,t,n,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,a)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return px()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return g6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await d6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(i){return i.unwrap()}function _6(i){return i.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(i){return vx(i)}function v6(i,e){var t;const n=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const a=e;a.resolver=new E6(i,SV(i,e))}else if(n){const a=vx(e),l=e;a&&(l.credential=a,l.tenantId=n.tenantId||void 0,l.email=n.email||void 0,l.phoneNumber=n.phoneNumber||void 0)}}function vx(i){const{_tokenResponse:e}=i instanceof Vi?i.customData:i;if(!e)return null;if(!(i instanceof Vi)&&"temporaryProof"in e&&"phoneNumber"in e)return Hc.credentialFromResult(i);const t=e.providerId;if(!t||t===cf.PASSWORD)return null;let n;switch(t){case cf.GOOGLE:n=ra;break;case cf.FACEBOOK:n=ia;break;case cf.GITHUB:n=sa;break;case cf.TWITTER:n=aa;break;default:const{oauthIdToken:a,oauthAccessToken:l,oauthTokenSecret:c,pendingToken:d,nonce:m}=e;return!l&&!c&&!a&&!d?null:d?t.startsWith("saml.")?gh._create(t,d):fa._fromParams({providerId:t,signInMethod:t,pendingToken:d,idToken:a,accessToken:l}):new ch(t).credential({idToken:a,accessToken:l,rawNonce:m})}return i instanceof Vi?n.credentialFromError(i):n.credentialFromResult(i)}function Xi(i,e){return e.catch(t=>{throw t instanceof Vi&&v6(i,t),t}).then(t=>{const n=t.operationType,a=t.user;return{operationType:n,credential:y6(t),additionalUserInfo:TV(t),user:no.getOrCreate(a)}})}async function lE(i,e){const t=await e;return{verificationId:t.verificationId,confirm:n=>Xi(i,t.confirm(n))}}class E6{constructor(e,t){this.resolver=t,this.auth=_6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Xi(yx(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._delegate=e,this.multiFactor=xV(e)}static getOrCreate(e){return no.USER_MAP.has(e)||no.USER_MAP.set(e,new no(e)),no.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Xi(this.auth,iR(this._delegate,e))}async linkWithPhoneNumber(e,t){return lE(this.auth,JV(this._delegate,e,t))}async linkWithPopup(e){return Xi(this.auth,o2(this._delegate,e,gl))}async linkWithRedirect(e){return await oE(rn(this.auth)),g2(this._delegate,e,gl)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Xi(this.auth,rR(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return lE(this.auth,ZV(this._delegate,e,t))}reauthenticateWithPopup(e){return Xi(this.auth,a2(this._delegate,e,gl))}async reauthenticateWithRedirect(e){return await oE(rn(this.auth)),m2(this._delegate,e,gl)}sendEmailVerification(e){return hV(this._delegate,e)}async unlink(e){return await Zk(this._delegate,e),this}updateEmail(e){return pV(this._delegate,e)}updatePassword(e){return gV(this._delegate,e)}updatePhoneNumber(e){return e2(this._delegate,e)}updateProfile(e){return mV(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return dV(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}no.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=pe;class cE{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:n}=e.options;Ef(n,"invalid-api-key",{appName:e.name}),Ef(n,"invalid-api-key",{appName:e.name});const a=typeof window<"u"?gl:void 0;this._delegate=t.initialize({options:{persistence:b6(n,e.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(FO),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?no.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){YS(this._delegate,e,t)}applyActionCode(e){return rV(this._delegate,e)}checkActionCode(e){return sR(this._delegate,e)}confirmPasswordReset(e,t){return iV(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Xi(this._delegate,aR(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return uV(this._delegate,e)}isSignInWithEmailLink(e){return oV(this._delegate,e)}async getRedirectResult(){Ef(vv(),this._delegate,"operation-not-supported-in-this-environment");const e=await y2(this._delegate,gl);return e?Xi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){i6(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:a,error:l,complete:c}=HI(e,t,n);return this._delegate.onAuthStateChanged(a,l,c)}onIdTokenChanged(e,t,n){const{next:a,error:l,complete:c}=HI(e,t,n);return this._delegate.onIdTokenChanged(a,l,c)}sendSignInLinkToEmail(e,t){return aV(this._delegate,e,t)}sendPasswordResetEmail(e,t){return nV(this._delegate,e,t||void 0)}async setPersistence(e){m6(this._delegate,e);let t;switch(e){case vr.SESSION:t=Il;break;case vr.LOCAL:t=await Er(_h)._isAvailable()?_h:r_;break;case vr.NONE:t=ph;break;default:return ei("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Xi(this._delegate,Jk(this._delegate))}signInWithCredential(e){return Xi(this._delegate,n_(this._delegate,e))}signInWithCustomToken(e){return Xi(this._delegate,tV(this._delegate,e))}signInWithEmailAndPassword(e,t){return Xi(this._delegate,oR(this._delegate,e,t))}signInWithEmailLink(e,t){return Xi(this._delegate,lV(this._delegate,e,t))}signInWithPhoneNumber(e,t){return lE(this._delegate,XV(this._delegate,e,t))}async signInWithPopup(e){return Ef(vv(),this._delegate,"operation-not-supported-in-this-environment"),Xi(this._delegate,s2(this._delegate,e,gl))}async signInWithRedirect(e){return Ef(vv(),this._delegate,"operation-not-supported-in-this-environment"),await oE(this._delegate),d2(this._delegate,e,gl)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return sV(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}cE.Persistence=vr;function HI(i,e,t){let n=i;typeof i!="function"&&({next:n,error:e,complete:t}=i);const a=n;return{next:c=>a(c&&no.getOrCreate(c)),error:e,complete:t}}function b6(i,e){const t=p6(i,e);if(typeof self<"u"&&!t.includes(_h)&&t.push(_h),typeof window<"u")for(const n of[r_,Il])t.includes(n)||t.push(n);return t.includes(ph)||t.push(ph),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static credential(e,t){return Hc.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Hc(yx(We.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}tT.PHONE_SIGN_IN_METHOD=Hc.PHONE_SIGN_IN_METHOD;tT.PROVIDER_ID=Hc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=pe;class w6{constructor(e,t,n=We.app()){var a;T6((a=n.options)===null||a===void 0?void 0:a.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new YV(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="auth-compat";function I6(i){i.INTERNAL.registerComponent(new da(A6,e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new cE(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gu.EMAIL_SIGNIN,PASSWORD_RESET:Gu.PASSWORD_RESET,RECOVER_EMAIL:Gu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Gu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Gu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Gu.VERIFY_EMAIL}},EmailAuthProvider:Ll,FacebookAuthProvider:ia,GithubAuthProvider:sa,GoogleAuthProvider:ra,OAuthProvider:ch,SAMLAuthProvider:wg,PhoneAuthProvider:tT,PhoneMultiFactorGenerator:AR,RecaptchaVerifier:w6,TwitterAuthProvider:aa,Auth:cE,AuthCredential:Fh,Error:Vi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),i.registerVersion(r6,s6)}I6(We);We.apps.length||We.initializeApp(Hh);const Ac=We.firestore(),S6=We.auth(),R6="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",Ws="deephermes";function C6(){const[i,e]=K.useState(!1),[t,n]=K.useState([]),[a,l]=K.useState(""),[c,d]=K.useState(()=>localStorage.getItem(`chatId_${Ws}`)||null),[m,g]=K.useState([]),y=K.useRef(null),E=K.useRef(null),[T,V]=K.useState(null);K.useEffect(()=>{const k=S6.onAuthStateChanged(P=>{P?(V(P.uid),console.log(P.uid)):(V(null),console.log("No user is signed in."))});return()=>k()},[]),K.useEffect(()=>{let k;(async()=>{if(c)k=Ac.collection("chats").doc("bots").collection(Ws).doc(c);else{const S=Ac.collection("chats").doc().id;localStorage.setItem(`chatId_${Ws}`,S),d(S),k=Ac.collection("chats").doc("bots").collection(Ws).doc(S),await k.set({botName:Ws,createdAt:We.firestore.FieldValue.serverTimestamp(),lastUpdated:We.firestore.FieldValue.serverTimestamp(),title:"New Chat",uuid:T})}E.current=k,n([{sender:"system",text:"Loading chat history...",type:"loading"}]);try{const S=await k.collection("messages").orderBy("timestamp","asc").get();if(S.empty)n([{sender:"bot",text:"Hello! How can I help you today?"}]);else{const x=S.docs.map(M=>M.data());n(x)}}catch(S){console.error("Error loading messages:",S),n([{sender:"bot",text:"Couldn't load previous messages."}])}try{const x=(await Ac.collection("chats").doc("bots").collection(Ws).orderBy("lastUpdated","desc").limit(20).get()).docs.map(M=>({id:M.id,title:M.data().title||"New Chat",uuid:M.data().uuid}));g(x)}catch(S){console.error("History error:",S),g([])}})()},[c,T]),K.useEffect(()=>{ye()},[t]);const L=async(k,P)=>{E.current&&(await E.current.collection("messages").add({sender:k,text:P,timestamp:We.firestore.FieldValue.serverTimestamp()}),await E.current.update({lastUpdated:We.firestore.FieldValue.serverTimestamp()}))},H=async k=>{if(!E.current)return;if((await E.current.collection("messages").get()).size===1){const S=k.length>30?k.substring(0,30)+"...":k;await E.current.update({title:S})}},F=async k=>{var x,M,B;const P=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${R6}`,"Content-Type":"application/json"},body:JSON.stringify({model:"nousresearch/deephermes-3-mistral-24b-preview:free",messages:[{role:"user",content:k}]})});if(!P.ok)throw new Error(`API failed with ${P.status}`);return((B=(M=(x=(await P.json()).choices)==null?void 0:x[0])==null?void 0:M.message)==null?void 0:B.content)??"No response received."},Z=async()=>{const k=a.trim();if(!k)return;l(""),n(S=>[...S,{sender:"user",text:k}]),await L("user",k),H(k);const P={sender:"bot",type:"typing"};n(S=>[...S,P]);try{const S=await F(k);n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:S}]),await L("bot",S)}catch(S){console.error(S),n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:"Sorry, I'm having trouble connecting to the AI service."}])}},ne=()=>{localStorage.removeItem(`chatId_${Ws}`),d(null),n([]),e(!0)},le=k=>{localStorage.setItem(`chatId_${Ws}`,k),d(k),n([]),e(!0)},Ee=async k=>{if(window.confirm("Are you sure you want to delete this chat?"))try{const P=Ac.collection("chats").doc("bots").collection(Ws).doc(k),S=await P.collection("messages").get(),x=Ac.batch();S.docs.forEach(z=>{x.delete(z.ref)}),await x.commit(),await P.delete();const B=(await Ac.collection("chats").doc("bots").collection(Ws).orderBy("lastUpdated","desc").limit(20).get()).docs.map(z=>({id:z.id,title:z.data().title||"New Chat",uuid:z.data().uuid}));g(B),e(!1),console.log("Chat successfully deleted!")}catch(P){console.error("Error removing chat: ",P)}},ye=()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)};return C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"d-flex",children:[C.jsx("div",{className:"flex-column bg-dark me-2 rounded-4",style:{height:"89vh"},children:C.jsxs("nav",{className:"nav flex-column",children:[C.jsxs("button",{id:"new-chat-btn",className:"btn btn-outline-light m-3",onClick:ne,children:[C.jsx("i",{className:"bi bi-plus-circle me-2"})," New Chat"]}),C.jsx("div",{className:"text-white text-center px-3 mt-1 mb-2 small",children:"Chat History"}),C.jsx("div",{id:"history-list",className:"d-flex flex-column m-3",children:m.filter(k=>k.uuid===T).map(k=>C.jsx("button",{className:`btn btn-outline-light history-item mb-3 ${k.id===c?"active":""}`,style:{width:"200px"},onClick:()=>le(k.id),children:k.title},k.id))})]})}),i&&C.jsxs("div",{className:"flex-column chat-container ms-2 vw-100",style:{height:"89vh"},children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Nous: DeepHermes 3 Mistral 24B Preview"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages",ref:y,children:t.map((k,P)=>C.jsxs("div",{className:`message ${k.sender==="user"?"user-message":"bot-message"}`,children:[k.sender==="bot"&&k.type!=="typing"&&C.jsx("div",{className:"bot-identifier"}),k.type==="loading"?C.jsx("div",{className:"loading-message",children:k.text}):k.type==="typing"?C.jsxs("div",{className:"typing",children:[C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"})]}):C.jsx("div",{className:"message-content",children:k.text})]},P))}),C.jsxs("div",{className:"chat-input",children:[c&&C.jsx("button",{id:"delete-chat-button",className:"btn btn-outline-danger me-2",onClick:()=>Ee(c),children:C.jsx("i",{className:"bi bi-trash"})}),C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message...",value:a,onChange:k=>l(k.target.value),onKeyPress:k=>{k.key==="Enter"&&Z()}}),C.jsx("button",{id:"send-button",onClick:Z,children:"Send"})]})]})]})})}We.apps.length||We.initializeApp(Hh);const Ic=We.firestore(),x6=We.auth(),N6="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",Xs="devstral";function D6(){const[i,e]=K.useState(!1),[t,n]=K.useState([]),[a,l]=K.useState(""),[c,d]=K.useState(()=>localStorage.getItem(`chatId_${Xs}`)||null),[m,g]=K.useState([]),y=K.useRef(null),E=K.useRef(null),[T,V]=K.useState(null);K.useEffect(()=>{const k=x6.onAuthStateChanged(P=>{P?(V(P.uid),console.log(P.uid)):(V(null),console.log("No user is signed in."))});return()=>k()},[]),K.useEffect(()=>{let k;(async()=>{if(c)k=Ic.collection("chats").doc("bots").collection(Xs).doc(c);else{const S=Ic.collection("chats").doc().id;localStorage.setItem(`chatId_${Xs}`,S),d(S),k=Ic.collection("chats").doc("bots").collection(Xs).doc(S),await k.set({botName:Xs,createdAt:We.firestore.FieldValue.serverTimestamp(),lastUpdated:We.firestore.FieldValue.serverTimestamp(),title:"New Chat",uuid:T})}E.current=k,n([{sender:"system",text:"Loading chat history...",type:"loading"}]);try{const S=await k.collection("messages").orderBy("timestamp","asc").get();if(S.empty)n([{sender:"bot",text:"Hello! How can I help you today?"}]);else{const x=S.docs.map(M=>M.data());n(x)}}catch(S){console.error("Error loading messages:",S),n([{sender:"bot",text:"Couldn't load previous messages."}])}try{const x=(await Ic.collection("chats").doc("bots").collection(Xs).orderBy("lastUpdated","desc").limit(20).get()).docs.map(M=>({id:M.id,title:M.data().title||"New Chat",uuid:M.data().uuid}));g(x)}catch(S){console.error("History error:",S),g([])}})()},[c,T]),K.useEffect(()=>{ye()},[t]);const L=async(k,P)=>{E.current&&(await E.current.collection("messages").add({sender:k,text:P,timestamp:We.firestore.FieldValue.serverTimestamp()}),await E.current.update({lastUpdated:We.firestore.FieldValue.serverTimestamp()}))},H=async k=>{if(!E.current)return;if((await E.current.collection("messages").get()).size===1){const S=k.length>30?k.substring(0,30)+"...":k;await E.current.update({title:S})}},F=async k=>{var x,M,B;const P=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${N6}`,"Content-Type":"application/json"},body:JSON.stringify({model:"mistralai/devstral-small:free",messages:[{role:"user",content:k}]})});if(!P.ok)throw new Error(`API failed with ${P.status}`);return((B=(M=(x=(await P.json()).choices)==null?void 0:x[0])==null?void 0:M.message)==null?void 0:B.content)??"No response received."},Z=async()=>{const k=a.trim();if(!k)return;l(""),n(S=>[...S,{sender:"user",text:k}]),await L("user",k),H(k);const P={sender:"bot",type:"typing"};n(S=>[...S,P]);try{const S=await F(k);n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:S}]),await L("bot",S)}catch(S){console.error(S),n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:"Sorry, I'm having trouble connecting to the AI service."}])}},ne=()=>{localStorage.removeItem(`chatId_${Xs}`),d(null),n([]),e(!0)},le=k=>{localStorage.setItem(`chatId_${Xs}`,k),d(k),n([]),e(!0)},Ee=async k=>{if(window.confirm("Are you sure you want to delete this chat?"))try{const P=Ic.collection("chats").doc("bots").collection(Xs).doc(k),S=await P.collection("messages").get(),x=Ic.batch();S.docs.forEach(z=>{x.delete(z.ref)}),await x.commit(),await P.delete();const B=(await Ic.collection("chats").doc("bots").collection(Xs).orderBy("lastUpdated","desc").limit(20).get()).docs.map(z=>({id:z.id,title:z.data().title||"New Chat",uuid:z.data().uuid}));g(B),e(!1),console.log("Chat successfully deleted!")}catch(P){console.error("Error removing chat: ",P)}},ye=()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)};return C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"d-flex",children:[C.jsx("div",{className:"flex-column bg-dark me-2 rounded-4",style:{height:"89vh"},children:C.jsxs("nav",{className:"nav flex-column",children:[C.jsxs("button",{id:"new-chat-btn",className:"btn btn-outline-light m-3",onClick:ne,children:[C.jsx("i",{className:"bi bi-plus-circle me-2"})," New Chat"]}),C.jsx("div",{className:"text-white text-center px-3 mt-1 mb-2 small",children:"Chat History"}),C.jsx("div",{id:"history-list",className:"d-flex flex-column m-3",children:m.filter(k=>k.uuid===T).map(k=>C.jsx("button",{className:`btn btn-outline-light history-item mb-3 ${k.id===c?"active":""}`,style:{width:"200px"},onClick:()=>le(k.id),children:k.title},k.id))})]})}),i&&C.jsxs("div",{className:"flex-column chat-container ms-2 vw-100",style:{height:"89vh"},children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Mistral: Devstral Small"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages",ref:y,children:t.map((k,P)=>C.jsxs("div",{className:`message ${k.sender==="user"?"user-message":"bot-message"}`,children:[k.sender==="bot"&&k.type!=="typing"&&C.jsx("div",{className:"bot-identifier"}),k.type==="loading"?C.jsx("div",{className:"loading-message",children:k.text}):k.type==="typing"?C.jsxs("div",{className:"typing",children:[C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"})]}):C.jsx("div",{className:"message-content",children:k.text})]},P))}),C.jsxs("div",{className:"chat-input",children:[c&&C.jsx("button",{id:"delete-chat-button",className:"btn btn-outline-danger me-2",onClick:()=>Ee(c),children:C.jsx("i",{className:"bi bi-trash"})}),C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message...",value:a,onChange:k=>l(k.target.value),onKeyPress:k=>{k.key==="Enter"&&Z()}}),C.jsx("button",{id:"send-button",onClick:Z,children:"Send"})]})]})]})})}We.apps.length||We.initializeApp(Hh);const Sc=We.firestore(),P6=We.auth(),O6="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",Js="gemma";function k6(){const[i,e]=K.useState(!1),[t,n]=K.useState([]),[a,l]=K.useState(""),[c,d]=K.useState(()=>localStorage.getItem(`chatId_${Js}`)||null),[m,g]=K.useState([]),y=K.useRef(null),E=K.useRef(null),[T,V]=K.useState(null);K.useEffect(()=>{const k=P6.onAuthStateChanged(P=>{P?(V(P.uid),console.log(P.uid)):(V(null),console.log("No user is signed in."))});return()=>k()},[]),K.useEffect(()=>{let k;(async()=>{if(c)k=Sc.collection("chats").doc("bots").collection(Js).doc(c);else{const S=Sc.collection("chats").doc().id;localStorage.setItem(`chatId_${Js}`,S),d(S),k=Sc.collection("chats").doc("bots").collection(Js).doc(S),await k.set({botName:Js,createdAt:We.firestore.FieldValue.serverTimestamp(),lastUpdated:We.firestore.FieldValue.serverTimestamp(),title:"New Chat",uuid:T})}E.current=k,n([{sender:"system",text:"Loading chat history...",type:"loading"}]);try{const S=await k.collection("messages").orderBy("timestamp","asc").get();if(S.empty)n([{sender:"bot",text:"Hello! How can I help you today?"}]);else{const x=S.docs.map(M=>M.data());n(x)}}catch(S){console.error("Error loading messages:",S),n([{sender:"bot",text:"Couldn't load previous messages."}])}try{const x=(await Sc.collection("chats").doc("bots").collection(Js).orderBy("lastUpdated","desc").limit(20).get()).docs.map(M=>({id:M.id,title:M.data().title||"New Chat",uuid:M.data().uuid}));g(x)}catch(S){console.error("History error:",S),g([])}})()},[c,T]),K.useEffect(()=>{ye()},[t]);const L=async(k,P)=>{E.current&&(await E.current.collection("messages").add({sender:k,text:P,timestamp:We.firestore.FieldValue.serverTimestamp()}),await E.current.update({lastUpdated:We.firestore.FieldValue.serverTimestamp()}))},H=async k=>{if(!E.current)return;if((await E.current.collection("messages").get()).size===1){const S=k.length>30?k.substring(0,30)+"...":k;await E.current.update({title:S})}},F=async k=>{var x,M,B;const P=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${O6}`,"Content-Type":"application/json"},body:JSON.stringify({model:"google/gemma-3n-e4b-it:free",messages:[{role:"user",content:k}]})});if(!P.ok)throw new Error(`API failed with ${P.status}`);return((B=(M=(x=(await P.json()).choices)==null?void 0:x[0])==null?void 0:M.message)==null?void 0:B.content)??"No response received."},Z=async()=>{const k=a.trim();if(!k)return;l(""),n(S=>[...S,{sender:"user",text:k}]),await L("user",k),H(k);const P={sender:"bot",type:"typing"};n(S=>[...S,P]);try{const S=await F(k);n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:S}]),await L("bot",S)}catch(S){console.error(S),n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:"Sorry, I'm having trouble connecting to the AI service."}])}},ne=()=>{localStorage.removeItem(`chatId_${Js}`),d(null),n([]),e(!0)},le=k=>{localStorage.setItem(`chatId_${Js}`,k),d(k),n([]),e(!0)},Ee=async k=>{if(window.confirm("Are you sure you want to delete this chat?"))try{const P=Sc.collection("chats").doc("bots").collection(Js).doc(k),S=await P.collection("messages").get(),x=Sc.batch();S.docs.forEach(z=>{x.delete(z.ref)}),await x.commit(),await P.delete();const B=(await Sc.collection("chats").doc("bots").collection(Js).orderBy("lastUpdated","desc").limit(20).get()).docs.map(z=>({id:z.id,title:z.data().title||"New Chat",uuid:z.data().uuid}));g(B),e(!1),console.log("Chat successfully deleted!")}catch(P){console.error("Error removing chat: ",P)}},ye=()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)};return C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"d-flex",children:[C.jsx("div",{className:"flex-column bg-dark me-2 rounded-4",style:{height:"89vh"},children:C.jsxs("nav",{className:"nav flex-column",children:[C.jsxs("button",{id:"new-chat-btn",className:"btn btn-outline-light m-3",onClick:ne,children:[C.jsx("i",{className:"bi bi-plus-circle me-2"})," New Chat"]}),C.jsx("div",{className:"text-white text-center px-3 mt-1 mb-2 small",children:"Chat History"}),C.jsx("div",{id:"history-list",className:"d-flex flex-column m-3",children:m.filter(k=>k.uuid===T).map(k=>C.jsx("button",{className:`btn btn-outline-light history-item mb-3 ${k.id===c?"active":""}`,style:{width:"200px"},onClick:()=>le(k.id),children:k.title},k.id))})]})}),i&&C.jsxs("div",{className:"flex-column chat-container ms-2 vw-100",style:{height:"89vh"},children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Google: Gemma 3n 4B"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages",ref:y,children:t.map((k,P)=>C.jsxs("div",{className:`message ${k.sender==="user"?"user-message":"bot-message"}`,children:[k.sender==="bot"&&k.type!=="typing"&&C.jsx("div",{className:"bot-identifier"}),k.type==="loading"?C.jsx("div",{className:"loading-message",children:k.text}):k.type==="typing"?C.jsxs("div",{className:"typing",children:[C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"})]}):C.jsx("div",{className:"message-content",children:k.text})]},P))}),C.jsxs("div",{className:"chat-input",children:[c&&C.jsx("button",{id:"delete-chat-button",className:"btn btn-outline-danger me-2",onClick:()=>Ee(c),children:C.jsx("i",{className:"bi bi-trash"})}),C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message...",value:a,onChange:k=>l(k.target.value),onKeyPress:k=>{k.key==="Enter"&&Z()}}),C.jsx("button",{id:"send-button",onClick:Z,children:"Send"})]})]})]})})}We.apps.length||We.initializeApp(Hh);const Rc=We.firestore(),V6=We.auth(),M6="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",Zs="llama";function L6(){const[i,e]=K.useState(!1),[t,n]=K.useState([]),[a,l]=K.useState(""),[c,d]=K.useState(()=>localStorage.getItem(`chatId_${Zs}`)||null),[m,g]=K.useState([]),y=K.useRef(null),E=K.useRef(null),[T,V]=K.useState(null);K.useEffect(()=>{const k=V6.onAuthStateChanged(P=>{P?(V(P.uid),console.log(P.uid)):(V(null),console.log("No user is signed in."))});return()=>k()},[]),K.useEffect(()=>{let k;(async()=>{if(c)k=Rc.collection("chats").doc("bots").collection(Zs).doc(c);else{const S=Rc.collection("chats").doc().id;localStorage.setItem(`chatId_${Zs}`,S),d(S),k=Rc.collection("chats").doc("bots").collection(Zs).doc(S),await k.set({botName:Zs,createdAt:We.firestore.FieldValue.serverTimestamp(),lastUpdated:We.firestore.FieldValue.serverTimestamp(),title:"New Chat",uuid:T})}E.current=k,n([{sender:"system",text:"Loading chat history...",type:"loading"}]);try{const S=await k.collection("messages").orderBy("timestamp","asc").get();if(S.empty)n([{sender:"bot",text:"Hello! How can I help you today?"}]);else{const x=S.docs.map(M=>M.data());n(x)}}catch(S){console.error("Error loading messages:",S),n([{sender:"bot",text:"Couldn't load previous messages."}])}try{const x=(await Rc.collection("chats").doc("bots").collection(Zs).orderBy("lastUpdated","desc").limit(20).get()).docs.map(M=>({id:M.id,title:M.data().title||"New Chat",uuid:M.data().uuid}));g(x)}catch(S){console.error("History error:",S),g([])}})()},[c,T]),K.useEffect(()=>{ye()},[t]);const L=async(k,P)=>{E.current&&(await E.current.collection("messages").add({sender:k,text:P,timestamp:We.firestore.FieldValue.serverTimestamp()}),await E.current.update({lastUpdated:We.firestore.FieldValue.serverTimestamp()}))},H=async k=>{if(!E.current)return;if((await E.current.collection("messages").get()).size===1){const S=k.length>30?k.substring(0,30)+"...":k;await E.current.update({title:S})}},F=async k=>{var x,M,B;const P=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${M6}`,"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/llama-3.3-8b-instruct:free",messages:[{role:"user",content:k}]})});if(!P.ok)throw new Error(`API failed with ${P.status}`);return((B=(M=(x=(await P.json()).choices)==null?void 0:x[0])==null?void 0:M.message)==null?void 0:B.content)??"No response received."},Z=async()=>{const k=a.trim();if(!k)return;l(""),n(S=>[...S,{sender:"user",text:k}]),await L("user",k),H(k);const P={sender:"bot",type:"typing"};n(S=>[...S,P]);try{const S=await F(k);n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:S}]),await L("bot",S)}catch(S){console.error(S),n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:"Sorry, I'm having trouble connecting to the AI service."}])}},ne=()=>{localStorage.removeItem(`chatId_${Zs}`),d(null),n([]),e(!0)},le=k=>{localStorage.setItem(`chatId_${Zs}`,k),d(k),n([]),e(!0)},Ee=async k=>{if(window.confirm("Are you sure you want to delete this chat?"))try{const P=Rc.collection("chats").doc("bots").collection(Zs).doc(k),S=await P.collection("messages").get(),x=Rc.batch();S.docs.forEach(z=>{x.delete(z.ref)}),await x.commit(),await P.delete();const B=(await Rc.collection("chats").doc("bots").collection(Zs).orderBy("lastUpdated","desc").limit(20).get()).docs.map(z=>({id:z.id,title:z.data().title||"New Chat",uuid:z.data().uuid}));g(B),e(!1),console.log("Chat successfully deleted!")}catch(P){console.error("Error removing chat: ",P)}},ye=()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)};return C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"d-flex",children:[C.jsx("div",{className:"flex-column bg-dark me-2 rounded-4",style:{height:"89vh"},children:C.jsxs("nav",{className:"nav flex-column",children:[C.jsxs("button",{id:"new-chat-btn",className:"btn btn-outline-light m-3",onClick:ne,children:[C.jsx("i",{className:"bi bi-plus-circle me-2"})," New Chat"]}),C.jsx("div",{className:"text-white text-center px-3 mt-1 mb-2 small",children:"Chat History"}),C.jsx("div",{id:"history-list",className:"d-flex flex-column m-3",children:m.filter(k=>k.uuid===T).map(k=>C.jsx("button",{className:`btn btn-outline-light history-item mb-3 ${k.id===c?"active":""}`,style:{width:"200px"},onClick:()=>le(k.id),children:k.title},k.id))})]})}),i&&C.jsxs("div",{className:"flex-column chat-container ms-2 vw-100",style:{height:"89vh"},children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Meta: Llama 3.3 8B Instruct"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages",ref:y,children:t.map((k,P)=>C.jsxs("div",{className:`message ${k.sender==="user"?"user-message":"bot-message"}`,children:[k.sender==="bot"&&k.type!=="typing"&&C.jsx("div",{className:"bot-identifier"}),k.type==="loading"?C.jsx("div",{className:"loading-message",children:k.text}):k.type==="typing"?C.jsxs("div",{className:"typing",children:[C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"})]}):C.jsx("div",{className:"message-content",children:k.text})]},P))}),C.jsxs("div",{className:"chat-input",children:[c&&C.jsx("button",{id:"delete-chat-button",className:"btn btn-outline-danger me-2",onClick:()=>Ee(c),children:C.jsx("i",{className:"bi bi-trash"})}),C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message...",value:a,onChange:k=>l(k.target.value),onKeyPress:k=>{k.key==="Enter"&&Z()}}),C.jsx("button",{id:"send-button",onClick:Z,children:"Send"})]})]})]})})}We.apps.length||We.initializeApp(Hh);const Cc=We.firestore(),U6=We.auth(),j6="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",ea="qwen";function B6(){const[i,e]=K.useState(!1),[t,n]=K.useState([]),[a,l]=K.useState(""),[c,d]=K.useState(()=>localStorage.getItem(`chatId_${ea}`)||null),[m,g]=K.useState([]),y=K.useRef(null),E=K.useRef(null),[T,V]=K.useState(null);K.useEffect(()=>{const k=U6.onAuthStateChanged(P=>{P?(V(P.uid),console.log(P.uid)):(V(null),console.log("No user is signed in."))});return()=>k()},[]),K.useEffect(()=>{let k;(async()=>{if(c)k=Cc.collection("chats").doc("bots").collection(ea).doc(c);else{const S=Cc.collection("chats").doc().id;localStorage.setItem(`chatId_${ea}`,S),d(S),k=Cc.collection("chats").doc("bots").collection(ea).doc(S),await k.set({botName:ea,createdAt:We.firestore.FieldValue.serverTimestamp(),lastUpdated:We.firestore.FieldValue.serverTimestamp(),title:"New Chat",uuid:T})}E.current=k,n([{sender:"system",text:"Loading chat history...",type:"loading"}]);try{const S=await k.collection("messages").orderBy("timestamp","asc").get();if(S.empty)n([{sender:"bot",text:"Hello! How can I help you today?"}]);else{const x=S.docs.map(M=>M.data());n(x)}}catch(S){console.error("Error loading messages:",S),n([{sender:"bot",text:"Couldn't load previous messages."}])}try{const x=(await Cc.collection("chats").doc("bots").collection(ea).orderBy("lastUpdated","desc").limit(20).get()).docs.map(M=>({id:M.id,title:M.data().title||"New Chat",uuid:M.data().uuid}));g(x)}catch(S){console.error("History error:",S),g([])}})()},[c,T]),K.useEffect(()=>{ye()},[t]);const L=async(k,P)=>{E.current&&(await E.current.collection("messages").add({sender:k,text:P,timestamp:We.firestore.FieldValue.serverTimestamp()}),await E.current.update({lastUpdated:We.firestore.FieldValue.serverTimestamp()}))},H=async k=>{if(!E.current)return;if((await E.current.collection("messages").get()).size===1){const S=k.length>30?k.substring(0,30)+"...":k;await E.current.update({title:S})}},F=async k=>{var x,M,B;const P=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${j6}`,"Content-Type":"application/json"},body:JSON.stringify({model:"qwen/qwen3-30b-a3b:free",messages:[{role:"user",content:k}]})});if(!P.ok)throw new Error(`API failed with ${P.status}`);return((B=(M=(x=(await P.json()).choices)==null?void 0:x[0])==null?void 0:M.message)==null?void 0:B.content)??"No response received."},Z=async()=>{const k=a.trim();if(!k)return;l(""),n(S=>[...S,{sender:"user",text:k}]),await L("user",k),H(k);const P={sender:"bot",type:"typing"};n(S=>[...S,P]);try{const S=await F(k);n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:S}]),await L("bot",S)}catch(S){console.error(S),n(x=>x.filter(M=>M.type!=="typing")),n(x=>[...x,{sender:"bot",text:"Sorry, I'm having trouble connecting to the AI service."}])}},ne=()=>{localStorage.removeItem(`chatId_${ea}`),d(null),n([]),e(!0)},le=k=>{localStorage.setItem(`chatId_${ea}`,k),d(k),n([]),e(!0)},Ee=async k=>{if(window.confirm("Are you sure you want to delete this chat?"))try{const P=Cc.collection("chats").doc("bots").collection(ea).doc(k),S=await P.collection("messages").get(),x=Cc.batch();S.docs.forEach(z=>{x.delete(z.ref)}),await x.commit(),await P.delete();const B=(await Cc.collection("chats").doc("bots").collection(ea).orderBy("lastUpdated","desc").limit(20).get()).docs.map(z=>({id:z.id,title:z.data().title||"New Chat",uuid:z.data().uuid}));g(B),e(!1),console.log("Chat successfully deleted!")}catch(P){console.error("Error removing chat: ",P)}},ye=()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)};return C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"d-flex",children:[C.jsx("div",{className:"flex-column bg-dark me-2 rounded-4",style:{height:"89vh"},children:C.jsxs("nav",{className:"nav flex-column",children:[C.jsxs("button",{id:"new-chat-btn",className:"btn btn-outline-light m-3",onClick:ne,children:[C.jsx("i",{className:"bi bi-plus-circle me-2"})," New Chat"]}),C.jsx("div",{className:"text-white text-center px-3 mt-1 mb-2 small",children:"Chat History"}),C.jsx("div",{id:"history-list",className:"d-flex flex-column m-3",children:m.filter(k=>k.uuid===T).map(k=>C.jsx("button",{className:`btn btn-outline-light history-item mb-3 ${k.id===c?"active":""}`,style:{width:"200px"},onClick:()=>le(k.id),children:k.title},k.id))})]})}),i&&C.jsxs("div",{className:"flex-column chat-container ms-2 vw-100",style:{height:"89vh"},children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Qwen: Qwen3 30B A3B"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages",ref:y,children:t.map((k,P)=>C.jsxs("div",{className:`message ${k.sender==="user"?"user-message":"bot-message"}`,children:[k.sender==="bot"&&k.type!=="typing"&&C.jsx("div",{className:"bot-identifier"}),k.type==="loading"?C.jsx("div",{className:"loading-message",children:k.text}):k.type==="typing"?C.jsxs("div",{className:"typing",children:[C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"}),C.jsx("span",{className:"dot"})]}):C.jsx("div",{className:"message-content",children:k.text})]},P))}),C.jsxs("div",{className:"chat-input",children:[c&&C.jsx("button",{id:"delete-chat-button",className:"btn btn-outline-danger me-2",onClick:()=>Ee(c),children:C.jsx("i",{className:"bi bi-trash"})}),C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message...",value:a,onChange:k=>l(k.target.value),onKeyPress:k=>{k.key==="Enter"&&Z()}}),C.jsx("button",{id:"send-button",onClick:Z,children:"Send"})]})]})]})})}function Zu(){const i=$g(),e=FE(),t=()=>{Sv(e).then(()=>{i("/sign-in")}).catch(a=>{console.error("Sign out error:",a),alert("Failed to sign out.")})},n=()=>{Sv(e).then(()=>{i("/sign-up")}).catch(a=>{console.error("Sign out error:",a),alert("Failed to sign out.")})};return C.jsx("div",{className:"header-sticky-top",children:C.jsx("header",{className:"app-header",children:C.jsxs("div",{className:"header-content-container",children:[C.jsx("div",{className:"header-left-section",children:C.jsx("div",{className:"header-logo-container",children:C.jsx("img",{src:"logo.png",alt:"Logo",className:"header-logo"})})}),C.jsx("div",{className:"header-center-section",children:C.jsx("h4",{children:"JaRo AI"})}),C.jsx("div",{className:"header-right-section",children:C.jsxs("div",{className:"header-auth-buttons",children:[C.jsx("button",{className:"auth-button success",onClick:t,children:"Sign In"}),C.jsx("button",{className:"auth-button dark",onClick:n,children:"Sign Up"})]})})]})})})}function eh(){return C.jsx("div",{className:"sidebar bg-dark collapsed",id:"sidebar",children:C.jsxs("nav",{className:"nav flex-column",children:[C.jsxs(Hr,{className:"nav-link",to:"/deephermes-signed-out",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-graph-up-arrow"})}),C.jsx("span",{className:"description",children:"Nous: DeepHermes"})]}),C.jsxs(Hr,{className:"nav-link",to:"/devstral-signed-out",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-plus-lg"})}),C.jsx("span",{className:"description",children:"Mistral: Devstral Small"})]}),C.jsxs(Hr,{className:"nav-link",to:"/gemma-signed-out",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-envelope"})}),C.jsx("span",{className:"description",children:"Google: Gemma"})]}),C.jsxs(Hr,{className:"nav-link",to:"/llama-signed-out",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-person"})}),C.jsx("span",{className:"description",children:"Meta: Llama"})]}),C.jsxs(Hr,{className:"nav-link",to:"/qwen-signed-out",children:[C.jsx("span",{className:"icon",children:C.jsx("i",{className:"bi bi-ticket"})}),C.jsx("span",{className:"description",children:"Qwen: Qwen3"})]})]})})}function $I(){return K.useEffect(()=>{const i=document.getElementById("chat-messages"),e=document.getElementById("user-input"),t=document.getElementById("send-button"),n="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",a=async()=>{const E=e.value.trim();if(E!==""){c(E),e.value="";const T=m();try{const V=await l(E);g(T),d(V)}catch(V){g(T),d("Sorry, I'm having trouble connecting to the AI service."),console.error("Error:",V)}}},l=async E=>{var L,H,F;const T=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"nousresearch/deephermes-3-mistral-24b-preview:free",messages:[{role:"user",content:E}]})});if(!T.ok)throw new Error(`API request failed with status ${T.status}`);return((F=(H=(L=(await T.json()).choices)==null?void 0:L[0])==null?void 0:H.message)==null?void 0:F.content)??"No response received."},c=E=>{const T=document.createElement("div");T.classList.add("message","user-message"),T.textContent=E,i.appendChild(T),y()},d=E=>{const T=document.createElement("div");T.classList.add("message","bot-message"),T.textContent=E,i.appendChild(T),y()},m=()=>{const E=document.createElement("div");return E.classList.add("message","bot-message","typing"),E.id="typing-indicator",E.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',i.appendChild(E),y(),E},g=E=>{E.remove()},y=()=>{i.scrollTop=i.scrollHeight};return t.addEventListener("click",a),e.addEventListener("keypress",function(E){E.key==="Enter"&&a()}),()=>{t.removeEventListener("click",a)}},[]),C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"chat-container",children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Nous: DeepHermes 3 Mistral 24B Preview"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages"}),C.jsxs("div",{className:"chat-input",children:[C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message..."}),C.jsx("button",{id:"send-button",children:"Send"})]})]})})}function z6(){return K.useEffect(()=>{const i=document.getElementById("chat-messages"),e=document.getElementById("user-input"),t=document.getElementById("send-button"),n="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",a=async()=>{const E=e.value.trim();if(E!==""){c(E),e.value="";const T=m();try{const V=await l(E);g(T),d(V)}catch(V){g(T),d("Sorry, I'm having trouble connecting to the AI service."),console.error("Error:",V)}}},l=async E=>{var L,H,F;const T=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"mistralai/devstral-small:free",messages:[{role:"user",content:E}]})});if(!T.ok)throw new Error(`API request failed with status ${T.status}`);return((F=(H=(L=(await T.json()).choices)==null?void 0:L[0])==null?void 0:H.message)==null?void 0:F.content)??"No response received."},c=E=>{const T=document.createElement("div");T.classList.add("message","user-message"),T.textContent=E,i.appendChild(T),y()},d=E=>{const T=document.createElement("div");T.classList.add("message","bot-message"),T.textContent=E,i.appendChild(T),y()},m=()=>{const E=document.createElement("div");return E.classList.add("message","bot-message","typing"),E.id="typing-indicator",E.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',i.appendChild(E),y(),E},g=E=>{E.remove()},y=()=>{i.scrollTop=i.scrollHeight};return t.addEventListener("click",a),e.addEventListener("keypress",function(E){E.key==="Enter"&&a()}),()=>{t.removeEventListener("click",a)}},[]),C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"chat-container",children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Mistral: Devstral Small"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages"}),C.jsxs("div",{className:"chat-input",children:[C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message..."}),C.jsx("button",{id:"send-button",children:"Send"})]})]})})}function F6(){return K.useEffect(()=>{const i=document.getElementById("chat-messages"),e=document.getElementById("user-input"),t=document.getElementById("send-button"),n="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",a=async()=>{const E=e.value.trim();if(E!==""){c(E),e.value="";const T=m();try{const V=await l(E);g(T),d(V)}catch(V){g(T),d("Sorry, I'm having trouble connecting to the AI service."),console.error("Error:",V)}}},l=async E=>{var L,H,F;const T=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"google/gemma-3n-e4b-it:free",messages:[{role:"user",content:E}]})});if(!T.ok)throw new Error(`API request failed with status ${T.status}`);return((F=(H=(L=(await T.json()).choices)==null?void 0:L[0])==null?void 0:H.message)==null?void 0:F.content)??"No response received."},c=E=>{const T=document.createElement("div");T.classList.add("message","user-message"),T.textContent=E,i.appendChild(T),y()},d=E=>{const T=document.createElement("div");T.classList.add("message","bot-message"),T.textContent=E,i.appendChild(T),y()},m=()=>{const E=document.createElement("div");return E.classList.add("message","bot-message","typing"),E.id="typing-indicator",E.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',i.appendChild(E),y(),E},g=E=>{E.remove()},y=()=>{i.scrollTop=i.scrollHeight};return t.addEventListener("click",a),e.addEventListener("keypress",function(E){E.key==="Enter"&&a()}),()=>{t.removeEventListener("click",a)}},[]),C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"chat-container",children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Google: Gemma 3n 4B"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages"}),C.jsxs("div",{className:"chat-input",children:[C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message..."}),C.jsx("button",{id:"send-button",children:"Send"})]})]})})}function q6(){return K.useEffect(()=>{const i=document.getElementById("chat-messages"),e=document.getElementById("user-input"),t=document.getElementById("send-button"),n="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",a=async()=>{const E=e.value.trim();if(E!==""){c(E),e.value="";const T=m();try{const V=await l(E);g(T),d(V)}catch(V){g(T),d("Sorry, I'm having trouble connecting to the AI service."),console.error("Error:",V)}}},l=async E=>{var L,H,F;const T=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/llama-3.3-8b-instruct:free",messages:[{role:"user",content:E}]})});if(!T.ok)throw new Error(`API request failed with status ${T.status}`);return((F=(H=(L=(await T.json()).choices)==null?void 0:L[0])==null?void 0:H.message)==null?void 0:F.content)??"No response received."},c=E=>{const T=document.createElement("div");T.classList.add("message","user-message"),T.textContent=E,i.appendChild(T),y()},d=E=>{const T=document.createElement("div");T.classList.add("message","bot-message"),T.textContent=E,i.appendChild(T),y()},m=()=>{const E=document.createElement("div");return E.classList.add("message","bot-message","typing"),E.id="typing-indicator",E.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',i.appendChild(E),y(),E},g=E=>{E.remove()},y=()=>{i.scrollTop=i.scrollHeight};return t.addEventListener("click",a),e.addEventListener("keypress",function(E){E.key==="Enter"&&a()}),()=>{t.removeEventListener("click",a)}},[]),C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"chat-container",children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Meta: Llama 3.3 8B Instruct"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages"}),C.jsxs("div",{className:"chat-input",children:[C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message..."}),C.jsx("button",{id:"send-button",children:"Send"})]})]})})}function H6(){return K.useEffect(()=>{const i=document.getElementById("chat-messages"),e=document.getElementById("user-input"),t=document.getElementById("send-button"),n="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",a=async()=>{const E=e.value.trim();if(E!==""){c(E),e.value="";const T=m();try{const V=await l(E);g(T),d(V)}catch(V){g(T),d("Sorry, I'm having trouble connecting to the AI service."),console.error("Error:",V)}}},l=async E=>{var L,H,F;const T=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"qwen/qwen3-30b-a3b:free",messages:[{role:"user",content:E}]})});if(!T.ok)throw new Error(`API request failed with status ${T.status}`);return((F=(H=(L=(await T.json()).choices)==null?void 0:L[0])==null?void 0:H.message)==null?void 0:F.content)??"No response received."},c=E=>{const T=document.createElement("div");T.classList.add("message","user-message"),T.textContent=E,i.appendChild(T),y()},d=E=>{const T=document.createElement("div");T.classList.add("message","bot-message"),T.textContent=E,i.appendChild(T),y()},m=()=>{const E=document.createElement("div");return E.classList.add("message","bot-message","typing"),E.id="typing-indicator",E.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',i.appendChild(E),y(),E},g=E=>{E.remove()},y=()=>{i.scrollTop=i.scrollHeight};return t.addEventListener("click",a),e.addEventListener("keypress",function(E){E.key==="Enter"&&a()}),()=>{t.removeEventListener("click",a)}},[]),C.jsx("main",{className:"main-content bg-light",children:C.jsxs("div",{className:"chat-container",children:[C.jsx("div",{className:"chat-header",children:C.jsx("h2",{children:"Qwen: Qwen3 30B A3B"})}),C.jsx("div",{className:"chat-messages",id:"chat-messages"}),C.jsxs("div",{className:"chat-input",children:[C.jsx("input",{type:"text",id:"user-input",placeholder:"Type your message..."}),C.jsx("button",{id:"send-button",children:"Send"})]})]})})}VN.createRoot(document.getElementById("root")).render(C.jsx(K.StrictMode,{children:C.jsxs(WD,{children:[C.jsxs(D0,{children:[C.jsx(Wi,{path:"/",element:C.jsxs(C.Fragment,{children:[C.jsx(Zu,{}),C.jsx(eh,{}),C.jsx($I,{})]})}),C.jsx(Wi,{path:"/deephermes-signed-out",element:C.jsxs(C.Fragment,{children:[C.jsx(Zu,{}),C.jsx(eh,{}),C.jsx($I,{})]})}),C.jsx(Wi,{path:"/devstral-signed-out",element:C.jsxs(C.Fragment,{children:[C.jsx(Zu,{}),C.jsx(eh,{}),C.jsx(z6,{})]})}),C.jsx(Wi,{path:"/gemma-signed-out",element:C.jsxs(C.Fragment,{children:[C.jsx(Zu,{}),C.jsx(eh,{}),C.jsx(F6,{})]})}),C.jsx(Wi,{path:"/llama-signed-out",element:C.jsxs(C.Fragment,{children:[C.jsx(Zu,{}),C.jsx(eh,{}),C.jsx(q6,{})]})}),C.jsx(Wi,{path:"/qwen-signed-out",element:C.jsxs(C.Fragment,{children:[C.jsx(Zu,{}),C.jsx(eh,{}),C.jsx(H6,{})]})})]}),C.jsxs(D0,{children:[C.jsx(Wi,{path:"/sign-in",element:C.jsx(rM,{})}),C.jsx(Wi,{path:"/sign-up",element:C.jsx(sM,{})}),C.jsx(Wi,{path:"/deephermes",element:C.jsxs(hf,{children:[C.jsx(df,{}),C.jsx(ff,{}),C.jsx(C6,{})]})}),C.jsx(Wi,{path:"/devstral",element:C.jsxs(hf,{children:[C.jsx(df,{}),C.jsx(ff,{}),C.jsx(D6,{})]})}),C.jsx(Wi,{path:"/gemma",element:C.jsxs(hf,{children:[C.jsx(df,{}),C.jsx(ff,{}),C.jsx(k6,{})]})}),C.jsx(Wi,{path:"/llama",element:C.jsxs(hf,{children:[C.jsx(df,{}),C.jsx(ff,{}),C.jsx(L6,{})]})}),C.jsx(Wi,{path:"/qwen",element:C.jsxs(hf,{children:[C.jsx(df,{}),C.jsx(ff,{}),C.jsx(B6,{})]})})]})]})}));
